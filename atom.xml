<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:webfeeds="http://webfeeds.org/rss/1.0">
  <title>è¤ç«ä¹‹æ£®</title>
  <icon>http://frankorz.com/imgs/favicon.ico</icon>
  <subtitle>å„ç§çŸ¥è¯†ç«ç§~</subtitle>
  <link href="http://frankorz.com/atom.xml" rel="self"/>
  <link href="https://pubsubhubbub.appspot.com/" rel="hub"/>
  <link href="http://frankorz.com/"/>
  <updated>2022-12-28T14:49:25.000Z</updated>
  <id>http://frankorz.com/</id>
  
  <author>
    <name>çŒ«å†¬</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>

 <webfeeds:cover image="https://cdn.jsdelivr.net/gh/Latias94/blog-images@main/top/frankorz/blog/imgshead.png" />
 <webfeeds:icon>https://cdn.jsdelivr.net/gh/latias94/blog-images@main/top/frankorz/blog/imgsfavicon.png</webfeeds:icon>
 <webfeeds:logo>https://cdn.jsdelivr.net/gh/latias94/blog-images@main/top/frankorz/blog/imgsfavicon.png</webfeeds:logo>
 <webfeeds:accentColor>0abab5</webfeeds:accentColor>
 <webfeeds:related layout="card" target="browser"/>

  
  <entry>
    <title>Rust å­¦ä¹ èµ„æº</title>
    <link href="http://frankorz.com/2022/01/18/rust-study-resource/"/>
    <id>http://frankorz.com/2022/01/18/rust-study-resource/</id>
    <published>2022-01-18T14:01:44.000Z</published>
    <updated>2022-12-28T14:49:25.000Z</updated>
    
    <content type="html"><![CDATA[<p>åšä¸»å‘ç°å’¸é±¼å’¸é±¼ç€å±…ç„¶åˆ° 2022 å¹´äº†ï¼Œå¿½ç„¶è‰¯å¿ƒä¸å®‰ï¼Œå› æ­¤å…ˆä»è¿™ç¯‡æ¯”è¾ƒæ°´çš„èµ„æºæ€»ç»“å¼€å§‹å§ï¼</p><p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ€»ç»“ä¸‹å­¦ Rust å‚è€ƒè¿‡çš„èµ„æ–™ï¼Œä¼šéšç€åšä¸»å¯¹ Rust çš„å…³æ³¨éšç¼˜æ›´æ–°ã€‚</p><span id="more"></span><ul><li>æ›´æ–°æ—¥å¿—<br>2022/12/28 æ–°å¢ <a href="https://misterdanb.github.io/raytracinginrust/">Ray Tracing in One Week</a><br>2022/12/27 æ–°å¢ <a href="https://skyzh.github.io/mini-lsm/">LSM in a week</a><br>2022/12/25 æ–°å¢ <a href="https://tfpk.github.io/macrokata">tfpk/macrokata</a><br>2022/12/22 æ–°å¢ <a href="https://google.github.io/comprehensive-rust/welcome.html">Comprehensive Rust</a><br>2022/12/06 æ–°å¢ <a href="https://github.com/night-cruise/async-rust">night-cruise/async-rust</a><br>2022/11/28 æ–°å¢ <a href="https://smallcultfollowing.com/babysteps/">ã€Šdyn async traitsã€‹ç³»åˆ—</a> <a href="https://zjp-cn.github.io/translation/dyn-async-traits.html">ä¸­æ–‡ç‰ˆ</a><br>2022/11/28 æ–°å¢ <a href="https://rust-hosted-langs.github.io/book/introduction.html">Writing Interpreters in Rust: a Guide</a> <a href="https://www.bitfalter.com/webassembly-compiler-text-format-and-ast">WebAssembly Compiler</a><br>2022/11/15 æ–°å¢ <a href="https://pku-minic.github.io/online-doc/#/">åŒ—äº¬å¤§å­¦ç¼–è¯‘åŸç†è¯¾ç¨‹åœ¨çº¿æ–‡æ¡£</a>, <a href="https://github.com/jondot/rust-how-do-i-start">jondot/rust-how-do-i-start</a><br>2022/11/13 æ–°å¢ <a href="https://www.jendrikillner.com/tags/rust/page/2/">Rust Game Series</a><br>2022/10/17 æ–°å¢ <a href="https://github.com/smallnest/concurrency-programming-via-rust">smallnest/concurrency-programming-via-rust ã€ŠRust å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ã€‹</a><br>2022/09/26 æ–°å¢ <a href="https://jinleili.github.io/learn-wgpu-zh/">Learn wgpu ä¸­æ–‡ç‰ˆ</a>, <a href="https://kylemayes.github.io/vulkanalia/introduction.html">Vulkan Tutorial(Rust)</a><br>2022/08/24 æ–°å¢ <a href="https://github.com/awesome-kusion/rust-code-book">Rust æºç å‰–æ ä¸­æ–‡ç‰ˆ</a><br>2022/08/24 æ–°å¢ <a href="https://github.com/Boshen/javascript-parser-in-rust">Boshen/javascript-parser-in-rust</a> <a href="https://litchipi.github.io/series/container_in_rust">Writing a container in Rust</a><br>2022/07/05 æ–°å¢ <a href="https://www.youtube.com/watch?v=rDoqT-a6UFg">Visualizing memory layout of Rustâ€™s data types</a> <a href="https://learningos.github.io/rust-based-os-comp2022/">2022å¹´å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥</a></li></ul><h2 id="åŸºç¡€">åŸºç¡€</h2><ul><li><a href="http://rust-lang.github.io/book/">The Rust Programming Language</a><ul><li>å ªç§° Rust çš„ â€œThe Bookâ€ï¼Œæ˜¯ç›®å‰æœ€æƒå¨çš„ Rust ç³»ç»Ÿæ•™ç¨‹ï¼Œå…¥é—¨å¿…è¯»ï¼Œæœ€è¿‘ä¹Ÿæ›´æ–°åˆ°äº† 2021 ç‰ˆæœ¬ã€‚</li><li><a href="https://kaisery.github.io/trpl-zh-cn/title-page.html">ä¸­æ–‡ç‰ˆ(ç»å¸¸æ›´æ–°)</a> <a href="https://rustwiki.org/zh-CN/book/">rustwiki ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://rustwiki.org/zh-CN/rust-by-example/">Rust by Example</a><ul><li>å®ä¾‹åŒ–çš„è®²è§£æ–¹æ³•ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªå¯å®é™…è¿è¡Œçš„ä¾‹å­å»ä»‹ç» Rust çš„ç‰¹æ€§å’Œç”¨æ³•ï¼Œæœ‰çš„æ—¶å€™ï¼Œä»£ç æ˜¯æœ€å¥½çš„è€å¸ˆã€‚</li><li><a href="https://rustwiki.org/zh-CN/rust-by-example/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://github.com/rustcc/RustPrimer">The Rust primer for beginners</a><ul><li>ç»™åˆå­¦è€…çš„ Rust ä¸­æ–‡æ•™ç¨‹ã€‚</li></ul></li><li><a href="https://rust-book.junmajinlong.com/about.html">Rustå…¥é—¨ç§˜ç±</a><ul><li>è¿™æ˜¯ä¸€æœ¬ Rust çš„å…¥é—¨ä¹¦ç±ï¼Œç›¸æ¯”å®˜æ–¹ä¹¦ç±ã€ŠThe Rust Programming Languageã€‹ï¼Œæœ¬ä¹¦è¦æ›´è¯¦ç»†ã€æ›´å…·ç³»ç»Ÿæ€§ï¼Œæœ¬ä¹¦ä¹Ÿå°½é‡è¿½æ±‚å‡†ç¡®æ€§ã€‚</li></ul></li><li><a href="https://docs.microsoft.com/en-gb/learn/paths/rust-first-steps/">Rust First Steps</a><ul><li>å¾®è½¯çš„ Rust æ•™ç¨‹ï¼Œç®€çŸ­ç²¾ç‚¼ï¼Œé€‚åˆåˆå­¦è€…ã€‚</li><li><a href="https://docs.microsoft.com/zh-cn/learn/paths/rust-first-steps/">å®˜æ–¹ä¸­æ–‡</a></li></ul></li><li><a href="https://rust-lang-nursery.github.io/rust-cookbook/">Rust Cookbook</a><ul><li>Rust ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆ<a href="https://rustwiki.org/zh-CN/book">Rust å®˜æ–¹æ•™ç¨‹ç®€ä½“ä¸­æ–‡ç‰ˆ</a>ï¼‰çš„ç®€è¦å®ä¾‹ç¤ºä¾‹é›†åˆï¼šå±•ç¤ºäº†åœ¨ Rust ç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨å„ç±» crate æ¥å®Œæˆå¸¸è§ç¼–ç¨‹ä»»åŠ¡çš„è‰¯å¥½å®è·µã€‚</li><li><a href="https://rustwiki.org/zh-CN/rust-cookbook/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://github.com/rust-lang/rustlings">Rustlings</a><ul><li>å®˜æ–¹å‡ºå“ï¼Œæ¶µç›–å¤§é‡å°ç»ƒä¹ ï¼Œæ‰“æ€ªé€šå…³å­¦ä¹  Rustã€‚</li><li>Jetbrains IDE å¯ä»¥ç›´æ¥<a href="https://plugins.jetbrains.com/plugin/16631-rustlings">ä¸‹è½½è¯¾ç¨‹</a>ï¼Œç¼–è¾‘å™¨å†…å†™ä»£ç åšç»ƒä¹ ã€‚</li></ul></li><li><a href="https://rust-unofficial.github.io/too-many-lists/index.html">Learning Rust With Entirely Too Many Linked Lists</a><ul><li>é€šè¿‡å†™åŒé“¾è¡¨æ¥å­¦ä¹  Rust</li></ul></li><li><a href="https://readrust.net/getting-started">Read Rust - Getting Started</a><ul><li><a href="https://readrust.net/">Read Rust</a> æ˜¯ä¸€ä¸ªé›†åˆäº†æœ‰ä»·å€¼çš„ Rust æ–‡ç« /åšå®¢çš„ç½‘ç«™ï¼Œå…¶ä¸­ <a href="https://readrust.net/getting-started">Getting Started</a> éƒ¨åˆ†æœ‰å„ç§ Rust çŸ¥è¯†ç‚¹ç›¸å…³çš„ååˆ†ä¼˜ç§€çš„æ–‡ç« ã€‚</li></ul></li><li><a href="https://reberhardt.com/cs110l/spring-2020/handouts/course-information/">Stanford CS 110Lï¼šSafety in Systems Programming</a><ul><li>This class is focused on safety and robustness in systems programming. We will use the Rust programming language as a vehicle to teach mental models and paradigms that have been shown to be helpful in preventing errors, and we will look at how these features have made their way back into C++.</li><li><a href="https://www.bilibili.com/video/BV1Ra411A7kN">2020 å¹´è¯¾ç¨‹çš„ B ç«™ä¸­æ–‡å­—å¹•ç‰ˆ</a></li><li><a href="https://reberhardt.com/cs110l/spring-2021/">2021 å¹´è¯¾ç¨‹ä¸»é¡µ</a>ã€<a href="https://web.stanford.edu/class/cs110l/">2022 å¹´è¯¾ç¨‹ä¸»é¡µ</a></li></ul></li><li>Rust è¯­è¨€åœ£ç»(Rust æ•™ç¨‹ Rust Course)<ul><li><a href="https://github.com/sunface/rust-course">rust-course</a> å›½äººå†™çš„ Rust æ•™ç¨‹ï¼Œå¯¹Rustè¯­è¨€è¿›è¡Œå…¨é¢ä¸”æ·±å…¥çš„è®²è§£ï¼Œä¹¦ä¸­è¾…ä»¥ç”ŸåŠ¨çš„ç¤ºä¾‹å’Œä¹ é¢˜ã€‚</li></ul></li><li><a href="https://rust.purewhite.io/">Rust å®˜æ–¹æ–‡æ¡£ä¸­æ–‡æ•™ç¨‹</a><ul><li><a href="https://github.com/rust-lang-cn">rust-lang-cn ç»„ç»‡</a>ç¿»è¯‘çš„å®˜æ–¹æ–‡æ¡£ï¼Œå¦å¤–è¿™ä¸ªç»„ç»‡ä¹Ÿç¿»è¯‘äº†å¾ˆå¤š Rust ç›¸å…³çš„ä¹¦ç±ã€‚</li></ul></li><li><a href="https://www.youtube.com/watch?v=rDoqT-a6UFg">Visualizing memory layout of Rustâ€™s data types</a><ul><li>å¯è§†åŒ–äº† Rust çš„ç±»å‹åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼Œå…¥é—¨å¿…çœ‹ã€‚</li></ul></li><li><a href="https://rust-guide.budshome.com/">Rust å®è·µæŒ‡å—</a><ul><li><a href="https://github.com/zzy/rust-guide">zzy/rust-guide</a> ã€ŠRust å®è·µæŒ‡å—ã€‹ï¼Œèšç„¦é‡è¦çš„ä¸»é¢˜ï¼Œå±•ç¤ºå¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚ä»¥å¼€å‘ä¸­çš„å®é™…é—®é¢˜ä¸ºå¯¼å‘ï¼Œä»¥ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆä¸ºç›®æ ‡ï¼Œä»¥å®Œæ•´çš„å®ä¾‹å®è·µè§£å†³æ–¹æ¡ˆã€‚</li></ul></li><li><a href="https://google.github.io/comprehensive-rust/welcome.html">Comprehensive Rust</a><ul><li>Google Android å›¢é˜Ÿçš„å››å¤© Rust æ•™ç¨‹ã€‚</li></ul></li><li><a href="https://space.bilibili.com/361469957/video">Bilibiliï¼šè½¯ä»¶å·¥è‰ºå¸ˆ</a><ul><li>å¾®è½¯ MVPï¼Œåšäº†ä¸å°‘ C#ã€Goã€Rust çš„æ•™ç¨‹ï¼Œå…¶ä¸­ Rust ç›¸å…³çš„æœ‰ <a href="https://www.bilibili.com/video/BV1hp4y1k7SV">Rustç¼–ç¨‹è¯­è¨€å…¥é—¨æ•™ç¨‹</a> å’Œ <a href="https://www.bilibili.com/video/BV1RP4y1G7KF">Rust Web å…¨æ ˆå¼€å‘æ•™ç¨‹</a></li></ul></li><li><a href="https://cheats.rs/">Rust Language Cheat Sheet</a></li><li><a href="https://quickref.me/rust">quickref.me Rust cheatsheet</a><ul><li><a href="http://quickref.me">quickref.me</a>Â æ˜¯ä¸€ä¸ªæ±‡èšäº†å¤§éƒ¨åˆ†è¯­è¨€çš„è¯­æ³•ç´¢å¼•é¡µ, å…¶ä¸­ä¹ŸåŒ…å«äº† Rust, å¯ä»¥å¸®åŠ©å¤§å®¶å¿«é€Ÿæ‰¾åˆ°æƒ³ç”¨çš„è¯­æ³•ã€‚</li></ul></li><li><a href="https://github.com/rust-lang/api-guidelines">rust-lang/api-guidelines</a><ul><li><a href="https://zjp-cn.github.io/api-guidelines/about.html">ä¸­æ–‡ç‰ˆï¼šRust API ç¼–å†™æŒ‡å—</a> è¿™æ˜¯ä¸€ç»„å…³äºå¦‚ä½•è®¾è®¡å’Œå‘ˆç° Rust APIs çš„å»ºè®®ã€‚ è¿™äº›å»ºè®®ä¸»è¦ç”± Rust library å›¢é˜Ÿç¼–å†™ï¼Œ æ€»ç»“äº† Rust ç”Ÿæ€ä¸‹æ„å»ºæ ‡å‡†åº“å’Œå…¶ä»– crates çš„ç»éªŒã€‚</li></ul></li><li><a href="https://blog.fudenglong.site/Programming-Rust/">ã€ŠProgramming Rust, 2nd Editionã€‹ç®€å•çš„ç¿»è¯‘</a><ul><li>ç¬¬ä¸€ç‰ˆå›¾çµç¤¾åŒºæœ‰ç¿»è¯‘ï¼š<a href="https://www.ituring.com.cn/book/2101">Rustç¨‹åºè®¾è®¡</a>ï¼Œç¬¬äºŒç‰ˆå¤šäº†ä¸¤ç« ï¼Œå¯ä»¥è€ƒè™‘ä¹°ç¬¬ä¸€ç‰ˆçš„ç”µå­ç‰ˆ pdfã€‚</li></ul></li><li><a href="https://github.com/rustlang-cn/Rustt">rustlang-cn/Rustt</a><ul><li>RustCn ç¿»è¯‘è®¡åˆ’ï¼Œç¿»è¯‘ä¸€äº› Rust çš„æŠ€æœ¯æ–‡ç« ã€‚</li></ul></li><li><a href="https://github.com/suhanyujie/article-transfer-rs/">suhanyujie/article-transfer-rs</a><ul><li>ä¸€äº› Rust/Go æ–‡ç« ç¿»è¯‘</li></ul></li></ul><h2 id="è¿›é˜¶">è¿›é˜¶</h2><ul><li><a href="https://doc.rust-lang.org/std/index.html">Rust Standard Library Reference</a></li><li><a href="https://doc.rust-lang.org/reference/index.html">The Rust Reference</a><ul><li>Rust è¯­è¨€çš„ reference manualï¼Œä½ åº”è¯¥æ”¶è—å¥½ï¼Œä»¥ä¾¿äºåœ¨å¯¹æŸä¸ªè¯­è¨€ç»†èŠ‚ä¸æ¸…æ¥šæ—¶åœ¨è¿™é‡Œè¿›è¡ŒæŸ¥é˜…ã€‚</li><li><a href="https://rustwiki.org/zh-CN/reference/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://doc.rust-lang.org/nightly/unstable-book/index.html">The unsafe Book</a></li><li><a href="https://doc.rust-lang.org/nomicon/">The Rustonomicon</a><ul><li>Rust æ­»çµä¹¦ä¸»è¦è®² Rust é«˜çº§ç‰¹æ€§ï¼Œå¦‚ä½•ä½¿ç”¨ unsafe Rustã€‚</li><li><a href="https://nomicon.purewhite.io/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://veykril.github.io/tlborm/introduction.html">The Little Book of Rust Macros</a><ul><li>å¯¹äº Rust å®æœ‰è¯¦ç»†çš„è®²è§£ï¼Œé‡Œé¢çš„æ³¨é‡Šå¾ˆå…¨é¢ã€‚</li><li><a href="https://zjp-cn.github.io/tlborm/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://github.com/night-cruise/async-rust">night-cruise/async-rust</a><ul><li>ä»‹ç» Rust ä¸­ async/await è¯­æ³•å’Œå¼‚æ­¥è¿è¡Œæ—¶çš„åŸç†å’Œå·¥ä½œæœºåˆ¶çš„ç”µå­ä¹¦</li></ul></li><li><a href="https://smallcultfollowing.com/babysteps/">ã€Šdyn async traitsã€‹ç³»åˆ—</a><ul><li>Niko æ˜¯ Rust è¯­è¨€è¯¸å¤šç‰¹æ€§çš„è®¾è®¡è€…ï¼ˆæ¯”å¦‚ NLLï¼‰ã€‚è¿™ä¸ªç³»åˆ—ä¸»è¦æ¢ç´¢åœ¨ trait ä¸­æ”¯æŒ async fnï¼Œå› æ­¤ä¸»è¦èšç„¦äºæ€è·¯æ¢³ç†ä¸åŸå‹è®¾è®¡ã€‚</li><li><a href="https://zjp-cn.github.io/translation/dyn-async-traits.html">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://github.com/smallnest/concurrency-programming-via-rust">smallnest/concurrency-programming-via-rust ã€ŠRust å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ã€‹</a><ul><li>ã€ŠGo å¹¶å‘ç¼–ç¨‹å®æˆ˜è¯¾ã€‹çš„ä½œè€…é¸Ÿçªç³»ç»Ÿæ•´ç†çš„ Rust çš„å¹¶å‘ç¼–ç¨‹çš„ç›¸å…³èµ„æ–™ã€‚ä¸»è¦æ˜¯ä»å…¥é—¨å…¥æ‰‹ï¼Œè®©å¤§å®¶äº†è§£å’Œç†Ÿæ‚‰è¿™äº›å¹¶å‘åŸè¯­ï¼Œåœ¨å·¥ä½œä¸­ç”¨èµ·æ¥ã€‚</li><li>å¦å¤–ï¼Œmouse å§å§ä¹Ÿæœ‰ç›¸å…³çš„ä¹¦å°†è¦å‡ºç‰ˆ<a href="https://www.amazon.com/Rust-Atomics-Locks-Low-Level-Concurrency/dp/1098119444">ã€ŠRust Atomics and Locks: Low-Level Concurrency in Practiceã€‹</a>ã€‚</li></ul></li><li><a href="https://rust-lang.github.io/async-book/01_getting_started/01_chapter.html">Asynchronous Programming in Rust</a><ul><li><a href="https://github.com/bestgopher/rust-async-book">ä¸æ˜¯å¾ˆæ–°çš„ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://locka99.gitbooks.io/a-guide-to-porting-c-to-rust/content/">A Guide to Porting C/C++ to Rust</a></li><li><a href="https://jakegoulding.com/rust-ffi-omnibus">The Rust FFI Omnibus</a><ul><li>ä½¿ç”¨ Rust ç¼–å†™ä»£ç ç”¨åˆ°å…¶ä»–è¯­è¨€çš„ç¤ºä¾‹é›†åˆ.</li><li><a href="http://llever.com/rust-ffi-omnibus/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://www.youtube.com/channel/UC_iD0xppBwwsrM9DegC5cQQ">Jon Gjengset YouTube Channel</a>Â (<a href="https://www.youtube.com/watch?v=rAl-9HwD858&amp;list=PLqbS7AVVErFiWDOAVrPt7aYmnuuOLYvOa">Crust of Rust Playlist</a>)</li><li><a href="https://rust-unofficial.github.io/patterns/">Rust Design Patterns</a><ul><li>æœ‰è®¸å¤šé—®é¢˜å…·æœ‰å…±åŒçš„å½¢å¼ã€‚ç”±äºäº‹å®ä¸Š Rust å¹¶ä¸å®Œå…¨æ˜¯é¢å‘å¯¹è±¡çš„ï¼Œè®¾è®¡æ¨¡å¼ä¹Ÿä¸å…¶ä»–é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸åŒã€‚ ç»†èŠ‚ä¸åŒçš„åŒæ—¶ï¼Œå› ä¸ºä»–ä»¬æœ‰ç›¸åŒçš„å½¢å¼ï¼Œä»–ä»¬å¯ä»¥ç”¨åŒæ ·çš„åŸºæœ¬æ–¹æ³•è§£å†³ã€‚</li><li><a href="http://chuxiuhong.com/chuxiuhong-rust-patterns-zh/">ä¸­æ–‡ç‰ˆ</a></li></ul></li><li><a href="https://nnethercote.github.io/perf-book/introduction.html">The Rust Performance Book</a><ul><li>ä»‹ç»å¾ˆå¤šä¼˜åŒ– Rust ç¨‹åºæ€§èƒ½çš„å·¥å…·ã€æŠ€å·§ã€è°ƒè¯•æ–¹æ³•ç­‰æ–¹é¢çš„ä¹¦ã€‚</li></ul></li><li><a href="https://github.com/QMHTMY/RustBook">Problem-solving with algorithms and data structures using Rust</a><ul><li>å›½äººå†™çš„ä¸€æœ¬ Rust ä¹¦ç±ï¼ŒåŒ…æ‹¬ç®—æ³•åˆ†æï¼ŒåŸºæœ¬æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¤–åŠ ä¸€äº›å®æˆ˜ã€‚</li></ul></li><li><a href="https://github.com/awesome-kusion/rust-code-book">Rust æºç å‰–æ ä¸­æ–‡ç‰ˆ</a><ul><li>å›½äººå†™çš„ä¸€æœ¬ Rust ä¹¦ç±ï¼Œé’ˆå¯¹ Rust è¯­è¨€æœ¬èº«å’Œå¼€æºåº“çš„ä»£ç è¿›è¡Œåˆ†æã€‚</li></ul></li><li><a href="https://github.com/dtolnay/case-studies">dtolnay/case-studies</a><ul><li>dtolnay æ˜¯ anyhow, thiserror, cxx ç­‰åº“çš„ä½œè€…ï¼Œè¿™æ˜¯ä»–å¯¹ä¸€äº› tricky Rust code çš„åˆ†æã€‚</li></ul></li><li><a href="https://space.bilibili.com/275673537">Bilibiliï¼šDatabend</a><ul><li>Databend ç¤¾åŒºæŒç»­åšäº†ä¸å°‘ Rust çš„å…¬å¼€è¯¾ã€‚<a href="https://github.com/wubx/rust-in-databend/">ä»“åº“åœ°å€</a></li></ul></li><li><a href="https://space.bilibili.com/500416539/">Bilibiliï¼šçˆ†ç±³èŠ±èƒ¡äº†</a><ul><li>è¿™ä¸ª up ä¸»åšäº†å¾ˆå¤š Rust è¿‡ç¨‹å®çš„è§†é¢‘æ•™ç¨‹ã€‚</li></ul></li><li><a href="https://space.bilibili.com/39222989">Bilibiliï¼šå–œæ¬¢å†å²çš„ç¨‹åºå›</a><ul><li>é™ˆå¤©åœ¨æå®¢æ—¶é—´å¼€äº†é—¨ Rust çš„è¯¾ï¼ŒåŒæ—¶ä¹Ÿåœ¨æŒç»­è¾“å‡ºä¸€äº› Rust è§†é¢‘æ•™ç¨‹ã€‚</li></ul></li><li><a href="https://www.youtube.com/playlist?list=PL5aMzERQ_OZ9j40DJNlsem2qAGoFbfwb4">KAIST CS431: Concurrent Programming</a>  <a href="https://github.com/kaist-cp/cs431">Github repo</a><ul><li>æœ¬è¯¾ç¨‹é¢å‘å¯¹å¹¶è¡Œè®¡ç®—æœºç³»ç»Ÿçš„ç°ä»£ç†è®ºå’Œå®è·µæ„Ÿå…´è¶£çš„è®¡ç®—æœºç§‘å­¦ï¼ˆæˆ–ç›¸å…³å­¦ç§‘ï¼‰çš„é«˜å¹´çº§æœ¬ç§‘ç”Ÿï¼ˆæˆ–ç ”ç©¶ç”Ÿï¼‰ã€‚</li></ul></li><li><a href="https://www.chiark.greenend.org.uk/~ianmdlvl/rust-polyglot/index.html">Rust for the Polyglot Programmer</a><ul><li>é¢å¯¹æœ‰ç»éªŒçš„ç¨‹åºå‘˜çš„ Rust æŒ‡å—ã€‚</li></ul></li><li><a href="https://highassurance.rs/landing.html">High Assurance Rust: Developing Secure and Robust Software</a><ul><li>æœ¬ä¹¦ä»‹ç»äº†å¦‚ä½•æ„å»ºæˆ‘ä»¬å¯ä»¥åˆç†ä¿¡ä»»(justifiably trust)çš„é«˜æ€§èƒ½è½¯ä»¶ã€‚è¿™æ„å‘³ç€æœ‰è¶³å¤Ÿçš„æ•°æ®æ¥æ”¯æŒå¯¹æˆ‘ä»¬ä»£ç çš„åŠŸèƒ½å’Œå®‰å…¨æ€§çš„ä¿¡å¿ƒã€‚å¯ä¿¡æ€§æ˜¯é«˜å®‰å…¨æ€§(high assurance)è½¯ä»¶çš„ä¸€ä¸ªæ ‡å¿—ã€‚</li></ul></li><li><a href="https://github.com/Warrenren/inside-rust-std-library">Warrenren/inside-rust-std-library</a><ul><li>æœ¬ä¹¦ä¸»è¦å¯¹ Rust çš„æ ‡å‡†åº“ä»£ç è¿›è¡Œåˆ†æã€‚æŒ‰ç…§å†…å­˜ç›¸å…³ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œops Trait, Option ç±»å‹ï¼ŒResult ç±»å‹ï¼ŒIteratorï¼Œåˆ‡ç‰‡ç±»å‹ï¼Œæ™ºèƒ½æŒ‡é’ˆç±»å‹ç­‰é€ä¸€è¿›è¡Œæºç åˆ†æã€‚</li></ul></li></ul><h2 id="æœ‰æ½œåŠ›çš„æ•™ç¨‹">æœ‰æ½œåŠ›çš„æ•™ç¨‹</h2><ul><li><a href="https://www.youtube.com/watch?v=xOgdaL6A_AY&amp;list=PL-zQguBgjr2O4d-B9g_b0WYh1fyXr6MMq">Rust 101 Lecture Series</a><ul><li>ä¸ä¼¦æ•¦å¸å›½ç†å·¥å­¦é™¢è®¡ç®—ç¤¾ä¼šç³»åˆä½œçš„ Rust ç³»åˆ—è®²åº§</li><li><a href="https://www.reddit.com/r/rust/comments/smt5ef/rust_lecture_series_with_imperial_college_londons/">Rust Lecture Series with Imperial College Londonâ€™s Department of Computing Society</a></li></ul></li><li><a href="https://lurklurk.org/effective-rust/intro.html">Effective Rust</a></li></ul><h2 id="ç»ƒä¹ å®æˆ˜çš„å°é¡¹ç›®">ç»ƒä¹ å®æˆ˜çš„å°é¡¹ç›®</h2><ul><li><a href="https://www.zhihu.com/question/34665842">çŸ¥ä¹-å­¦ä¹ Rusté€‚åˆå†™ä»€ä¹ˆç»ƒæ‰‹é¡¹ç›®ï¼Ÿ</a></li><li><a href="https://exercism.org/tracks/rust/exercises">Exercism.io</a></li><li><a href="https://github.com/course-rs/tokio-course">course-rs/tokio-course</a><ul><li>ã€ŠTokio å¼‚æ­¥ç¼–ç¨‹ã€‹ç¿»è¯‘å¹¶æ‰©å±•äº† tokio å®˜ç½‘çš„æ•™ç¨‹ï¼Œ æ·±å…¥è®²è¿°äº†å¦‚ä½•ç¼–å†™ Rust é«˜å¹¶å‘å¼‚æ­¥ç¨‹åº</li></ul></li><li><a href="https://github.com/cfsamson?tab=repositories&amp;q=&amp;type=source&amp;language=&amp;sort=stargazers">Github: cfsamson</a><ul><li>è¿™å“¥ä»¬å–œæ¬¢ç”¨ Rust å®ç°ä¸€äº›å°ä¾‹å­å¦‚ï¼šFuturesã€greenthreadsã€asyncã€epoll ç­‰ã€‚</li></ul></li><li><a href="https://skyzh.github.io/mini-lsm/">LSM in a week</a> [2022.12]<ul><li>Build a simple LSM-Tree storage engine in Rust. <a href="https://github.com/skyzh/mini-lsm">Github</a></li></ul></li><li><a href="https://tfpk.github.io/macrokata">tfpk/macrokata</a> [2022.12]<ul><li>MacroKata, a set of exercises which you can use to learn how to write macros in Rust. <a href="https://github.com/tfpk/macrokata">Github</a></li></ul></li><li><a href="https://rust-hosted-langs.github.io/book/introduction.html">Writing Interpreters in Rust: a Guide</a> [2022.11]<ul><li>ç”¨ Rust å†™è§£é‡Šå™¨ï¼Œ<a href="https://github.com/rust-hosted-langs/book">ä»“åº“</a></li></ul></li><li><a href="https://github.com/Boshen/javascript-parser-in-rust">Boshen/javascript-parser-in-rust</a> [2022.08]<ul><li>A book on writing a JavaScript Parser in Rust</li></ul></li><li><a href="https://learningos.github.io/rust-based-os-comp2022/">2022å¹´å¼€æºæ“ä½œç³»ç»Ÿè®­ç»ƒè¥</a> [2022.07]<ul><li>æ•™ç¨‹å…±åˆ†ä¸ºå…«ç« ï¼Œä¸»è¦å±•ç¤ºå¦‚ä½•ä»é›¶å¼€å§‹ï¼Œç”¨ Rust è¯­è¨€å†™ä¸€ä¸ªåŸºäº RISC-V æ¶æ„çš„ç±» Unix å†…æ ¸ã€‚</li></ul></li><li><a href="https://pku-minic.github.io/online-doc/#/">åŒ—äº¬å¤§å­¦ç¼–è¯‘åŸç†è¯¾ç¨‹åœ¨çº¿æ–‡æ¡£</a> [2022.06]<ul><li>ä½œè€… MaxXSoft æ˜¯æœ¬ç§‘ç¼–è¯‘åŸç†è¯¾ç¨‹çš„åŠ©æ•™ã€‚ä¸ºäº†è®©æœ¬ç§‘ç”Ÿæ›´å¥½åœ°ç†è§£ç¼–è¯‘å™¨å·¥ä½œçš„åŸç†ï¼Œåœ¨å‚è€ƒå¤šä¸ªå…¶ä»–æ•™ç¨‹ä¹‹åï¼Œä»–è®¾è®¡äº†ä¸€å¥—å…¨æ–°çš„ï¼Œæ•™ä½ ä»é›¶å¼€å§‹å†™ä¸ªç¼–è¯‘å™¨çš„æ•™ç¨‹ã€‚</li><li><a href="https://github.com/pku-minic/kira-rs">Rust å®ç°</a> <a href="https://zhuanlan.zhihu.com/p/471250907">çŸ¥ä¹-è¯¾ç¨‹ä»‹ç»</a></li></ul></li><li><a href="https://litchipi.github.io/series/container_in_rust">Writing a container in Rust</a> [2022.05]<ul><li>ç”¨ Rust å†™å®¹å™¨ã€‚</li></ul></li><li><a href="https://vishpat.github.io/lisp-rs/">Lisp interpreter in Rust</a> [2022.05]<ul><li><a href="https://github.com/vishpat/lisp-rs">lisp-rs</a> é¡¹ç›®ç”¨ Rust å®ç°äº†ä¸€ä¸ªè§£é‡Šå™¨ï¼Œç”¨äº Scheme çš„ä¸€ä¸ªå°å­é›†ï¼Œå³ Lisp æ–¹è¨€ã€‚</li></ul></li><li><a href="https://memo.barrucadu.co.uk/dns-cache.html">Implementing a size-bounded LRU cache with expiring entries for my DNS server (in Rust)</a> [2022.03]<ul><li>ä½¿ç”¨ Rust å®ç°ä¸€ä¸ªæœ‰å¤§å°é™åˆ¶å¯è¿‡æœŸçš„ LRU ç¼“å­˜ã€‚</li></ul></li><li><a href="https://www.youtube.com/watch?v=doFowk4xj7Q">Implementing and Optimizing a Wordle Solver in Rust</a> [2022.03]<ul><li>Jon Gjengset çš„å…­å°æ—¶ä¸€é•œåˆ°åº•è§†é¢‘æµæ•™ç¨‹ï¼Œè¿™æ¬¡æ˜¯å®ç°ä¸€ä¸ª Wordle æ±‚è§£å™¨ã€‚</li></ul></li><li><a href="https://www.youtube.com/playlist?list=PLkpGh2gaaueyzEAn07jf44LdscDeWRyzy">Writing a Programming Language (in Rust)</a> [2022.02 updating]</li><li><a href="https://fosdem.org/2022/schedule/event/misc_ntfs_rust/">Implementing the NTFS filesystem in Rust</a> [2022.02]</li><li><a href="https://github.com/dtolnay/proc-macro-workshop">Rust Latam: procedural macros workshop</a> [2022.01 updating]<ul><li>å®æˆ˜å­¦ä¹ å†™ Rust è¿‡ç¨‹å®ã€‚</li></ul></li><li><a href="https://www.ihcblog.com/rust-runtime-design-1/">Rust Runtime è®¾è®¡ä¸å®ç°</a> [2021.12]<ul><li>ç³»åˆ—æ–‡ç« ä¸»è¦ä»‹ç»å¦‚ä½•è®¾è®¡å’Œå®ç°ä¸€ä¸ªåŸºäº io-uring çš„ Thread-per-core æ¨¡å‹çš„ Runtimeã€‚</li></ul></li><li><a href="https://www.youtube.com/watch?v=NtUkr_z7l84">Building a GUI app in Rust</a>  <a href="https://www.youtube.com/watch?v=NtUkr_z7l84">Building a web app in Rust</a>  [2021.10]<ul><li>ä½œè€…ç”¨ egui åº“å»å®ç°äº† newsapi çš„å®¢æˆ·ç«¯å’Œç½‘é¡µç«¯ï¼ˆWebAssemblyï¼‰ã€‚</li></ul></li><li><a href="https://frank-king.github.io/rustblog-zh/2021-01-proc-macro/00.html">Rustè¿‡ç¨‹å®å…¥é—¨</a></li><li><a href="https://stopachka.essay.dev/post/5/risp-in-rust-lisp">(Risp (in (Rust) (Lisp)))</a> [2021.07]<ul><li>Rust å®ç° Lisp è§£é‡Šå™¨</li></ul></li><li><a href="https://www.bitfalter.com/webassembly-compiler-text-format-and-ast">WebAssembly Compiler</a> [2021.05]<ul><li>Rust å®ç° WebAssembly Parser, Compiler and Runtime.</li></ul></li><li><a href="https://pwy.io/en/posts/learning-to-fly-pt1/">Learning to Fly: Letâ€™s simulate evolution in Rust! (pt 1)</a> [2021.01]<ul><li>åˆ©ç”¨ç¥ç»ç½‘ç»œå’Œé—ä¼ ç®—æ³•åˆ›å»ºä¸€ä¸ªè¿›åŒ–æ¨¡æ‹Ÿï¼Œå¹¶ç¼–è¯‘åº”ç”¨ç¨‹åºåˆ° WebAssembly</li></ul></li><li><a href="https://misterdanb.github.io/raytracinginrust/">Ray Tracing in One Week</a> [2020.12]<ul><li>Ray Tracing in One Week ç³»åˆ—çš„ Rust ç‰ˆæœ¬ <a href="https://github.com/misterdanb/raytracinginrust">Github</a></li></ul></li><li><a href="https://www.jendrikillner.com/tags/rust/page/2/">Rust Game Series</a> [2020.11]<ul><li>ç”¨ Rust å’Œ winapi æ¥ç”¨ D3D11 å†™ä¸‰æ¶ˆæ¸¸æˆ</li></ul></li><li><a href="https://www.youtube.com/watch?v=rHRBJKWbbw0">Building a Pixel Editor in Rust &amp; WebAssembly (and Javascript)</a> [2020.08]<ul><li>ä½œè€…ç”¨ Rust å’Œ WebAssembly åšäº†ä¸ªç½‘é¡µç«¯çš„ç®€é™‹ç‰ˆåƒç´ ç”»æ¿ã€‚</li></ul></li><li><a href="https://bugzmanov.github.io/nes_ebook/chapter_1.html">Writing NES Emulator in Rust</a> [2020.08]<ul><li>Rust å®ç° NES æ¨¡æ‹Ÿå™¨ï¼Œä¸è¿‡æœ€åä¸€ç« åˆ°ç°åœ¨è¿˜æ˜¯ todoã€‚</li></ul></li><li><a href="https://github.com/EmilHernvall/dnsguide/blob/master/README.md">Building a DNS server in Rust</a> [2020.06]</li><li><a href="https://github.com/pingcap/talent-plan">pingCAP/talent-plan</a> [2020.05] Rust ç½‘ç»œç¼–ç¨‹<ul><li><a href="https://github.com/pingcap/talent-plan/blob/master/courses/rust/README.md">TP 201: Practical Networked Applications in Rust</a></li><li><a href="https://github.com/pingcap/talent-plan/blob/master/courses/dss/README.md">TP 202: Distributed Systems in Rust</a></li></ul></li><li><a href="https://os.phil-opp.com/">Writing an OS in Rust</a> <a href="https://os.phil-opp.com/zh-CN/">éƒ¨åˆ†ä¸­æ–‡ç‰ˆ</a> [2020.05]</li><li><a href="https://picklenerd.github.io/pngme_book/">PNGme: An Intermediate Rust Project</a> [2019.06]</li><li><a href="https://www.youtube.com/playlist?list=PLqbS7AVVErFivDY3iKAQk3_VAm8SXwt1X">Implementing TCP</a> [2019.05]<ul><li>å¼ºçƒˆæ¨èï¼Jon Gjengset é€šè¿‡ Linux TUN/TAP æ¥å®ç° TCP åè®®ã€‚ä¸‰ä¸ªè§†é¢‘åŠ èµ·æ¥å…± 16 å°æ—¶ã€‚</li><li>è¿™ä¸ª up ä¸»è§†é¢‘é£æ ¼ç‹¬ç‰¹ï¼Œå†…å®¹æœ‰æ·±åº¦ï¼Œå½•åƒä¸å‰ªè¾‘ï¼Œæ¯é›†æ—¶é—´å·¨é•¿ï¼Œå¥½å¤„å°±æ˜¯å¯ä»¥äº†è§£ä¸€ä¸ªå®Œæ•´é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹å’Œè§£å†³é—®é¢˜çš„æ€è·¯ã€‚</li></ul></li><li><a href="https://bodil.lol/parser-combinators/">Learning Parser Combinators With Rust</a> [2019.04]</li><li><a href="https://www.joshmcguigan.com/blog/build-your-own-shell-rust/">Build Your Own Shell using Rust</a> [2018.11]</li><li><a href="https://blog.subnetzero.io/post/building-language-vm-part-00/">So You Want to Build a Language VM</a> [2018.07]</li></ul><h2 id="æ¸¸æˆå¼€å‘ç›¸å…³">æ¸¸æˆå¼€å‘ç›¸å…³</h2><ul><li><a href="https://www.zhihu.com/question/511998329/answer/2314160111">æœ‰å“ªäº›å€¼å¾—æ¨èçš„Rustæ¸¸æˆå¼•æ“æˆ–å›¾å½¢æ¸²æŸ“åº“ï¼Ÿ</a></li><li><a href="https://gamedev.rs/">Rust GameDev WG</a></li><li><a href="https://kylemayes.github.io/vulkanalia/introduction.html">Vulkan Tutorial(Rust)</a><ul><li>è¿™è€å“¥ç»™è‡ªå·±çš„ Vulkan Rust ç»‘å®š <a href="https://github.com/KyleMayes/vulkanalia">vulkanalia</a> å‚è€ƒ <a href="https://vulkan-tutorial.com/">Vulkan Tutorial</a> å†™çš„æ•™ç¨‹ã€‚</li><li>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ <a href="https://github.com/ash-rs/ash">ash</a> æ¥å‚è€ƒç€å†™ï¼Œä¸¤ä¸ª Vulkan binding crate è¯­æ³•å¾ˆåƒã€‚</li></ul></li><li><a href="https://github.com/jakobwesthoff/the_ray_tracer_challenge_in_rust">The Ray Tracer Challenge</a> [2022.02 updating]<ul><li>è¿™è€å“¥ç”¨ Rust ä»é›¶å†™ä¸€ä¸ª Raytracerï¼Œå¹¶æŠŠ live coding çš„è¿‡ç¨‹ä¹Ÿå½•åˆ¶ä¸Šä¼ åœ¨<a href="https://www.youtube.com/playlist?list=PLy68GuC77sUTyOUvDhVboQoOlHoa4XrSO">ç³»åˆ—è§†é¢‘é“¾æ¥</a></li></ul></li><li><a href="https://nikitablack.github.io/post/vulkan_with_rust_by_example_0_introduction/">Vulkan with Rust by example</a><ul><li>åˆæ˜¯ç”¨ Rust å’Œ <a href="https://github.com/ash-rs/ash">ash</a> crate æ¥å†™ Vulkan çš„ä¸€ç³»åˆ—åšæ–‡ã€‚</li></ul></li><li><a href="https://hoj-senna.github.io/ashen-aetna/">Ashen Aetna</a> [2022.01 updating]<ul><li>ä½œè€…å…´è¶£ä½¿ç„¶ç”¨ Rust å’Œ <a href="https://github.com/ash-rs/ash">ash</a> crate æ¥å­¦ä¹ å›¾å½¢å­¦çš„æ•™ç¨‹ã€‚</li><li><a href="https://github.com/MaikKlein/ash">ash</a> æ˜¯è·¨å¹³å°å›¾å½¢æ¥å£ Vulkan çš„ Rust ç»‘å®šã€‚</li></ul></li><li><a href="https://bevy-cheatbook.github.io/">Unofficial Bevy Cheat Book</a><ul><li>Rust æ¸¸æˆå¼•æ“ Bevy çš„ä¹¦ã€‚</li><li>ä¸­æ–‡ç‰ˆï¼š<a href="https://yiviv.com/bevy-cheatbook/introduction.html">Bevy æ¸¸æˆå¼•æ“å¼€å‘æŒ‡å—</a></li></ul></li><li><a href="https://sotrh.github.io/learn-wgpu/">Learn Wgpu</a><ul><li><a href="https://jinleili.github.io/learn-wgpu-zh/">ä¸­æ–‡ç‰ˆ</a></li><li><a href="https://github.com/gfx-rs/wgpu">Wgpu</a> æ˜¯ <a href="https://gpuweb.github.io/gpuweb/">WebGPU API</a> è§„èŒƒçš„ä¸€ä¸ª Rust å®ç°ã€‚</li><li>WebGPU æ˜¯ç”± GPU for the Web Community Group å‘å¸ƒçš„ä¸€ä¸ªè§„èŒƒã€‚å®ƒçš„ç›®çš„æ˜¯å…è®¸ç½‘ç»œä»£ç ä»¥å®‰å…¨å’Œå¯é çš„æ–¹å¼è®¿é—® GPU åŠŸèƒ½ã€‚</li><li>å®ƒé€šè¿‡æ¨¡ä»¿ Vulkan APIï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºä¸»æœºç¡¬ä»¶ä½¿ç”¨çš„ä»»ä½• APIï¼ˆDirectXã€Metalã€Vulkanï¼‰æ¥å®ç°ã€‚</li><li>å¾ˆå¤š Rust æ¸¸æˆå¼•æ“éƒ½åŸºäºè¿™ä¸€å±‚å›¾å½¢ HALã€‚</li></ul></li><li><a href="https://ianjk.com/game-engine-in-rust/">Tutorial: Writing a Tiny Rust Game Engine for Web</a> [2022.01]</li><li><a href="https://tomassedovic.github.io/roguelike-tutorial/">Roguelike Tutorial in Rust + tcod</a> [2020.04]</li><li><a href="https://a5huynh.github.io/posts/2018/adventures-in-rust/">Adventures in Rust: A Basic 2D Game</a> [2018.02]</li></ul><h2 id="å…¶ä»–é¢†åŸŸç›¸å…³">å…¶ä»–é¢†åŸŸç›¸å…³</h2><ul><li><a href="https://rust-cli.github.io/book/index.html">The CLI Book</a></li><li><a href="https://rustwasm.github.io/docs/book/">The WebAssembly Book</a></li><li><a href="https://doc.rust-lang.org/stable/embedded-book/">The Embedded Book</a></li><li><a href="https://cs140e.sergio.bz/">An Experimental Course on Operating Systems</a></li><li><a href="https://www.lpalmieri.com/posts/2020-05-24-zero-to-production-0-foreword/">Zero to Production in Rust (Building Backend Services)</a></li></ul><h2 id="Rust-åŠ¨æ€">Rust åŠ¨æ€</h2><ul><li><a href="https://this-week-in-rust.org/">This week in Rust Newsletter</a><ul><li>æ¯å‘¨æ›´æ–°ä¸€æ¬¡ï¼ŒæŠŠæœ€æ–°çš„ Rust èµ„æºæ¨åˆ°ä½ çš„é‚®ç®±ï¼Œè¿™æ˜¯è·Ÿè¸ª Rust æœ€æ–°æŠ€æœ¯ä¸äº‹ä»¶çš„å¥½æ–¹æ³•ã€‚</li></ul></li><li>Discord<ul><li><a href="https://discord.gg/rust-lang-community">Official Rust Community Server</a></li><li><a href="https://discord.gg/rust-lang">Official Rust Server</a></li></ul></li><li>Telegram<ul><li><a href="https://t.me/rust_zh">Rust ä¼—</a></li></ul></li><li>é£ä¹¦<ul><li><a href="https://github.com/ZhangHanDong/rust-code-reading-club/issues/1">Rust ä¸­æ–‡ç¤¾ç¾¤</a></li></ul></li><li><a href="https://www.reddit.com/r/rust/">The Rust Sub Reddit</a></li><li><a href="https://rustmagazine.github.io/rust_magazine_2021/index.html">Rustè¯­è¨€å¼€æºæ‚å¿—ï¼ˆ2021ï¼‰æœˆåˆŠ</a></li><li><a href="https://rustmagazine.github.io/rust_magazine_2022/index.html">Rustè¯­è¨€å¼€æºæ‚å¿—ï¼ˆ2022ï¼‰å­£åˆŠ</a></li></ul><h2 id="å„ç§æ±‡æ€»ï¼ˆAwesome-ç³»åˆ—ï¼‰">å„ç§æ±‡æ€»ï¼ˆAwesome ç³»åˆ—ï¼‰</h2><ul><li><a href="https://github.com/rust-unofficial/awesome-rust">Awesome Rust [A curated list of Rust code and resources]</a><ul><li>é’ˆå¯¹ Rust è¯­è¨€çš„ awesome listsï¼Œè¿™é‡Œé¢æ±‡é›†äº†å„ç§å„æ ·çš„ Rust åº“å’Œèµ„æºï¼Œå»å‚ä¸æˆ–å­¦ä¹ å¼€æºé¡¹ç›®æ˜¯å½“ä½ å…¥é—¨åæœ€å¥½çš„è¿›é˜¶æ–¹æ³•ã€‚</li></ul></li><li><a href="https://github.com/ctjhoa/rust-learning">rust-learning</a><ul><li>ä¸€ä¸ªç”±ç¤¾åŒºç»´æŠ¤çš„å…³äºå­¦ä¹  Rust çš„èµ„æºçš„æ±‡æ€»ã€‚</li></ul></li><li><a href="https://github.com/EthanYuan/Rust-Study-Resource">EthanYuan/Rust-Study-Resource</a><ul><li>åˆæ˜¯ä¸€ä¸ªå…³äºå­¦ä¹  Rust çš„èµ„æºçš„æ±‡æ€»ã€‚</li></ul></li><li><a href="https://lborb.github.io/book/title-page.html">The Little Book of Rust Books</a><ul><li>Rust ç›¸å…³ä¹¦ç±çš„æ±‡æ€»ã€‚</li></ul></li><li><a href="https://github.com/sger/RustBooks">sger/RustBooks</a><ul><li>Rust ç›¸å…³ä¹¦ç±çš„æ±‡æ€»ã€‚</li></ul></li><li><a href="https://github.com/sunface/fancy-rust">sunface/fancy-rust</a><ul><li>Rusté…·åº“æ¨èã€‚ä½¿ç”¨æˆ‘ä»¬ç²¾å¿ƒæŒ‘é€‰çš„å¼€æºä»£ç ï¼Œè®©ä½ çš„Rusté¡¹ç›®Fancyèµ·æ¥!</li></ul></li><li><a href="https://github.com/EvanLi/Github-Ranking/blob/master/Top100/Rust.md">EvanLi/Github-Ranking</a><ul><li>Github ä¸­ Rust åº“æ˜Ÿæ˜Ÿæ’åçš„ Top 100ï¼Œæ¯æ—¥åˆ·æ–°ã€‚</li></ul></li><li><a href="https://apollolabsblog.hashnode.dev/35-rust-learning-resources-every-beginner-should-know-in-2022">35 Rust Learning Resources Every Beginner Should Know in 2022</a><ul><li>ä¸€ç¯‡æ¨èæ–°æ‰‹èµ„æºçš„æ–‡ç« </li></ul></li></ul><h2 id="Podcast">Podcast</h2><ul><li><a href="https://rustacean-station.org/">Rustacean Station Podcast</a></li><li><a href="https://rusttalk.github.io/podcast/000/">RustTalk</a><ul><li>ä¸»æ’­ï¼šå†™ä»£ç çš„è¥¿ç“œ</li><li><a href="https://rustcc.cn/">Rust è¯­è¨€ä¸­æ–‡ç¤¾åŒº</a>Â æ˜¯ä¸€ä¸ªç›¸æ¯”å¹²è´§åˆ†äº«çš„åœ°æ–¹ï¼Œåæ–‡å­—ï¼ŒRustTalk æ›´ä¾§é‡â€œæ¹¿è´§â€ï¼Œä¸ä»…ä»…ä¼šä»‹ç»åˆ° Rust çš„è®¾è®¡ç†å¿µï¼Œæ›´å¤šçš„å›å»æŒ–æ˜ Rust èƒŒåçš„å¥‡äººè½¶äº‹ã€‚</li></ul></li></ul><h2 id="åšå®¢">åšå®¢</h2><ul><li><a href="https://llever.com/">https://llever.com/</a><ul><li>åŒ…å«å¾ˆå¤š Rust å‘¨æŠ¥åŠç›¸å…³åšæ–‡çš„ç¿»è¯‘ï¼Œä¸è¿‡ç°åœ¨å¥½åƒä¸æ›´æ–°äº†ã€‚</li></ul></li><li><a href="https://blog.budshome.com/">èŠ½ä¹‹å®¶</a><ul><li>åŒæ ·æ˜¯åŒ…å«å¾ˆå¤š Rust å‘¨æŠ¥åŠç›¸å…³åšæ–‡çš„ç¿»è¯‘ï¼ŒåŒæ ·å¥½åƒä¸æ›´æ–°äº†ğŸ˜“</li></ul></li></ul><h2 id="åšå®¢-RSS">åšå®¢ RSS</h2><table><thead><tr><th>åç§°</th><th>è®¢é˜…é“¾æ¥</th></tr></thead><tbody><tr><td><a href="https://this-week-in-rust.org/">This Week in Rust</a></td><td><a href="https://this-week-in-rust.org/atom.xml">https://this-week-in-rust.org/atom.xml</a></td></tr><tr><td><a href="https://readrust.net/">Read Rust</a></td><td><a href="https://readrust.net/all/feed.rss">https://readrust.net/all/feed.rss</a></td></tr><tr><td><a href="https://www.reddit.com/r/rust/hot/">Rust Reddit Hot</a></td><td><a href="https://reddit.0qz.fun/r/rust/hot.json">https://reddit.0qz.fun/r/rust/hot.json</a></td></tr><tr><td><a href="https://rust.cc">Rust.cc</a></td><td><a href="https://rustcc.cn/rss">https://rustcc.cn/rss</a></td></tr><tr><td><a href="https://rust.libhunt.com/newsletter">Awesome Rust Weekly</a></td><td><a href="https://rust.libhunt.com/newsletter/feed">https://rust.libhunt.com/newsletter/feed</a></td></tr><tr><td><a href="https://rustmagazine.github.io/">Rustç²¾é€‰</a></td><td><a href="https://rustmagazine.github.io/rust_magazine_2021/rss.xml">https://rustmagazine.github.io/rust_magazine_2021/rss.xml</a></td></tr><tr><td><a href="https://medium.com/tag/rust/latest">Rust on Medium</a></td><td><a href="https://medium.com/feed/tag/rust">https://medium.com/feed/tag/rust</a></td></tr><tr><td><a href="https://gamedev.rs/">Rust GameDev WG</a></td><td><a href="https://gamedev.rs/rss.xml">https://gamedev.rs/rss.xml</a></td></tr><tr><td><a href="https://www.zhihu.com/column/time-and-spirit-hut">çŸ¥ä¹ä¸“æ -æ—¶å…‰ä¸ç²¾ç¥å°å±‹</a></td><td><a href="https://rsshub.app/zhihu/zhuanlan/time-and-spirit-hut">https://rsshub.app/zhihu/zhuanlan/time-and-spirit-hut</a></td></tr><tr><td><a href="https://fasterthanli.me/">é…·ç†Š Amos fasterthanli</a></td><td><a href="https://fasterthanli.me/index.xml">https://fasterthanli.me/index.xml</a></td></tr><tr><td><a href="https://www.ncameron.org/blog/">pretzelhammer/rust-blog</a></td><td><a href="https://www.ncameron.org/blog/rss/">https://www.ncameron.org/blog/rss/</a></td></tr><tr><td><a href="https://github.com/pretzelhammer/rust-blog">Nick Cameron</a></td><td><a href="https://github.com/pretzelhammer/rust-blog/releases.atom">https://github.com/pretzelhammer/rust-blog/releases.atom</a></td></tr><tr><td><a href="https://folyd.com/blog/">FOLYD</a></td><td><a href="https://folyd.com/blog/feed.xml">https://folyd.com/blog/feed.xml</a></td></tr><tr><td><a href="https://www.skyzh.dev/posts/">Alex Chi</a></td><td><a href="https://www.skyzh.dev/posts/index.xml">https://www.skyzh.dev/posts/index.xml</a></td></tr></tbody></table><h2 id="ä½œä¸ºå‚è€ƒçš„å­¦ä¹ è·¯çº¿">ä½œä¸ºå‚è€ƒçš„å­¦ä¹ è·¯çº¿</h2><h3 id="å„ç§æ–¹æ³•å…¥é—¨">å„ç§æ–¹æ³•å…¥é—¨</h3><p><a href="https://github.com/jondot/rust-how-do-i-start">jondot/rust-how-do-i-start</a></p><h3 id="è·¯çº¿1">è·¯çº¿1</h3><p><a href="https://zhuanlan.zhihu.com/p/146472398">Rust Study RoadMap</a></p><p>ä½œè€…åœ¨æ–‡ä¸­æä¾›äº†ä¸¤ç§å­¦ä¹ è·¯çº¿ã€‚</p><h3 id="è·¯çº¿2">è·¯çº¿2</h3><ol><li><p>é€šè¯» <a href="http://rustbyexample.com/">Rust by Example</a>ï¼ŒæŠŠå…¶ä¸­çš„ä¾‹å­éƒ½è‡ªå·±è¿è¡Œä¸€éï¼Œç‰¹åˆ«æ˜¯å¯¹å…¶ä¸­æŒ‡å‡ºçš„é”™è¯¯ç”¨æ³•ä¹Ÿè°ƒè¯•ä¸€éã€‚</p></li><li><p>é€šè¯» <a href="http://rust-lang.github.io/book/">The Rust Programming Language</a>ï¼Œåœ¨è¿›è¡Œäº†ç¬¬ä¸€æ­¥åï¼Œå·²ç»åŸºæœ¬å¯¹ Rust çš„å¸¸ç”¨æ¦‚å¿µæœ‰æ‰€äº†è§£äº†ï¼Œè¿™ä¸ªæ—¶å€™å†è¯»è¿™æœ¬å®˜æ–¹æ•™ç¨‹ï¼Œè¿›ä¸€æ­¥ç†è§£æŸäº›ç»†èŠ‚ã€‚</p></li><li><p>è¡Œäº†ï¼Œåˆ°è¿™ä¸€æ­¥åä½ å°±å¯ä»¥å°è¯•åšä¸€ä¸ªé¡¹ç›®äº†ï¼Œç„¶ååœ¨åšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ä½ ä¸€å®šä¼šéœ€è¦å„ç§å„æ ·çš„åº“ï¼Œè¯·åˆ° <a href="https://crates.io/">Crates</a>ä¸Šæœç´¢ï¼Œå¯»æ‰¾é€‚åˆä½ éœ€æ±‚çš„ crateï¼Œäº†è§£å®ƒä»¬çš„ç”¨æ³•ï¼Œå¿…è¦æ—¶æŸ¥é˜…å®ƒä»¬çš„æºç ã€‚ä¸€å¼€å§‹å†™å®é™…ä»£ç æ—¶ï¼Œä½ è‚¯å®šä¼šå¾ˆç—›è‹¦ï¼ŒRust ç¼–è¯‘å™¨ä¸€å®šä¼šä¸æ–­åœ°æŠ˜ç£¨ä½ ï¼Œè¿™ä¸ªæ—¶å€™ä¸è¦æ”¾å¼ƒï¼Œè¿”å›å»å†çœ‹ <a href="http://rustbyexample.com/">Rust by Example</a>å’Œ<a href="http://rust-lang.github.io/book/">The Rust Programming Language</a>ï¼Œç„¶åç»ˆæœ‰é€šè¿‡ç¼–è¯‘çš„é‚£ä¸€åˆ»ï¼Œæ­å–œä½ ï¼Œå…¥å‘äº†ï¼</p></li></ol><h2 id="å¸¸ç”¨ç«™ç‚¹">å¸¸ç”¨ç«™ç‚¹</h2><ul><li><a href="https://crates.io/">Crates</a><ul><li>Rust ç±»åº“</li></ul></li><li><a href="https://docs.rs/">Docs.rs</a><ul><li>Rust ç±»åº“æ–‡æ¡£</li></ul></li><li><a href="http://arewegameyet.com/">Are we game yet</a><ul><li>å…³äºæ¸¸æˆå¼€å‘</li></ul></li><li><a href="http://www.arewewebyet.org/">Are we web yet</a><ul><li>å…³äº Web å¼€å‘</li></ul></li><li><a href="https://areweideyet.com/">Are we (I)DE yet</a><ul><li>å…³äº IDE</li></ul></li><li><a href="https://github.com/wtklbm/rust-library-i18n">rust-library-i18n</a><ul><li>Rust ä¸­æ–‡æ–‡æ¡£ï¼Œå¯ä»¥åœ¨ IDE ä¸­ä½¿ç”¨</li></ul></li></ul><h2 id="å…¶ä»–èµ„æ–™">å…¶ä»–èµ„æ–™</h2><ul><li><a href="https://www.reddit.com/r/rust/comments/s3z7ek/the_10_books_that_helped_me_as_a_hobbyist_on_my/">The 10 books that helped me, as a hobbyist, on my journey to learn Rust to re-code a Django application</a></li><li><a href="https://www.rustnote.com/">Rustnote</a><ul><li>æŸä¸ªç½‘å‹çš„ä¸ªäººç¬”è®°</li></ul></li></ul><h2 id="æœ¬æ–‡å‚è€ƒ">æœ¬æ–‡å‚è€ƒ</h2><ul><li><a href="https://rust-lang-cn.org/article/23">https://rust-lang-cn.org/article/23</a></li><li><a href="https://letsgetrusty.kartra.com/page/XDk8">https://letsgetrusty.kartra.com/page/XDk8</a></li><li><a href="https://rustcc.cn/">https://rustcc.cn/</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšä¸»å‘ç°å’¸é±¼å’¸é±¼ç€å±…ç„¶åˆ° 2022 å¹´äº†ï¼Œå¿½ç„¶è‰¯å¿ƒä¸å®‰ï¼Œå› æ­¤å…ˆä»è¿™ç¯‡æ¯”è¾ƒæ°´çš„èµ„æºæ€»ç»“å¼€å§‹å§ï¼&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ€»ç»“ä¸‹å­¦ Rust å‚è€ƒè¿‡çš„èµ„æ–™ï¼Œä¼šéšç€åšä¸»å¯¹ Rust çš„å…³æ³¨éšç¼˜æ›´æ–°ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Rust" scheme="http://frankorz.com/categories/Rust/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="Rust" scheme="http://frankorz.com/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨ Rust å®ç°ç®€å•çš„å…‰çº¿è¿½è¸ª</title>
    <link href="http://frankorz.com/2021/05/05/rust-raytrace/"/>
    <id>http://frankorz.com/2021/05/05/rust-raytrace/</id>
    <published>2021-05-05T00:48:30.000Z</published>
    <updated>2022-12-28T06:52:11.278Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ Rust åæ¥å¤©äº†ï¼Œè‡ªå·±è¢«è¿™ä¸ªè¯­è¨€æƒŠè‰³åˆ°ï¼Œå°±è·Ÿç€æ•™ç¨‹ <a href="https://raytracing.github.io/books/RayTracingInOneWeekend.html">Ray Tracing in One Weekend</a> å†™äº†ä¸ªå¾ˆç®€é™‹çš„å…‰çº¿è¿½è¸ªç¤ºä¾‹ç»ƒä¹ ï¼Œé¡¹ç›®åœ¨ <a href="https://github.com/Latias94/rust_raytracing">Latias94/rust_raytracing</a>ã€‚</p><p>å­¦è¿™é—¨è¯­è¨€çš„æ—¶å€™ï¼Œæ„Ÿè§‰å°±æ˜¯ä¸Šæ‰‹å®¹æ˜“é‡åˆ°å¾ˆå¤šæ–°æ¦‚å¿µï¼Œå®¹æ˜“å­¦ä¸ä¸‹å»ï¼Œè·Ÿç¼–è¯‘å™¨ä½œæ–—äº‰â€¦ä¸è¿‡ä½œä¸ºä¸€ä¸ªè¿˜å¾ˆæ–°çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ï¼Œå·¥å…·é“¾å¦‚æ–‡ç« ã€åŒ…ç®¡ç†ã€æ ¼å¼åŒ–ã€ç¼–è¯‘å™¨ç­‰å¾ˆå®Œå–„ï¼Œå®˜æ–¹æ•™ç¨‹å¾ˆæ£’ï¼Œç¤¾åŒºä¹Ÿå¾ˆæ´»è·ƒã€‚</p><p>å­¦ Rust çš„å¥‘æœºå…¶å®æ˜¯åœ¨ V2EX ä¸Šçœ‹åˆ°æœ‰äººåœ¨çº ç»“å­¦ Go è¿˜æ˜¯ Rustï¼Œåº•ä¸‹çš„å¸–å­ä¹Ÿæœ‰ä¸å°‘å¤¸ Rust è¯­è¨€çš„ï¼Œå› æ­¤è‡ªå·±ä¹Ÿå¼€å§‹å…³æ³¨ Rust è¯­è¨€ã€‚åæ¥å‘ç° Rust çš„ç”¨æ­¦ä¹‹åœ°éå¸¸å¹¿ï¼ŒGithub ä¸Šè¿˜èƒ½æ‰¾åˆ°ä¸å°‘ Rust åšçš„æ¸¸æˆå¼•æ“ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ä¸»æ‰“ ECS åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š<a href="https://github.com/bevyengine/bevy">bevyengine/bevy</a> ã€<a href="https://github.com/Ralith/hecs">Ralith/hecs</a> ç­‰ã€‚</p><p>å­¦ä¹  Rust è¯­è¨€ï¼Œå…¶å®ä¹Ÿæ˜¯åœ¨äº†è§£ä¸€ä¸ªç°ä»£åŒ–çš„è¯­è¨€è¯¥æœ‰çš„æ ·å­ï¼Œäº†è§£ C++ æˆ–å…¶ä»–è¯­è¨€éƒ¨åˆ†è®¾è®¡ä¸Šçš„ä¸è¶³ï¼Œä»¥åŠ Rust æ˜¯æ‰“ç®—å¦‚ä½•ä»æ ¹æºè§£å†³è¿™äº›é—®é¢˜çš„ã€‚è¿™éƒ¨åˆ†æˆ‘ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œä¸æ‰“ç®—å±•å¼€è®²ã€‚å¤§å®¶æœ‰ç©ºå¯ä»¥äº†è§£ä¸€ä¸‹ Rust è¯­è¨€ï¼Œçœ‹çœ‹å®˜æ–¹çš„æ•™ç¨‹<a href="https://kaisery.github.io/trpl-zh-cn/title-page.html">ã€ŠRust ç¨‹åºè®¾è®¡è¯­è¨€ã€‹</a>ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘è§‰å¾—å…‰çº¿è¿½è¸ªçš„æ•™ç¨‹å¯ä»¥ä½œä¸ºå­¦ä¸€é—¨æ–°è¯­è¨€å<strong>ä¸¥è‚ƒå­¦ä¹ </strong>çš„é¡¹ç›®ï¼Œåšå®Œæˆå°±æ„Ÿä¹Ÿæ»¡æ»¡ï¼</p><span id="more"></span><p>é¡ºä¾¿æ¨èä¸€ç¯‡å¥½æ–‡ï¼š<a href="https://juejin.cn/post/6898953413250252814">æ–°æŠ€æœ¯å­¦ä¹ ä¸å®Œå…¨æŒ‡åŒ—ï¼šä»¥ Rust ä¸ºä¾‹</a>ã€‚</p><p>æœ€åæ”¾ä¸‹ç¤ºä¾‹çš„æ¸²æŸ“å›¾ï¼š</p><p><img src="http://img.frankorz.com/rust-raytrace.png" alt="1200*800 æ¸²æŸ“å›¾"></p><p>äº”ä¸€åŠ³åŠ¨èŠ‚å¿«ä¹ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å­¦ Rust åæ¥å¤©äº†ï¼Œè‡ªå·±è¢«è¿™ä¸ªè¯­è¨€æƒŠè‰³åˆ°ï¼Œå°±è·Ÿç€æ•™ç¨‹ &lt;a href=&quot;https://raytracing.github.io/books/RayTracingInOneWeekend.html&quot;&gt;Ray Tracing in One Weekend&lt;/a&gt; å†™äº†ä¸ªå¾ˆç®€é™‹çš„å…‰çº¿è¿½è¸ªç¤ºä¾‹ç»ƒä¹ ï¼Œé¡¹ç›®åœ¨ &lt;a href=&quot;https://github.com/Latias94/rust_raytracing&quot;&gt;Latias94/rust_raytracing&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å­¦è¿™é—¨è¯­è¨€çš„æ—¶å€™ï¼Œæ„Ÿè§‰å°±æ˜¯ä¸Šæ‰‹å®¹æ˜“é‡åˆ°å¾ˆå¤šæ–°æ¦‚å¿µï¼Œå®¹æ˜“å­¦ä¸ä¸‹å»ï¼Œè·Ÿç¼–è¯‘å™¨ä½œæ–—äº‰â€¦ä¸è¿‡ä½œä¸ºä¸€ä¸ªè¿˜å¾ˆæ–°çš„ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ï¼Œå·¥å…·é“¾å¦‚æ–‡ç« ã€åŒ…ç®¡ç†ã€æ ¼å¼åŒ–ã€ç¼–è¯‘å™¨ç­‰å¾ˆå®Œå–„ï¼Œå®˜æ–¹æ•™ç¨‹å¾ˆæ£’ï¼Œç¤¾åŒºä¹Ÿå¾ˆæ´»è·ƒã€‚&lt;/p&gt;
&lt;p&gt;å­¦ Rust çš„å¥‘æœºå…¶å®æ˜¯åœ¨ V2EX ä¸Šçœ‹åˆ°æœ‰äººåœ¨çº ç»“å­¦ Go è¿˜æ˜¯ Rustï¼Œåº•ä¸‹çš„å¸–å­ä¹Ÿæœ‰ä¸å°‘å¤¸ Rust è¯­è¨€çš„ï¼Œå› æ­¤è‡ªå·±ä¹Ÿå¼€å§‹å…³æ³¨ Rust è¯­è¨€ã€‚åæ¥å‘ç° Rust çš„ç”¨æ­¦ä¹‹åœ°éå¸¸å¹¿ï¼ŒGithub ä¸Šè¿˜èƒ½æ‰¾åˆ°ä¸å°‘ Rust åšçš„æ¸¸æˆå¼•æ“ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†ä¸»æ‰“ ECS åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š&lt;a href=&quot;https://github.com/bevyengine/bevy&quot;&gt;bevyengine/bevy&lt;/a&gt; ã€&lt;a href=&quot;https://github.com/Ralith/hecs&quot;&gt;Ralith/hecs&lt;/a&gt; ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å­¦ä¹  Rust è¯­è¨€ï¼Œå…¶å®ä¹Ÿæ˜¯åœ¨äº†è§£ä¸€ä¸ªç°ä»£åŒ–çš„è¯­è¨€è¯¥æœ‰çš„æ ·å­ï¼Œäº†è§£ C++ æˆ–å…¶ä»–è¯­è¨€éƒ¨åˆ†è®¾è®¡ä¸Šçš„ä¸è¶³ï¼Œä»¥åŠ Rust æ˜¯æ‰“ç®—å¦‚ä½•ä»æ ¹æºè§£å†³è¿™äº›é—®é¢˜çš„ã€‚è¿™éƒ¨åˆ†æˆ‘ä½œä¸ºä¸€ä¸ªåˆå­¦è€…ï¼Œä¸æ‰“ç®—å±•å¼€è®²ã€‚å¤§å®¶æœ‰ç©ºå¯ä»¥äº†è§£ä¸€ä¸‹ Rust è¯­è¨€ï¼Œçœ‹çœ‹å®˜æ–¹çš„æ•™ç¨‹&lt;a href=&quot;https://kaisery.github.io/trpl-zh-cn/title-page.html&quot;&gt;ã€ŠRust ç¨‹åºè®¾è®¡è¯­è¨€ã€‹&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ€»è€Œè¨€ä¹‹ï¼Œæˆ‘è§‰å¾—å…‰çº¿è¿½è¸ªçš„æ•™ç¨‹å¯ä»¥ä½œä¸ºå­¦ä¸€é—¨æ–°è¯­è¨€å&lt;strong&gt;ä¸¥è‚ƒå­¦ä¹ &lt;/strong&gt;çš„é¡¹ç›®ï¼Œåšå®Œæˆå°±æ„Ÿä¹Ÿæ»¡æ»¡ï¼&lt;/p&gt;</summary>
    
    
    
    <category term="å›¾å½¢å­¦" scheme="http://frankorz.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="Rust" scheme="http://frankorz.com/tags/Rust/"/>
    
    <category term="3D æ•°å­¦" scheme="http://frankorz.com/tags/3D-%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>24 å¤©åƒç´ ç”»ä»å…¥é—¨åˆ°æ”¾å¼ƒ</title>
    <link href="http://frankorz.com/2021/04/18/learn-pixel-art/"/>
    <id>http://frankorz.com/2021/04/18/learn-pixel-art/</id>
    <published>2021-04-18T12:33:30.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p>å‰ä¸ä¹…ååˆ†åŒå­¦ï¼Œæƒ³ç€æ˜¯ä¸æ˜¯å­¦åºŸäº†ï¼Œå°±æƒ³æ‰¾åˆ°å…¶ä»–çš„ä¸œè¥¿å­¦å­¦ï¼Œäºæ˜¯æœ‰ä¸€å¤©å‘¨æ—¥å°è¯•äº†åŒæ—¶å…¥é—¨ Blender å’Œ åƒç´ ç”»ã€‚</p><p>å»ºæ¨¡å…¶å®å’Œ Unity ç”¨åˆå§‹æ¨¡å‹æ­ç§¯æœ¨å·®ä¸å¤šï¼Œå…¥é—¨ä¹Ÿè¿˜å¥½ã€‚ä½†æ˜¯è‡ªå·±ä»å°å°±æ˜¯å¯¹ç¾æœ¯ç»ç¼˜ï¼Œåªæœ‰åˆä¸­çš„æ—¶å€™ä¼šå’Œå…¶ä»–åŒé¾„äººä¸€æ ·ç…§ç€æ¼«ç”»ä¹¦çç”»ã€‚åæ¥å°±ç›´åˆ°ç°åœ¨ï¼Œå› æ­¤å¼€å§‹ç”»åƒç´ ç”»çš„æ—¶å€™è¿˜æ˜¯ååˆ†ä¸é€‚åº”ï¼Œæ„Ÿè§‰æ¯ä¸€ä¸ªç‚¹éƒ½æ˜¯ä¸ºæ— ç”¨è‰ºæœ¯ç•Œæ·»ç –åŠ ç“¦ã€‚</p><p>åæ¥å†³å®šç”»åƒç´ ç”»çš„å¥‘æœºæ˜¯å¬<a href="https://gulugulufm.github.io/podcasts/2/">æ’­å®¢</a>ä»‹ç»åˆ°ä¸€ä¸ªç å†œå§å§ä¸ºäº†åšæ¸¸æˆ<a href="https://www.douban.com/note/773573673/">åšæŒ 100 å¤©ç”»åƒç´ ç”»</a>ï¼Œäºæ˜¯å°‘å¹´é‚£é¢—ä¸çŸ¥å¤©é«˜åœ°åšçš„å¿ƒæ€¦ç„¶åœ°ç‡ƒçƒ§èµ·æ¥ã€‚</p><p>æ•™ç»ƒï¼æˆ‘æƒ³å­¦ç”»ç”»ï¼</p><span id="more"></span><h2 id="å…´èµ·">å…´èµ·</h2><p>ä½œä¸ºä¸€ä¸ªèµ„æ·±æ¾é¼ ç—‡æ‚£è€…ï¼ŒSteam é‡Œæ—©å·²ç»èººç€ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰“æŠ˜å…¥æ‰‹çš„åƒç´ ç”»ç¥å™¨ â€œAspriteâ€ï¼Œæˆ‘åŸæœ¬ä»¥ä¸ºä¸€è¾ˆå­å†ä¹Ÿä¸ä¼šä¸‹è½½å®ƒï¼Œè¿™å°±æ˜¯å‘½è¿çš„å®‰æ’å§ã€‚</p><p>å¾ˆå¤šè½¯ä»¶èƒ½ç”»åƒç´ ç”»ï¼Œæ¯•ç«Ÿåƒç´ ç”»å°±åªæ˜¯ç”±ç‚¹æ„æˆçš„ï¼Œä¸è¿‡å¥½çš„å·¥å…·èƒ½äº‹åŠåŠŸå€ã€‚ç”¨ä¹ æƒ¯ PS çš„ç¾æœ¯æœ‹å‹å¯èƒ½ä¼šé€‰æ‹©ç»§ç»­ç”¨ PS æ”¹ç¬”è§¦ç”»åƒç´ ç”»ï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼ŒåŠŸèƒ½å¤ªå¤šçš„è½¯ä»¶åè€Œä¼šæ‰“å‹æˆ‘çš„ä¸€æ—¶å…´èµ·çš„å…´è¶£ï¼Œäºæ˜¯æˆ‘è·Ÿç€ <a href="https://www.bilibili.com/video/BV1Ax411x7Ss">Asepriteï¼è¶…æ–¹ä¾¿çš„åƒç´ ç”»è½¯ä»¶åˆå­¦è€…æ•™ç¨‹</a> èŠ±åŠå°æ—¶å¤§æ¦‚æ¸…æ¥š Aseprite æœ‰çš„åŠŸèƒ½ã€‚</p><p>Aseprite æ˜¯æ”¶è´¹çš„ï¼Œåœ¨ <a href="https://github.com/aseprite/aseprite">Github å¼€æº</a> ï¼Œå¦‚æœä½ æƒ³è‡ªå·±ç¼–è¯‘ï¼Œå¯ä»¥å‚è€ƒ [<a href="https://www.reddit.com/r/PixelArt/comments/i387m1/guide_how_to_build_aseprite_from_source_aseprite/">GUIDE] How to build Aseprite from source. (Aseprite free &amp; legal)</a> ã€‚æˆ‘æ˜¯åœ¨ Steam ä¸Šä¹°çš„ï¼Œç°åœ¨çœ‹äº†çœ‹æ˜¯ 70 å…ƒï¼Œä¹°äº† Winã€Macã€Linus éƒ½èƒ½ç”¨ï¼Œä¸éœ€è¦è‡ªå·±åˆ†å¼€ç¼–è¯‘ï¼Œæ›´æ–°ä¹Ÿä¼šæ›´æ–¹ä¾¿äº›ã€‚</p><p>è‡ªå·±ä¸€å¼€å§‹è·Ÿç€ Youtube åšä¸»çš„è§†é¢‘æ•™ç¨‹å…¥é—¨ï¼Œå…¶ä¸­æœ‰å‰é¢ Aseprite åˆå­¦è€…æ•™ç¨‹çš„ä½œè€… <a href="https://www.youtube.com/channel/UCsn9MzwyPKeCE6MEGtMU4gg">MortMort</a>ã€å¼€äº† <a href="https://www.youtube.com/watch?v=51u9ZgrEThg&amp;list=PLmac3HPrav-9UWt-ahViIZxpyQxJ2wPSH">Pixel 101 ç³»åˆ—æ•™ç¨‹</a>çš„ <a href="https://www.youtube.com/c/PeterMilko/featured">Pixel Pete</a> ç­‰ã€‚</p><p>æˆ‘å–œæ¬¢çœ‹è§†é¢‘æ•™ç¨‹å…¥é—¨çš„åŸå› æœ‰å‡ ç‚¹ï¼š</p><ol><li>æˆ‘æƒ³çœ‹ä»–ä»¬æ˜¯æ€ä¹ˆå¼€å§‹æ„æ€ä¸€å¹…ç”»çš„ï¼ˆåƒç´ ç”»çš„å‹ï¼‰</li><li>ç”»åƒç´ ç”»çš„è¿‡ç¨‹ï¼ˆå…ˆç”»ä»€ä¹ˆåç”»ä»€ä¹ˆï¼Œé¢œè‰²å¦‚ä½•é€‰æ‹©ï¼‰</li><li>å¯¹è½¯ä»¶çš„ä½¿ç”¨ï¼Œå¦‚ä½•é€‚å½“åœ°ä½¿ç”¨è½¯ä»¶çš„åŠŸèƒ½æ›´å¿«åœ°ç”»å‡ºä½ æƒ³è¦çš„ç”»ã€‚</li><li>äº†è§£åƒç´ ç”»ç‹¬æœ‰çš„æŠ€å·§ï¼Œå¦‚ï¼šåƒç´ æŠ–åŠ¨ç­‰</li></ol><p>ä¸€å¼€å§‹æˆ‘çœ‹çš„æ˜¯ Pixel 101 çš„å‰å‡ ä¸ªæ•™ç¨‹ï¼ŒPixel Pete åœ¨åƒç´ æå…¶æœ‰é™çš„æƒ…å†µä¸‹å¾ˆå¿«å°±èƒ½ç”»å‡ºä¸åŒçš„ç‰©å“ï¼Œè®©æˆ‘çŸ¥é“ç²¾å‡†æ§åˆ¶åœ°åƒç´ å°±èƒ½é€šè¿‡ä¸åŒé¢œè‰²å½±å“ç”»åœ¨äººä»¬è„‘æµ·ä¸­çš„æƒ³è±¡ã€‚</p><p>å› æ­¤æˆ‘å¯¹åƒç´ ç”»çš„ç†è§£å°±æ˜¯ï¼šæ˜“å…¥é—¨ã€ç²¾å‡†æ§åˆ¶å°‘é‡é¢œè‰²å’Œå°‘é‡åƒç´ ã€è´¹æ—¶å°‘æ˜“å‡ºè´§ï¼Œéœ€è¦çš„åŸºç¡€ä¹Ÿæ¯”åŸç”»æ¿ç»˜å°‘éå¸¸å¤šã€‚</p><p>ç”±äºæˆ‘å½“å‰å·¥ä½œå®¤çš„æ¸¸æˆå°±æ˜¯åƒç´ é£æ ¼ï¼Œå› æ­¤é—®äº†å‡ ä½åŸç”»åŒäº‹ï¼Œéƒ½è¯´åƒç´ ç”»æ˜¯æœ€ç®€å•çš„ï¼Œä»–ä»¬ä¸€å¼€å§‹æœ‰åŸç”»åŸºç¡€ï¼Œä¸´æ‘¹ä¸‹åƒç´ ç”»çš„ç”»æ³•ï¼Œå¾ˆå¿«å°±éƒ½èƒ½ä¸Šæ‰‹ç”»åƒç´ ç”»äº†ã€‚</p><p>äºæ˜¯æˆ‘å†³å®šå¼€å§‹ 100 å¤©åƒç´ ç”»æŒ‘æˆ˜ï¼Œæ¯å¤©èŠ±ä¸€ä¸ªå°æ—¶å·¦å³é¼ ç»˜åƒç´ ç”»ã€‚</p><h2 id="å­¦ä¹ ">å­¦ä¹ </h2><p>ç¬¬ä¸€å¤©å¼€å§‹ç”»ä¹‹åï¼Œæˆ‘å‘ç°å¾ˆå¤šé—®é¢˜ï¼š</p><ul><li>ä¸€ä¸ªåƒç´ èƒ½è¡¨ç°çš„ä¸œè¥¿æ˜¯æœ‰é™çš„ï¼Œæˆ‘è¦å†³å®šè¿™ä¸ªåƒç´ åº”è¯¥è¡¨ç°æˆä»€ä¹ˆï¼Œä»è€Œå†³å®šæ˜¯ä»€ä¹ˆé¢œè‰²ã€‚</li><li>åƒç´ ç”»çš„åˆ†è¾¨ç‡ååˆ†ä½ï¼Œé˜´å½±è¿‡æ¸¡å’Œçº¿æ¡å¯èƒ½ä¼šéå¸¸ç”Ÿç¡¬ï¼Œç”»å¤ªå¤šåˆä¼šæœ‰è‰²å—ç°è±¡ã€‚</li><li>åƒç´ ç”»ä¸­é¢œè‰²çš„æ•°é‡è¦æœ‰é™åˆ¶ï¼Œé˜´å½±å¯ä»¥ç”¨ä¸¤åˆ°ä¸‰ä¸ªé¢œè‰²è¿‡æ¸¡ï¼Œå¤ªå¤šé¢œè‰²ä¼šå¾ˆä¹±ã€‚</li></ul><p>äºæ˜¯æ‰¾äº†æœ¬ä¹¦ <a href="https://nostarch.com/pixelart">ã€ŠMake Your Own Pixel Artã€‹</a> å‚è€ƒï¼Œè¿™æœ¬ä¹¦é¢å¯¹çš„æ˜¯æ²¡ç»˜ç”»åŸºç¡€çš„æ–°æ‰‹ï¼Œç”¨çš„è½¯ä»¶ä¹Ÿæ˜¯ Asepriteã€‚è¿™æœ¬ä¹¦è®²çš„éå¸¸è¯¦ç»†ï¼Œæˆ‘å°è±¡æœ€æ·±çš„å°±æ˜¯æˆ‘éœ€è¦å…ˆå­¦ä¼šç”»å‡ºä¸åŒåŸºæœ¬æ¨¡å‹çš„å…‰ç…§ï¼Œä¾‹å¦‚åœ†æŸ±ã€æ­£æ–¹ä½“ç­‰ï¼Œè¿™äº›å½¢çŠ¶å’Œå…‰ç…§ä¼šç”»ä¹‹åï¼Œå†å°†å®ƒä»¬ç»„åˆèµ·æ¥ï¼Œåˆ›é€ å‡ºè‡ªå·±çš„ç‰©å“æˆ–è§’è‰²ã€‚</p><p>å¯¹äºè°ƒè‰²æ¿çš„é¢œè‰²ï¼Œå¯ä»¥åœ¨ <a href="https://lospec.com/palette-list">Lospec</a> ä¸­é€‰ä¸€äº›ç»å…¸çš„é¢œè‰²ï¼Œè¿™æ ·æˆ‘ä»¬æš‚æ—¶ä¸ç”¨è€ƒè™‘é¢œè‰²çš„å¯¹æ¯”ã€é¥±å’Œåº¦æŒ‘é€‰ç­‰ï¼Œå…ˆé™åˆ¶è‡ªå·±åœ¨è°ƒè‰²æ¿ä¸­ç”¨è‰²ï¼ŒåæœŸå­¦é¢œè‰²ç†è®ºï¼ˆColor Theoryï¼‰äº†å†è‡ªå·±é…è‰²ã€‚</p><p>ä¸‹é¢æ˜¯ç¬¬ä¸‰å¤©æ—¶åšçš„ä¹¦ä¸­çš„ç»ƒä¹ ï¼Œç»™å‡ºä¸€ä¸ªè§’è‰²çš„å‰ªå½±ï¼Œæˆ‘æ¥ä¸Šè‰²ã€‚</p><p><img src="http://img.frankorz.com/day3-shading-practice.png" alt="ç¬¬ä¸‰å¤©"></p><p>ç¬¬äº”å¤©æˆ‘å°è¯•ç”»è‡ªå·±çš„è§’è‰²ï¼Œç”»å¸ƒæ˜¯ $ 64 Ã— 64 $ ï¼Œä¸»é¢˜æ˜¯å¤ªç©ºã€‚å…¶ä¸­ç”¨åˆ°åˆšå­¦çš„åƒç´ æŠ–åŠ¨ï¼Œæ˜Ÿæ˜Ÿçš„è¡¨ç¤ºï¼Œä¸è¿‡æœ‰äº›å…‰å½±çš„åœ°æ–¹è¿˜æ˜¯é”™çš„ã€‚</p><p><img src="http://img.frankorz.com/day5-spaceman.png" alt=""></p><p>äºæ˜¯æ¯å¤©ç”»ç”»ï¼Œæ—¶ä¸æ—¶å°è¯•ä¸åŒé£æ ¼çš„åƒç´ ç”»ï¼Œä¸­é€”è¿˜å°è¯•äº†ä¸‹ç”»åŠ¨ç”»å¸§ã€‚æ¯å¤©ä¹Ÿä¼šç”¨ <a href="https://eagle.cool/">Eagle</a> æ”¶é›†ä¸€ä¸‹å‚è€ƒç”¨çš„ç´ æï¼Œè¿™ä¸ªè½¯ä»¶çœ‹åŠ¨ç”»å¸§ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚</p><p><img src="http://img.frankorz.com/20210418134913.png" alt="Eagle"></p><p>æŒ‘æˆ˜é€”ä¸­ï¼Œæˆ‘è¿˜æ‰¾äº†ä¸€äº›ç´ æå‚è€ƒï¼Œå…¶ä¸­ååˆ†æœ‰ç”¨çš„æ˜¯é£å†œç¿»è¯‘çš„è”šè“ä¸»ç¾ <a href="https://www.patreon.com/saint11">Pedra Medeiros</a> çš„ä¸€ç³»åˆ—åƒç´ ç”»æ•™ç¨‹ï¼š<a href="https://space.bilibili.com/7647261/article">saint11åƒç´ å®å…¸</a> å’Œ <a href="https://jkllin.zcool.com.cn/">JKLLIN</a> çš„<a href="https://www.zcool.com.cn/work/ZNDM5MTM4MDA=.html">åƒç´ ç”»å­¦ä¹ ç³»åˆ—</a>ã€‚åƒç´ å®å…¸é‡Œé¢è¿˜æ•™äº†å¾ˆå¤šæ¸¸æˆä¸­å¾ˆæœ‰ç”¨çš„åŠ¨ç”»å¸§ç”»æ³•ï¼Œæ¯”å¦‚æ”»å‡»æ—¶çš„å‡†å¤‡å¸§ã€ä¸åŒé£æ ¼å¦‚å…‰é­”æ³•å’Œé»‘æš—é­”æ³•çš„è¡¨ç°ç­‰ã€‚</p><p>å¦‚æœè¿˜æƒ³æ·±å…¥ï¼Œæˆ‘ååˆ†æ¨è <a href="https://michafrar.com/">Michael Azzi</a> å†™çš„ <a href="https://pixellogicbook.com/">Pixel Logic</a> è¿™æœ¬ä¹¦ï¼ŒB ç«™çš„ç‰©æš—å…ˆç”Ÿ<a href="https://www.bilibili.com/read/cv8026953/">æ±‰åŒ–</a>è¿‡ã€‚è¿™æœ¬ä¹¦é‡Œé¢ä»‹ç»äº†å¾ˆå¤šåƒç´ ç”»çš„ä¸“æœ‰æ¦‚å¿µï¼Œè¿˜å¼•ç”¨äº†å¾ˆå¤šåƒç´ æ¸¸æˆä½œä¸ºå‚è€ƒï¼Œå¦‚æœæƒ³åšä¸€ä¸ªåƒç´ æ¸¸æˆï¼Œä½ èƒ½ä»ä¸­è·ç›Šå¾ˆå¤šã€‚</p><p>æˆ‘è¿˜ç»å¸¸é€›é€› Twitter çš„åƒç´ ç”»æ ‡ç­¾ï¼Œå¦‚ï¼š<a href="https://twitter.com/hashtag/pixelart">pixelart</a>ã€<a href="https://twitter.com/hashtag/%E3%83%89%E3%83%83%E3%83%88%E7%B5%B5">ãƒ‰ãƒƒãƒˆçµµ</a>ç­‰ï¼ŒArtstation çš„ <a href="https://www.artstation.com/search?q=pixel%20art&amp;sort_by=relevance">Pixel Art ç”»</a>ï¼Œè¿˜æœ‰ Deviant Art çš„ <a href="https://www.deviantart.com/topic/pixel-art">Pixel Art ä¸»é¢˜</a>ã€‚æ‰¾åˆ°å‚è€ƒçš„åŒæ—¶ï¼Œè¿˜èƒ½è¿›ä¸€æ­¥æ‰¾åˆ°è‡ªå·±<strong>å–œæ¬¢çš„é£æ ¼</strong>ï¼Œè¿™æ ·å¯ä»¥è·Ÿç€ç”»çš„ä½œè€…è¿›ä¸€æ­¥äº†è§£è¿™ç§é£æ ¼çš„åƒç´ ç”»ç”»æ³•ã€‚</p><h2 id="æ”¾å¼ƒ">æ”¾å¼ƒ</h2><p>ç›´åˆ°ç¬¬ 24 å¤©æˆ‘å†³å®šæ”¾å¼ƒï¼Œå…¶å®è¿˜æ˜¯æ—¶é—´çš„é—®é¢˜ï¼Œå›åˆ°å®¶è‡ªå·±çš„æ—¶é—´ä¹Ÿå°±ä¸¤ä¸‰ä¸ªå°æ—¶ï¼Œæœ‰æ—¶å€™çº ç»“ä¸€ä¸‹é¢œè‰²å’Œå‚è€ƒï¼Œä¸€å †æ—¶é—´å°±è¿‡å»äº†ï¼Œæˆ‘å¸Œæœ›æŠŠæ—¶é—´æ›´å¤šåœ°é‡æ–°æ”¾åœ¨æŠ€æœ¯ä¸Šã€‚</p><p>å½“ç„¶è¿™ 24 å¤©æˆ‘ä¹Ÿæ˜¯æ”¶è·äº†ä¸å°‘ï¼Œå¯¹åƒç´ ç”»æœ‰äº†åŸºæœ¬çš„äº†è§£ï¼Œå¯¹é¢œè‰²ä¹Ÿå¼€å§‹æœ‰äº†é‚£ä¹ˆç‚¹æ¦‚å¿µã€‚å·¥ä½œä¸­åšæ¸¸æˆç³»ç»ŸåŸå‹çš„æ—¶å€™éƒ½èƒ½ä¸ç­‰ç¾æœ¯èµ„æºï¼Œè‡ªå·±éšä¾¿ç”»å›¾å‡‘åˆç”¨äº† hhhã€‚æ¸¸æˆå¼€å‘è€…åœ¨å­¦åƒç´ ç”»çš„æ—¶å€™ï¼Œä¹Ÿèƒ½è¯·æ•™ä¸‹å·¥ä½œå®¤ä¸­çš„ç¾æœ¯ï¼Œä»¥åè¯´ä¸å®šè¿˜èƒ½é ç€è‡ªå·±çš„åƒç´ ç”»åšç‹¬ç«‹å¼€å‘ï¼Œä¸€ç®­åŒé›•ï¼</p><p>å¤§å®¶åœ¨ä¸€å¼€å§‹ç”»çš„æ—¶å€™ä»å°å›¾ç”»èµ·ï¼Œ$ 16 Ã— 16 $ åˆ° $ 64 Ã— 64 $ çš„ç”»å¸ƒå°±å·²ç»è¶³å¤Ÿäº†ï¼Œè¿™æ ·çš„ç”»å¸ƒä¹Ÿä¸éœ€è¦ç»˜ç”»æ¿ï¼Œé¼ ç»˜å°±è¶³å¤Ÿäº†ï¼Œæˆ‘ç›¸ä¿¡ç”»åˆ°ä¸€å®šç¨‹åº¦ï¼Œå°±ä¼šçŸ¥é“è‡ªå·±éœ€ä¸è¦ä¸€ä¸ªç»˜ç”»æ¿äº†ã€‚</p><h2 id="æœ€å">æœ€å</h2><p>æœ¬æ–‡ä½œä¸ºå­¦ä¹ è¿‡ç¨‹çš„è®°å½•ï¼Œå¸Œæœ›èƒ½ç»™è¯»è€…æ¿€èµ·å­¦åƒç´ ç”»çš„å…´è¶£ï¼Œé¿å…èµ°ä¸€äº›å¼¯è·¯ã€‚åšä¸»å­¦åƒç´ ç”»ä¹Ÿæ˜¯ä¸ºäº†ç‚¹ä¸€ä¸‹ç‹¬ç«‹å¼€å‘çš„æŠ€èƒ½ï¼Œè™½ç„¶ç”»çš„ä¸æ€ä¹ˆæ ·ï¼Œè‡³å°‘ä¸æ€•ç”»ç”»äº†ï¼</p><p>å¦‚æœä½ å¯¹æˆ‘ 24 å¤©çš„åƒç´ ç”»æ„Ÿå…´è¶£ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œæˆ–è€…åšå®¢å³ä¸Šè§’çš„ç›¸å¯¹åº”çš„æ ‡ç­¾æŸ¥çœ‹ã€‚</p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='http://img.frankorz.com/day23-dog-in-snow.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">åƒç´ ç”»</div>  <p>åƒç´ ç”»æŒ‘æˆ˜</p>  <a href='/pixel-art/'></a>  </figcaption>  </figure>  </div>]]></content>
    
    
    <summary type="html">&lt;p&gt;å‰ä¸ä¹…ååˆ†åŒå­¦ï¼Œæƒ³ç€æ˜¯ä¸æ˜¯å­¦åºŸäº†ï¼Œå°±æƒ³æ‰¾åˆ°å…¶ä»–çš„ä¸œè¥¿å­¦å­¦ï¼Œäºæ˜¯æœ‰ä¸€å¤©å‘¨æ—¥å°è¯•äº†åŒæ—¶å…¥é—¨ Blender å’Œ åƒç´ ç”»ã€‚&lt;/p&gt;
&lt;p&gt;å»ºæ¨¡å…¶å®å’Œ Unity ç”¨åˆå§‹æ¨¡å‹æ­ç§¯æœ¨å·®ä¸å¤šï¼Œå…¥é—¨ä¹Ÿè¿˜å¥½ã€‚ä½†æ˜¯è‡ªå·±ä»å°å°±æ˜¯å¯¹ç¾æœ¯ç»ç¼˜ï¼Œåªæœ‰åˆä¸­çš„æ—¶å€™ä¼šå’Œå…¶ä»–åŒé¾„äººä¸€æ ·ç…§ç€æ¼«ç”»ä¹¦çç”»ã€‚åæ¥å°±ç›´åˆ°ç°åœ¨ï¼Œå› æ­¤å¼€å§‹ç”»åƒç´ ç”»çš„æ—¶å€™è¿˜æ˜¯ååˆ†ä¸é€‚åº”ï¼Œæ„Ÿè§‰æ¯ä¸€ä¸ªç‚¹éƒ½æ˜¯ä¸ºæ— ç”¨è‰ºæœ¯ç•Œæ·»ç –åŠ ç“¦ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥å†³å®šç”»åƒç´ ç”»çš„å¥‘æœºæ˜¯å¬&lt;a href=&quot;https://gulugulufm.github.io/podcasts/2/&quot;&gt;æ’­å®¢&lt;/a&gt;ä»‹ç»åˆ°ä¸€ä¸ªç å†œå§å§ä¸ºäº†åšæ¸¸æˆ&lt;a href=&quot;https://www.douban.com/note/773573673/&quot;&gt;åšæŒ 100 å¤©ç”»åƒç´ ç”»&lt;/a&gt;ï¼Œäºæ˜¯å°‘å¹´é‚£é¢—ä¸çŸ¥å¤©é«˜åœ°åšçš„å¿ƒæ€¦ç„¶åœ°ç‡ƒçƒ§èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;æ•™ç»ƒï¼æˆ‘æƒ³å­¦ç”»ç”»ï¼&lt;/p&gt;</summary>
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="ç»˜ç”»" scheme="http://frankorz.com/tags/%E7%BB%98%E7%94%BB/"/>
    
  </entry>
  
  <entry>
    <title>Compute Shader ç®€ä»‹</title>
    <link href="http://frankorz.com/2021/04/17/compute-shader/"/>
    <id>http://frankorz.com/2021/04/17/compute-shader/</id>
    <published>2021-04-17T22:14:30.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>åšæ¸¸æˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸è¦é¢å¯¹å„ç§ä¼˜åŒ–é—®é¢˜ã€‚DOTS æŠ€æœ¯æ ˆçš„å‡ºç°æä¾›äº†ä¸€ç§ CPU ç«¯çš„å¤šçº¿ç¨‹æ–¹æ¡ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦ä¹Ÿèƒ½å°†ä¸€äº›è®¡ç®—è½¬åˆ° GPU ä¸Šé¢ï¼Œä»è€Œå¹³è¡¡å¥½å¯¹ CPU å’Œ GPU çš„ä½¿ç”¨å‘¢ï¼Ÿå¯¹æˆ‘è€Œè¨€ï¼Œä»¥å‰ä½¿ç”¨ GPU æ— éæ˜¯é€šè¿‡å†™ vert/frag shaderã€åšå¥½æ¸²æŸ“ç›¸å…³çš„è®¾ç½®ç­‰æ“ä½œï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬è¿˜èƒ½ä½¿ç”¨ GPU çš„è®¡ç®—èƒ½åŠ›æ¥å¸®æˆ‘ä»¬è§£å†³é—®é¢˜ã€‚Compute Shader å°±æ˜¯æˆ‘ä»¬è·Ÿ GPU è¯·æ±‚è®¡ç®—çš„ä¸€ç§æ‰‹æ®µã€‚</p><p>æœ¬æ–‡å°†ä»å¹¶è¡Œæ¶æ„å¼€å§‹ï¼Œä¾æ¬¡è®²è§£ä¸€ä¸ªæœ€ç®€å•çš„ Compute Shaderçš„ç¼–å†™ã€çº¿ç¨‹ä¸çº¿ç¨‹ç»„çš„æ¦‚å¿µã€GPU ç»“æ„å’Œå…¶è®¡ç®—æµæ°´çº¿ï¼Œå¹¶è®²è§£ä¸€ä¸ªé¸Ÿç¾¤ Flocking çš„å®ä¾‹ï¼Œæœ€åä»‹ç» Compute Shader çš„åº”ç”¨ã€‚å…¨æ–‡è¾ƒé•¿ï¼Œè¯»è€…å¯ä»¥é€šè¿‡ç›®å½•æŒ‘æƒ³çœ‹çš„çœ‹ã€‚</p><p>Compute Shader ä¹Ÿå’Œä¼ ç»Ÿç€è‰²å™¨çš„å†™æ³•ååˆ†ä¸ä¸€æ ·ï¼Œå†™ä¼ ç»Ÿ Shader å†™æ€•äº†çš„åŒå­¦è¯·æ”¾å¿ƒ~</p><span id="more"></span><h2 id="ä»‹ç»">ä»‹ç»</h2><p>å½“ä»Šçš„ GPU å·²ç»é’ˆå¯¹å•å€æˆ–è¿ç»­åœ°å€çš„å¤§é‡å†…å­˜å¤„ç†ï¼ˆäº¦ç§°ä¸ºæµå¼æ“ä½œï¼Œstreaming operationï¼‰è¿›è¡Œäº†ä¼˜åŒ–ï¼Œè¿™ä¸ CPU é¢å‘å†…å­˜éšæœºè®¿é—®çš„è®¾è®¡ç†å¿µåˆ™åˆšå¥½èƒŒé“è€Œé©°ã€‚å†è€…ï¼Œè€ƒè™‘åˆ°è¦å¯¹é¡¶ç‚¹ä¸åƒç´ åˆ†åˆ«è¿›è¡Œå•ç‹¬çš„å¤„ç†ï¼Œå› æ­¤ GPU ç°å·²ç»é‡‡ç”¨äº†å¤§è§„æ¨¡å¹¶è¡Œå¤„ç†æ¶æ„ã€‚ä¾‹å¦‚ï¼ŒNVIDIA å…¬å¸å¼€å‘çš„ â€œFermiâ€ æ¶æ„æœ€å¤šå¯æ”¯æŒ 16 ä¸ªæµå¼å¤šå¤„ç†å™¨ï¼ˆstreaming multiprocessor, SMï¼‰ï¼Œè€Œæ¯ä¸ªæµå¼å¤„ç†å™¨åˆå‡å«æœ‰ 32 ä¸ª CUDA æ ¸å¿ƒï¼Œä¹Ÿå°±æ˜¯å…± 512 ä¸ª CUDA æ ¸å¿ƒã€‚</p><p>CUDA ä¸ OpenCL å…¶å®å°±æ˜¯é€šè¿‡è®¿é—® GPU æ¥ç¼–å†™é€šç”¨è®¡ç®—ç¨‹åºçš„ä¸¤ç»„ä¸åŒçš„ APIã€‚</p><p><img src="http://img.frankorz.com/cpu-gpu-compare.png" alt="CPU compare GPU"></p><p>ç°ä»£çš„ CPU æœ‰ 4-8 ä¸ª Coreï¼Œæ¯ä¸ª Core å¯ä»¥åŒæ—¶æ‰§è¡Œ 4-8 ä¸ªæµ®ç‚¹æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬å‡è®¾ CPU æœ‰ 64 ä¸ªæµ®ç‚¹æ‰§è¡Œå•å…ƒï¼Œç„¶è€Œ GPU å´å¯ä»¥æœ‰ä¸Šåƒä¸ªè¿™æ ·çš„æ‰§è¡Œå•å…ƒã€‚ä»…ä»…åªæ˜¯æ¯”è¾ƒ GPU å’Œ CPU çš„ Core æ•°é‡æ˜¯ä¸å…¬å¹³çš„ï¼Œå› ä¸ºå®ƒä»¬çš„èŒèƒ½ä¸åŒï¼Œç»„ç»‡å½¢å¼ä¹Ÿä¸åŒã€‚</p><p>æ˜¾ç„¶ï¼Œå›¾å½¢çš„ç»˜åˆ¶ä¼˜åŠ¿å®Œå…¨å¾—ç›Šäº GPU æ¶æ„ï¼Œå› ä¸ºè¿™æ¶æ„å°±æ˜¯ä¸“ä¸ºç»˜å›¾è€Œç²¾å¿ƒè®¾è®¡çš„ã€‚ä½†æ˜¯ï¼Œä¸€äº›éå›¾å½¢åº”ç”¨ç¨‹åºåŒæ ·å¯ä»¥ä» GPU å¹¶è¡Œæ¶æ„æ‰€æä¾›çš„å¼ºå¤§è®¡ç®—èƒ½åŠ›ä¸­å—ç›Šã€‚æˆ‘ä»¬å°† GPU ç”¨äºéå›¾å½¢åº”ç”¨ç¨‹åºçš„æƒ…å†µç§°ä¸º<strong>é€šç”¨ GPU ç¨‹åºè®¾è®¡</strong>ï¼ˆé€šç”¨ GPU ç¼–ç¨‹ã€‚General Purpose GPU programming, GPGPU programmingï¼‰ã€‚å½“ç„¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç®—æ³•éƒ½é€‚åˆç”± GPU æ¥æ‰§è¡Œï¼Œåªæœ‰æ•°æ®å¹¶è¡Œç®—æ³•ï¼ˆdata-parallel algorithmï¼‰ æ‰èƒ½å‘æŒ¥å‡º GPU å¹¶è¡Œæ¶æ„çš„ä¼˜åŠ¿ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»…å½“æ‹¥æœ‰å¤§é‡å¾…æ‰§è¡Œç›¸åŒæ“ä½œçš„æ•°æ®æ—¶ï¼Œæ‰æœ€é€‚å®œé‡‡ç”¨å¹¶è¡Œå¤„ç†ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><p>ç²’å­ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ç®€åŒ–ç²’å­ä¹‹é—´çš„å…³ç³»æ¨¡å‹ï¼Œä½¿å®ƒä»¬å½¼æ­¤æ¯«æ— å…³è”ï¼Œä¸ä¼šç›¸äº’å½±å“ï¼Œä»¥æ­¤ä½¿æ¯ä¸ªç²’å­çš„ç‰©ç†ç‰¹å¾éƒ½å¯ä»¥åˆ†åˆ«ç‹¬ç«‹åœ°è®¡ç®—å‡ºæ¥ã€‚</p><p>å¯¹äº GPGPU ç¼–ç¨‹è€Œè¨€ï¼Œç”¨æˆ·é€šå¸¸éœ€è¦å°†è®¡ç®—ç»“æœè¿”å› CPU ä¾›å…¶è®¿é—®ã€‚è¿™å°±éœ€å°†æ•°æ®ç”±æ˜¾å­˜å¤åˆ¶åˆ°ç³»ç»Ÿå†…å­˜ï¼Œè™½è¯´è¿™ä¸ªè¿‡ç¨‹çš„é€Ÿåº¦è¾ƒæ…¢ï¼ˆè§ä¸‹å›¾ï¼‰ï¼Œä½†æ˜¯ GPU åœ¨è¿ç®—æ—¶æ‰€ç¼©çŸ­çš„æ—¶é—´ç›¸æ¯”å´æ˜¯å¾®ä¸è¶³é“çš„ã€‚ é’ˆå¯¹å›¾å½¢å¤„ç†ä»»åŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬ä¸€èˆ¬å°†è¿ç®—ç»“æœä½œä¸ºæ¸²æŸ“æµæ°´çº¿çš„è¾“å…¥ï¼Œæ‰€ä»¥æ— é¡»å†ç”± GPU å‘ CPU ä¼ è¾“æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è®¡ç®—ç€è‰²å™¨ï¼ˆCompute Shaderï¼‰å¯¹çº¹ç†è¿›è¡Œæ¨¡ç³Šå¤„ç†ï¼ˆblurï¼‰ï¼Œå†å°†ç€è‰²å™¨èµ„æºè§†å›¾ï¼ˆshader resource viewï¼ŒDirectX çš„æ¦‚å¿µï¼‰ï¼Œä¸æ¨¡ç³Šå¤„ç†åçš„çº¹ç†ç›¸ç»‘å®šï¼Œä»¥ä½œä¸ºç€è‰²å™¨çš„è¾“å…¥ã€‚</p><p><img src="http://img.frankorz.com/cpu-gpu-speed.png" alt="CPU ä¸ GPU çš„æ•°æ®ä¼ è¾“"></p><p>è®¡ç®—ç€è‰²å™¨è™½ç„¶æ˜¯ä¸€ç§å¯ç¼–ç¨‹çš„ç€è‰²å™¨ï¼Œä½† Direct3D å¹¶æ²¡æœ‰å°†å®ƒç›´æ¥å½’ä¸ºæ¸²æŸ“æµæ°´çº¿ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è™½ç„¶å¦‚æ­¤ï¼Œä½†ä½äºæµæ°´çº¿ä¹‹å¤–çš„è®¡ç®—ç€è‰²å™¨å´å¯ä»¥è¯»å†™ GPU èµ„æºã€‚ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œè®¡ç®—ç€è‰²å™¨èƒ½å¤Ÿä½¿æˆ‘ä»¬è®¿é—® GPU æ¥å®ç°æ•°æ®å¹¶è¡Œç®—æ³•ï¼Œè€Œä¸å¿…æ¸²æŸ“å‡ºä»»ä½•å›¾å½¢ã€‚æ­£å¦‚å‰æ–‡æ‰€è¯´ï¼Œè¿™ä¸€ç‚¹å³ä¸º GPGPU ç¼–ç¨‹ä¸­æä¸ºå®ç”¨çš„åŠŸèƒ½ã€‚å¦å¤–ï¼Œè®¡ç®—ç€è‰²å™¨è¿˜èƒ½å®ç°è®¸å¤šå›¾å½¢ç‰¹æ•ˆâ€”â€”å› æ­¤å¯¹äºå›¾å½¢ç¨‹åºå‘˜æ¥è¯´ï¼Œå®ƒä¹Ÿæ˜¯æå…·ä½¿ç”¨ä»·å€¼çš„ã€‚å‰é¢æåˆ°ï¼Œç”±äºè®¡ç®—ç€è‰²å™¨æ˜¯ Direct3D çš„ç»„æˆéƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥è¯»å†™ Direct3D èµ„æºï¼Œç”±æ­¤æˆ‘ä»¬å°±å¯ä»¥å°†å…¶è¾“å‡ºçš„æ•°æ®ç›´æ¥ç»‘å®šåˆ°æ¸²æŸ“æµæ°´çº¿ä¸Šã€‚</p><p><img src="http://img.frankorz.com/compute-shader-pipeline.png" alt="è®¡ç®—ç€è‰²å™¨å¹¶éæ¸²æŸ“æµæ°´çº¿çš„ç»„æˆéƒ¨åˆ†ï¼Œä½†æ˜¯å´å¯ä»¥è¯»å†™GPU èµ„æºã€‚è€Œä¸”è®¡ç®—ç€è‰²å™¨ä¹Ÿå¯ä»¥å‚ä¸å›¾å½¢çš„æ¸²æŸ“æˆ–å•ç‹¬ç”¨äº GPGPU ç¼–ç¨‹"></p><h2 id="æœ€ç®€å•çš„-Compute-Shader">æœ€ç®€å•çš„ Compute Shader</h2><p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€ä¸ªæœ€ç®€å•çš„ Compute Shader çš„ç»“æ„ã€‚</p><p>Unity å³é”® â†’ Create â†’ Shader â†’ Compute Shader å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„ Compute Shaderã€‚</p><p>Compute Shader æ–‡ä»¶æ‰©å±•åä¸º .computeï¼Œå®ƒä»¬æ˜¯ä»¥ <a href="https://docs.unity3d.com/cn/current/Manual/SL-ShadingLanguage.html">DirectX 11 æ ·å¼ HLSL è¯­è¨€</a>ç¼–å†™çš„ã€‚</p><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma kernel CSMain</span></span><br><span class="line"></span><br><span class="line">RWTexture2D&lt;float4&gt; Result;</span><br><span class="line"></span><br><span class="line">[numthreads(<span class="number">8</span>,<span class="number">8</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="type">void</span> CSMain(uint3 id : SV_DispatchThreadID)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘æŠŠæ¨¡æ¿ä¸­ä¸‹é¢è¿™è¡Œæ”¹äº†</span></span><br><span class="line">    Result[id.xy] = float4(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1.0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬ 1 è¡Œï¼šä¸€ä¸ªè®¡ç®—ç€è‰²å™¨èµ„æºæ–‡ä»¶å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªå¯ä»¥è°ƒç”¨çš„ compute kernelï¼Œå®é™…ä¸Šè¿™ä¸ª kernel å¯¹åº”çš„å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ç”± <code>#pragma</code> æŒ‡ç¤ºï¼Œåå­—è¦å’Œå‡½æ•°åä¸€è‡´ã€‚ä¸€ä¸ª Shader ä¸­å¯ä»¥æœ‰å¤šä¸ªå†…æ ¸ï¼Œåªéœ€å®šä¹‰å¤šä¸ª <code>#pragma kernel functionName</code> å’Œå¯¹åº”çš„å‡½æ•°å³å¯ï¼ŒC# è„šæœ¬å¯ä»¥é€šè¿‡ kernel çš„åå­—æ¥æ‰¾åˆ°å¯¹åº”è¦æ‰§è¡Œçš„å‡½æ•°ï¼ˆ <code>shader.FindKernel(functionName)</code>ï¼‰ã€‚</p><p>ç¬¬ 3 è¡Œï¼š RWTexture2D æ˜¯ä¸€ç§å¯ä¾› Compute Shader è¯»å†™çš„çº¹ç†ï¼ŒC# è„šæœ¬å¯ä»¥é€šè¿‡ <code>SetTexture()</code> è®¾ç½®ä¸€ä¸ªå¯è¯»å†™çš„ RenderTexture ä¾›  Compute Shader ä¿®æ”¹åƒç´ é¢œè‰²ã€‚å…¶ä¸­ RW ä»£è¡¨å¯è¯»å†™ã€‚</p><p>ç¬¬ 5 è¡Œï¼š<code>numthreads</code> è®¾ç½®çº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹æ•°ã€‚ç»„ä¸­çš„çº¿ç¨‹å¯ä»¥è¢«è®¾ç½®ä¸º 1Dã€2D æˆ– 3D çš„ç½‘æ ¼å¸ƒå±€ã€‚çº¿ç¨‹ç»„å’Œçº¿ç¨‹çš„æ¦‚å¿µä¸‹æ–‡ä¼šæåˆ°ã€‚</p><p>ç¬¬ 6 è¡Œï¼šCSMain ä¸ºå‡½æ•°åï¼Œéœ€è¦å’Œ pragma å®šä¹‰çš„ kernel åä¸€ä¸€å¯¹åº”ã€‚ä¸€ä¸ªå‡½æ•°ä½“ä»£è¡¨ä¸€ä¸ªçº¿ç¨‹è¦æ‰§è¡Œçš„è¯­å¥ï¼Œä¼ è¿›æ¥çš„ <code>SV_DispatchThreadID</code> æ˜¯ä¸‰ç»´çš„çº¿ç¨‹ idï¼Œä¸‹æ–‡ä¼šæåˆ°ã€‚</p><p>ç¬¬ 9 è¡Œï¼šæ ¹æ®å½“å‰çº¿ç¨‹ id ç´¢å¼•åˆ°å¯è¯»å†™çº¹ç†å¯¹åº”çš„åƒç´ ï¼Œå¹¶è®¾ç½®é¢œè‰²ã€‚</p><p>C# è„šæœ¬è¿™è¾¹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitShader</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    _image = GetComponent&lt;Image&gt;();</span><br><span class="line">    _kernelIndex = computeShader.FindKernel(<span class="string">&quot;CSMain&quot;</span>);</span><br><span class="line">    <span class="built_in">int</span> width = <span class="number">1024</span>, height = <span class="number">1024</span>;</span><br><span class="line">    _rt = <span class="keyword">new</span> RenderTexture(width, height, <span class="number">0</span>) &#123;enableRandomWrite = <span class="literal">true</span>&#125;;</span><br><span class="line">    _rt.Create();</span><br><span class="line"></span><br><span class="line">    _image.material.SetTexture(<span class="string">&quot;_MainTex&quot;</span>, _rt);</span><br><span class="line">    computeShader.SetTexture(_kernelIndex, <span class="string">&quot;Result&quot;</span>, _rt);</span><br><span class="line">    computeShader.Dispatch(_kernelIndex, width / <span class="number">8</span>, height / <span class="number">8</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬ 4 è¡Œï¼šä¸€ä¸ª Compute Shader å¯èƒ½æœ‰å¤šä¸ª Kernelï¼Œè¿™é‡Œæ ¹æ®åå­—æ‰¾åˆ°éœ€è¦çš„ KernelIndexï¼Œè¿™æ ·è„šæœ¬æ‰çŸ¥é“è¦æŠŠæ•°æ®é€ç»™å“ªä¸€ä¸ªå‡½æ•°è¿ç®—ã€‚</p><p>ç¬¬ 6ã€7 è¡Œï¼šåˆ›å»ºä¸€ä¸ªæ”¯æŒéšæœºè¯»å†™çš„ <code>RenderTexture</code> ã€‚</p><p>ç¬¬ 10 è¡Œï¼šä¸º Compute Shader è®¾ç½®è¦è¯»å†™çš„çº¹ç†ã€‚</p><p>ç¬¬ 11 è¡Œï¼šè®¾ç½®å¥½è¦æ‰§è¡Œçš„çº¿ç¨‹ç»„çš„æ•°é‡ï¼Œå¹¶å¼€å§‹æ‰§è¡Œ Compute Shaderã€‚çº¿ç¨‹ç»„æ•°é‡çš„è®¾ç½®ä¸‹æ–‡ä¼šæåˆ°ã€‚</p><p>å°† Compute Shader åœ¨ Inspector èµ‹å€¼ç»™è„šæœ¬ï¼Œç„¶åå°†è„šæœ¬æŒ‚åœ¨ä¸€ä¸ªæœ‰ Image ç»„ä»¶çš„ GameObject ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°è“è‰²çš„å›¾ç‰‡ã€‚</p><p><img src="http://img.frankorz.com/simple-compute-shader-demo.png" alt="ç®€å•çš„ç€è‰²å™¨ç¤ºä¾‹"></p><p>åˆ°ç°åœ¨æˆ‘ä»¬åº”è¯¥å¤§æ¦‚æ˜ç™½äº†ï¼š</p><ul><li>kernel å‡½æ•°é‡Œé¢æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„è¦æ‰§è¡Œçš„é€»è¾‘ã€‚</li><li>æˆ‘ä»¬éœ€è¦è®¾ç½®çº¿ç¨‹ç»„çš„æ•°é‡ï¼ˆDispatchï¼‰ã€å’Œçº¿ç¨‹ç»„å†…çº¿ç¨‹çš„æ•°é‡ï¼ˆnumthreadsï¼‰ã€‚</li><li>æˆ‘ä»¬å¯ä»¥ä¸º Compute Shader è®¾ç½®çº¹ç†ç­‰å¯è¯»å†™èµ„æºã€‚</li></ul><p>é‚£ä¹ˆä»€ä¹ˆæ˜¯çº¿ç¨‹ç»„å’Œçº¿ç¨‹å‘¢ï¼Ÿæˆ‘ä»¬åˆè¯¥å¦‚ä½•è®¾ç½®æ•°é‡ï¼Ÿ</p><h2 id="å¦‚ä½•åˆ’åˆ†å·¥ä½œï¼šçº¿ç¨‹ä¸çº¿ç¨‹ç»„">å¦‚ä½•åˆ’åˆ†å·¥ä½œï¼šçº¿ç¨‹ä¸çº¿ç¨‹ç»„</h2><p>åœ¨ GPU ç¼–ç¨‹çš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ç¨‹åºå…·ä½“çš„æ‰§è¡Œéœ€æ±‚ï¼Œå¯å°† <strong>çº¿ç¨‹</strong> åˆ’åˆ†ä¸ºç”± <strong>çº¿ç¨‹ç»„ï¼ˆthread groupï¼‰</strong> æ„æˆ çš„ç½‘æ ¼ï¼ˆgridï¼‰ã€‚</p><p><code>numthread</code> å’Œ <code>Dispatch</code> çš„ä¸‰ç»´ Grid çš„è®¾ç½®æ–¹å¼åªæ˜¯æ–¹ä¾¿é€»è¾‘ä¸Šçš„åˆ’åˆ†ï¼Œç¡¬ä»¶æ‰§è¡Œçš„æ—¶å€™è¿˜ä¼šæŠŠæ‰€æœ‰çº¿ç¨‹å½“æˆä¸€ç»´çš„ã€‚å› æ­¤ <code>numthread(8, 8, 1)</code> å’Œ <code>numthread(64, 1, 1)</code> åªæ˜¯å¯¹æˆ‘ä»¬æ¥è¯´ç´¢å¼•çº¿ç¨‹çš„æ–¹å¼ä¸ä¸€æ ·è€Œå·²ï¼Œé™¤å¤–æ²¡åŒºåˆ«ã€‚</p><h3 id="çº¿ç¨‹ç»„æ„æˆçš„-3D-ç½‘æ ¼">çº¿ç¨‹ç»„æ„æˆçš„ 3D ç½‘æ ¼</h3><p>ä¸‹å›¾æ˜¯ <code>Dispatch(5,3,2)</code>ï¼Œ <code>numthreads(10,8,3)</code> æ—¶çš„æƒ…å†µã€‚</p><p>æ³¨æ„ä¸‹å›¾ Y è½´æ˜¯ DirectX çš„æ–¹å‘ï¼Œå‘ä¸‹é€’å¢ï¼Œè€Œ Compute Shader ä¸­ Y è½´æ˜¯ç›¸åçš„ï¼Œå‘ä¸Šé€’å¢ï¼Œè¿™é‡Œå‚è€ƒç½‘æ ¼å†…çš„ç»“æ„å’Œçº¿ç¨‹ç»„ä¸çº¿ç¨‹çš„å…³ç³»å³å¯ã€‚</p><p><img src="http://img.frankorz.com/dx-grid-of-thread-group.png" alt="çº¿ç¨‹ç»„ 3D ç½‘æ ¼"></p><p>ä¸Šå›¾ä¸­è¿˜æ˜¾ç¤ºäº† <code>SV_DispatchThreadID</code> æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚</p><p>ä¸éš¾çœ‹å‡ºï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ ¹æ®éœ€æ±‚å®šä¹‰å‡ºä¸åŒçš„çº¿ç¨‹ç»„å¸ƒå±€ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªå…·æœ‰ X ä¸ªçº¿ç¨‹çš„å•è¡Œçº¿ç¨‹ç»„ <code>[numthreads(X, 1, 1)]</code> æˆ–å†…å« Y ä¸ªçº¿ç¨‹çš„å•åˆ—çº¿ç¨‹ç»„ <code>[numthreads(1, Y, 1)]</code>ã€‚</p><p>è¿˜å¯ä»¥é€šè¿‡å°†ç»´åº¦ z è®¾ä¸º 1 æ¥å®šä¹‰è§„æ¨¡ä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>Ã—</mo><mi>Y</mi></mrow><annotation encoding="application/x-tex">X Ã— Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span></span> çš„ 2D çº¿ç¨‹ç»„ï¼Œå½¢å¦‚ <code>[numthreads(X, Y, 1)]</code>ã€‚æˆ‘ä»¬åº”ç»“åˆæ‰€é‡åˆ°çš„å…·ä½“é—®é¢˜æ¥é€‰æ‹©é€‚å½“çš„çº¿ç¨‹ç»„å¸ƒå±€ã€‚</p><p>ä¾‹å¦‚å½“æˆ‘ä»¬å¤„ç† 2D å›¾åƒæ—¶ï¼Œéœ€è¦è®©æ¯ä¸€ä¸ªçº¿ç¨‹å•ç‹¬å¤„ç†ä¸€ä¸ªåƒç´ ï¼Œå°±å¯ä»¥å®šä¹‰ 2D çš„çº¿ç¨‹ç»„ã€‚å‡è®¾æˆ‘ä»¬ <code>numthreads</code> è®¾ç½®ä¸º (8, 8, 1)ï¼Œé‚£ä¹ˆä¸€ä¸ªçº¿ç¨‹ç»„å°±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">8Ã—8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> ä¸ªçº¿ç¨‹ï¼Œèƒ½å¤„ç† <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">8Ã—8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span> çš„åƒç´ å—ï¼ˆå†…å« 64 ä¸ªåƒç´ ç‚¹ï¼‰ã€‚</p><p>é‚£ä¹ˆå¦‚æœæˆ‘ä»¬è¦å¤„ç†ä¸€ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>e</mi><mi>x</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>Ã—</mo><mi>t</mi><mi>e</mi><mi>x</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">texResolution Ã— texResolution</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">eso</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">eso</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span></span></span></span> åˆ†è¾¨ç‡çš„çº¹ç†ï¼Œé‚£ä¹ˆéœ€è¦å¤šå°‘ä¸ªçº¿ç¨‹ç»„å‘¢ï¼Ÿ</p><p>x å’Œ y æ–¹å‘éƒ½éœ€è¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>e</mi><mi>x</mi><mi>R</mi><mi>e</mi><mi>s</mi><mi>o</mi><mi>l</mi><mi>u</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi mathvariant="normal">/</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">texResolution / 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">eso</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord">/8</span></span></span></span> ä¸ªçº¿ç¨‹ç»„ã€‚</p><img class="inline-img" src="http://img.frankorz.com/thread-group-explain.png" style="height:250px"/><!-- ![Thread Group of image](http://img.frankorz.com/thread-group-explain.png) --><p>å¯ä»¥é€šè¿‡çº¿ç¨‹ç»„æ¥åˆ’åˆ†è¦å¤„ç†å“ªäº›åƒç´ å—ï¼ˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">8Ã—8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>ï¼‰</p><p><img src="http://img.frankorz.com/thread-group-explain-1.png" alt="çº¿ç¨‹ç»„è§£é‡Š"></p><p><img src="http://img.frankorz.com/thread-group-explain-2.png" alt="çº¿ç¨‹ç»„è§£é‡Š"></p><p>numthreads æœ‰æœ€å¤§çº¿ç¨‹é™åˆ¶ï¼Œå…·ä½“æŸ¥é˜…ä¸åŒå¹³å°çš„æ–‡æ¡£ï¼š<a href="https://docs.microsoft.com/zh-cn/windows/win32/direct3dhlsl/sm5-attributes-numthreads">numthreads</a> ã€‚</p><p>å‰é¢ä»‹ç»äº†å¦‚ä½•è®¾ç½®çº¿ç¨‹ç»„å’Œçº¿ç¨‹çš„æ•°é‡ï¼Œç°åœ¨ä»‹ç»çº¿ç¨‹ç»„å’Œçº¿ç¨‹åœ¨ç¡¬ä»¶çš„è¿è¡Œå½¢å¼ã€‚</p><h3 id="çº¿ç¨‹ç»„çš„-GPU-ä¹‹æ—…">çº¿ç¨‹ç»„çš„ GPU ä¹‹æ—…</h3><p><a href="https://www.notion.so/Fermi-c97604af538148cf96805b7b14ce332e">Fermi æ¶æ„</a></p><p><a href="https://www.notion.so/Ampere-3e00af14b1fb455db5b0a928a26d65aa">Ampere æ¶æ„</a></p><p>æˆ‘ä»¬çŸ¥é“ GPU ä¼šæœ‰ä¸Šåƒä¸ªâ€œæ ¸å¿ƒâ€ï¼Œç”¨ NVIDIA çš„è¯´æ³•å°±æ˜¯ CUDA Coreã€‚</p><ul><li><strong>SP</strong>ï¼šæœ€åŸºæœ¬çš„å¤„ç†å•å…ƒï¼Œstreaming processorï¼Œä¹Ÿç§°ä¸º CUDA coreã€‚æœ€åå…·ä½“çš„æŒ‡ä»¤å’Œä»»åŠ¡éƒ½æ˜¯åœ¨ SP ä¸Šå¤„ç†çš„ã€‚GPU è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šä¸ª SP åŒæ—¶åšå¤„ç†ã€‚æˆ‘ä»¬æ‰€è¯´çš„å‡ ç™¾æ ¸å¿ƒçš„ GPU å€¼æŒ‡çš„éƒ½æ˜¯ SP çš„æ•°é‡ï¼›</li><li><strong>SM</strong>ï¼šå¤šä¸ª SP åŠ ä¸Šå…¶ä»–çš„ä¸€äº›èµ„æºç»„æˆä¸€ä¸ª streaming multiprocessorã€‚ä¹Ÿå« GPU å¤§æ ¸ï¼Œå…¶ä»–èµ„æºå¦‚ï¼šwarp schedulerï¼Œregisterï¼Œshared memory ç­‰ã€‚SM å¯ä»¥çœ‹åš GPU çš„å¿ƒè„ï¼ˆå¯¹æ¯” CPU æ ¸å¿ƒï¼‰ï¼Œregister å’Œ shared memory æ˜¯ SM çš„ç¨€ç¼ºèµ„æºã€‚CUDA å°†è¿™äº›èµ„æºåˆ†é…ç»™æ‰€æœ‰é©»ç•™åœ¨ SM ä¸­çš„ threadsã€‚å› æ­¤ï¼Œè¿™äº›æœ‰é™çš„èµ„æºå°±ä½¿æ¯ä¸ª SM ä¸­ active warps æœ‰éå¸¸ä¸¥æ ¼çš„é™åˆ¶ï¼Œä¹Ÿå°±é™åˆ¶äº†å¹¶è¡Œèƒ½åŠ›ã€‚</li></ul><p>è¿™äº›æ ¸å¿ƒè¢«ç»„ç»‡åœ¨æµå¼å¤šå¤„ç†å™¨ï¼ˆstreaming multiprocessor, SMï¼‰ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹ç»„è¿è¡Œäºä¸€ä¸ªå¤šå¤„ç†å™¨ï¼ˆSMï¼‰ä¹‹ä¸Šã€‚æ¯ä¸€ä¸ªæ ¸å¿ƒåŒä¸€æ—¶é—´å¯ä»¥è¿è¡Œä¸€ä¸ªçº¿ç¨‹ã€‚</p><p>æµå¼å¤šå¤„ç†å™¨ï¼ˆstreaming multiprocessor, SMï¼‰æ˜¯ Nvidia çš„è¯´æ³•ï¼ŒAMD å¯¹åº”çš„å•å…ƒåˆ™æ˜¯ Compute Unitã€‚</p><p>å› æ­¤ï¼Œå¯¹äºæ‹¥æœ‰ 16 ä¸ª SM çš„ GPU æ¥è¯´ï¼Œæˆ‘ä»¬è‡³å°‘åº”å°†ä»»åŠ¡åˆ†è§£ä¸º 16 ä¸ªçº¿ç¨‹ç»„ï¼Œæ¥è®©æ¯ä¸ªå¤šå¤„ç†å™¨éƒ½å……åˆ†åœ°è¿è½¬èµ·æ¥ã€‚ä½†æ˜¯ï¼Œè¦è·å¾—æ›´ä½³çš„æ€§èƒ½ï¼Œæˆ‘ä»¬è¿˜åº”å½“ä»¤æ¯ä¸ªå¤šå¤„ç†å™¨è‡³å°‘æ‹¥æœ‰ä¸¤ä¸ªçº¿ç¨‹ç»„ï¼Œä½¿å®ƒèƒ½å¤Ÿåˆ‡æ¢åˆ°ä¸åŒçš„çº¿ç¨‹ç»„è¿›è¡Œå¤„ç†ï¼Œä»¥è¿ç»­ä¸åœåœ°å·¥ä½œï¼ˆçº¿ç¨‹ç»„åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘ç”Ÿåœé¡¿ï¼Œä¾‹å¦‚ï¼Œç€è‰²å™¨åœ¨ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªæŒ‡ä»¤ä¹‹å‰ä¼šç­‰å¾…çº¹ç†çš„å¤„ç†ç»“æœï¼Œæ­¤æ—¶å³å¯åˆ‡æ¢è‡³å¦ä¸€ä¸ªçº¿ç¨‹ç»„ï¼‰ã€‚</p><p>SM ä¼šå°†å®ƒä» Gigathread å¼•æ“ï¼ˆNVIDIA æŠ€æœ¯ï¼Œä¸“é—¨ç®¡ç†æ•´ä¸ªæµæ°´çº¿ï¼‰é‚£æ”¶åˆ°çš„å¤§çº¿ç¨‹å—ï¼Œæ‹†åˆ†æˆè®¸å¤šæ›´å°çš„å †ï¼Œæ¯ä¸ªå †åŒ…å« 32 ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·çš„å †ä¹Ÿè¢«ç§°ä¸ºï¼š<strong>warp</strong> (AMD åˆ™ç§°ä¸º <strong>wavefront</strong>)ã€‚å¤šå¤„ç†å™¨ä¼šä»¥ SIMD32 çš„æ–¹å¼ï¼ˆå³ 32 ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤åºåˆ—ï¼‰æ¥å¤„ç† warpï¼Œæ¯ä¸ª CUDA æ ¸å¿ƒéƒ½å¯å¤„ç†ä¸€ä¸ªçº¿ç¨‹ã€‚</p><p>â€œFermiâ€ æ¶æ„ä¸­çš„æ¯ä¸ªå¤šå¤„ç†å™¨éƒ½å…·æœ‰ 32 ä¸ª CUDA æ ¸å¿ƒã€‚</p><p>æ¯ä¸€ä¸ªçº¿ç¨‹ç»„éƒ½ä¼šè¢«åˆ’åˆ†åˆ°ä¸€ä¸ª Compute Unit æ¥è®¡ç®—ï¼Œçº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹ç”± Compute Unit ä¸­çš„ SIMD éƒ¨åˆ†æ¥æ‰§è¡Œã€‚<br>å¦‚æœæˆ‘ä»¬å®šä¹‰ <code>numthreads(8, 2, 4)</code>ï¼Œé‚£ä¹ˆæ¯ä¸ªçº¿ç¨‹ç»„å°±æœ‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>2</mn><mo>Ã—</mo><mn>4</mn><mo>=</mo><mn>64</mn></mrow><annotation encoding="application/x-tex">8Ã—2Ã—4=64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">64</span></span></span></span> ä¸ªçº¿ç¨‹ï¼Œè¿™ä¸€æ•´ä¸ªçº¿ç¨‹ç»„ä¼šè¢«åˆ†æˆä¸¤ä¸ª warpï¼Œè°ƒåº¦åˆ°å•ä¸ª SIMD å•å…ƒè®¡ç®—ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20200126195846919.gif" alt="Memory Stallï¼ˆå†…å­˜å»¶è¿Ÿï¼‰"></p><p>å•ä¸ª SM å¤„ç†é€ä¸ª warpï¼Œå½“ä¸€ä¸ª warp æš‚æ—¶éœ€è¦ç­‰å¾…æ•°æ®çš„æ—¶å€™ï¼Œå°±å¯ä»¥å…ˆæ¢å…¶ä»– warp ç»§ç»­æ‰§è¡Œã€‚</p><h3 id="å¦‚ä½•è®¾ç½®å¥½çº¿ç¨‹ç»„çš„å¤§å°">å¦‚ä½•è®¾ç½®å¥½çº¿ç¨‹ç»„çš„å¤§å°</h3><p>æˆ‘ä»¬åº”å½“æ€»æ˜¯å°†çº¿ç¨‹ç»„çš„å¤§å°è®¾ç½®ä¸º <strong>warp å°ºå¯¸çš„æ•´æ•°å€</strong>ã€‚è®© SM åŒæ—¶å®¹çº³å¤šä¸ª warpï¼Œèƒ½å¤Ÿä»¥é˜²ä¸€äº›æƒ…å†µã€‚ä¾‹å¦‚æœ‰æ—¶å€™ä¸ºäº†ç­‰å¾…æŸäº›æ•°æ®å°±ç»ªï¼Œä½ ä¸å¾—ä¸åœä¸‹æ¥ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡æ³•çº¿çº¹ç†è´´å›¾æ¥è®¡ç®—æ³•çº¿å…‰ç…§ï¼Œå³ä½¿è¯¥æ³•çº¿çº¹ç†å·²ç»åœ¨ Cache ä¸­äº†ï¼Œè®¿é—®è¯¥èµ„æºä»ç„¶ä¼šæœ‰æ‰€è€—æ—¶ï¼Œè€Œå¦‚æœå®ƒä¸åœ¨ Cache ä¸­ï¼Œé‚£å°±æ›´åŠ è€—æ—¶äº†ã€‚ç”¨ä¸“ä¸šæœ¯è¯­è®²å°±æ˜¯ <strong>Memory Stallï¼ˆå†…å­˜å»¶è¿Ÿï¼‰</strong>ã€‚ä¸å…¶ä»€ä¹ˆäº‹æƒ…ä¹Ÿä¸åšï¼Œä¸å¦‚å°†å½“å‰çš„ Warp æ¢æˆå…¶å®ƒå·²ç»å‡†å¤‡å°±ç»ªçš„ Warp ç»§ç»­æ‰§è¡Œã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><p><img src="http://img.frankorz.com/thread-group-size-talk.png" alt="Dispatch/Thread Group SIze Heuristics"></p><p>ä¸Šå›¾æ¥è‡ªï¼š<a href="https://channel9.msdn.com/Blogs/gclassy/DirectCompute-Lecture-Series-210-GPU-Optimizations-and-Performance">DirectCompute Lecture Series 210: GPU Optimizations and Performance</a></p><blockquote><p>NVIDIA åœ¨ Maxwell æ›´æ”¹äº† SM çš„ç»„ç»‡æ–¹å¼ï¼Œå³ SMMâ€”â€”å…¨æ–°çš„ SM æ¶æ„ã€‚æ¯ä¸ª SM åˆ†ä¸ºå››ä¸ªç‹¬ç«‹çš„å¤„ç†å—ï¼Œæ¯ä¸ªå¤„ç†å—å…·å¤‡è‡ªå·±çš„æŒ‡ä»¤ç¼“å†²åŒºã€è°ƒåº¦å™¨ä»¥åŠ 32 ä¸ª CUDA æ ¸å¿ƒã€‚å› æ­¤ Maxwell ä¸­å¯ä»¥åŒæ—¶è¿è¡Œ 4 ä¸ªä»¥ä¸Šçš„ Warpï¼Œå®é™…ä¸Šï¼Œåœ¨ GTC2013 å¤§ä¼šä¸Šçš„ä¸€ä¸ª CUDA ä¼˜åŒ–è§†é¢‘é‡Œè®²åˆ°ï¼Œåœ¨å¸¸ç”¨ case ä¸­æ¨èä½¿ç”¨ 30 ä¸ªä»¥ä¸Šçš„æœ‰æ•ˆ Warpï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿ Pipeline çš„æ»¡è½½åˆ©ç”¨ç‡ã€‚<br>â€”â€” <a href="http://www.ece.rice.edu/~gw2/">Guohui Wang</a></p></blockquote><p>NVIDIA å…¬å¸ç”Ÿäº§çš„å›¾å½¢ç¡¬ä»¶æ‰€ç”¨çš„ warp å•ä½å…±æœ‰ 32 ä¸ªçº¿ç¨‹ã€‚è€Œ ATI å…¬å¸é‡‡ç”¨çš„ â€œwavefrontâ€ å•ä½åˆ™å…·æœ‰ 64 ä¸ªçº¿ç¨‹ï¼Œä¸”å»ºè®®ä¸ºå…¶åˆ†é…çš„çº¿ç¨‹ç»„å¤§å°åº”æ€»ä¸º wavefront å°ºå¯¸çš„æ•´æ•°å€ã€‚å¦å¤–ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸ç®¡æ˜¯ warp è¿˜æ˜¯ wavefrontï¼Œå®ƒä»¬çš„å¤§å°åœ¨æœªæ¥å‡ ä»£ä¸­éƒ½æœ‰å¯èƒ½å‘ç”Ÿæ”¹å˜ã€‚</p><p>æ€»ä¹‹ï¼Œæ¯ä¸ª SM çš„æ“ä½œåº¦æ˜¯ warpï¼Œä½†æ˜¯æ¯ä¸ª SM å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ª warpã€‚ç„¶åå› ä¸ºæœ‰å†…å­˜ç­‰å¾…ï¼ˆmemory stallï¼‰çš„é—®é¢˜ï¼ŒåŒä¸€ä¸ª thread block æœ‰å¯èƒ½éœ€è¦ç­‰å¾…å†…å­˜æ‰åšï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å¤šä¸ªçº¿ç¨‹ç»„äº¤å‰è¿è¡Œã€‚warp å¯¹æˆ‘ä»¬æ˜¯ä¸å¯è§å’Œä¸å¯ç¼–ç¨‹çš„ï¼Œæˆ‘ä»¬å¯ç¼–ç¨‹çš„åªæœ‰çº¿ç¨‹ç»„ã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p><p>è¿˜å¯ä»¥å‚è€ƒ GPU Open ä¸­ <a href="https://gpuopen.com/performance/#shaders">Compute Shader éƒ¨åˆ†</a>ã€‚</p><h2 id="GPU-Compute-Unit">GPU Compute Unit</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ GPU å†…éƒ¨çš„ç»“æ„ï¼Œè¿™é‡Œçš„å†…å®¹æ¥è‡ª <a href="https://www.youtube.com/watch?v=0DLOJPSxJEg">Compute Shaders: Optimize your engine using compute / Lou Kramer, AMD</a>ï¼Œ<a href="https://twitter.com/lou_auroyup">Lou Kramer</a> ä»¥ AMD çš„ GCN æ¶æ„ä¸ºä¾‹ï¼Œä»‹ç»äº† GPU å¤§ä½“çš„ç»“æ„ã€‚</p><p>è¿™é‡Œ GCN å°±æ˜¯ä¸€ä¸ª Compute Unitï¼ŒVega 64 æ˜¾å¡æœ‰ 64 ä¸ª Compute Unitã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-1.png" alt="gpu-talk-1"></p><p>GCN æœ‰ 4 ä¸ª SIMD-16 å•å…ƒï¼ˆå³ 16 ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤åºåˆ—ï¼‰ã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-2.png" alt="gpu-talk-2"></p><h3 id="çº¿ç¨‹é—´äº¤æµ">çº¿ç¨‹é—´äº¤æµ</h3><h4 id="å¤šä¸ªçº¿ç¨‹ç»„é—´çš„äº¤æµ">å¤šä¸ªçº¿ç¨‹ç»„é—´çš„äº¤æµ</h4><p>ä¸Šé¢æåˆ°ï¼Œçº¿ç¨‹å¹¶ä¸èƒ½è®¿é—®å…¶ä»–ç»„ä¸­çš„å…±äº«å†…å­˜ã€‚å¦‚æœçº¿ç¨‹ç»„éœ€è¦äº’ç›¸äº¤æµï¼Œé‚£ä¹ˆå°±éœ€è¦ L2 cache æ¥æ”¯æŒã€‚ä½†æ˜¯ L2 cache æ€§èƒ½è‚¯å®šä¼šæœ‰æŠ˜æ‰£ï¼Œå› æ­¤æˆ‘ä»¬è¦ä¿è¯ç»„é—´çš„äº¤æµå°½å¯èƒ½å°‘ã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-3.png" alt="gpu-talk-3"></p><h4 id="å•ä¸ªçº¿ç¨‹ç»„å†…çš„äº¤æµ">å•ä¸ªçº¿ç¨‹ç»„å†…çš„äº¤æµ</h4><p>å¦‚æœå•ä¸ªçº¿ç¨‹ç»„å†…çº¿ç¨‹éœ€è¦äº’ç›¸äº¤æµï¼Œåˆ™éœ€è¦ Local Data Share (LDS) æ¥å®Œæˆã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-4.png" alt="gpu-talk-4"></p><p>LDS ä¼šè¢«å…¶ä»–ç€è‰²é˜¶æ®µï¼ˆshader stageï¼‰ä½¿ç”¨ï¼Œä¾‹å¦‚åƒç´ ç€è‰²å™¨å°±éœ€è¦ LDS æ¥æ’å€¼ã€‚ä½†æ˜¯ Compute Shader çš„ç”¨é€”å’Œä¼ ç»Ÿç€è‰²å™¨ä¸ä¸€æ ·ï¼Œä¸æ˜¯å¿…é¡»è¦ LDSï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥éšæ„åœ°ä½¿ç”¨ LDSã€‚</p><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">groupshared <span class="type">float</span> data[<span class="number">8</span>][<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">[numthreads(<span class="number">8</span>,<span class="number">8</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="type">void</span> main(<span class="type">ivec3</span> <span class="keyword">index</span> : SV_GroupThreadID)</span><br><span class="line">&#123;</span><br><span class="line">  data[<span class="keyword">index</span>.x][<span class="keyword">index</span>.y] = <span class="number">0.0</span>;</span><br><span class="line">  GroupMemoryBarrierWithGroupSync();</span><br><span class="line">  data[<span class="keyword">index</span>.y][<span class="keyword">index</span>.x] += <span class="keyword">index</span>.x;</span><br><span class="line">  â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦ç»„å†…å…±äº«çš„å˜é‡å‰åŠ  <code>groupshared</code> ï¼ŒåŒæ—¶ä¸ºäº†ä¿è¯å…¶ä»–çº¿ç¨‹ä¹Ÿèƒ½è¯»åˆ°æ•°æ®ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦é€šè¿‡ Barrier æ¥ä¿è¯ä»–ä»¬è¯»çš„æ—¶å€™ LDS é‡Œé¢æœ‰éœ€è¦çš„æ•°æ®ã€‚</p><p>LDS æ¯” L1 cache è¿˜å¿«ï¼</p><h3 id="Vector-Register-å’Œ-Scalar-Register">Vector Register å’Œ Scalar Register</h3><p>å¦‚æœæœ‰äº›å˜é‡æ˜¯çº¿ç¨‹ç‹¬ç«‹çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º â€œnon-uniformâ€ å˜é‡ã€‚ï¼ˆå¦‚æœä¸€ä¸ªçº¿ç¨‹ç»„å†…æœ‰ 64 ä¸ªçº¿ç¨‹ï¼Œå°±è¦å­˜ 64 ä»½æ•°æ®ï¼‰</p><p>å¦‚æœæœ‰äº›å˜é‡æ˜¯çº¿ç¨‹é—´å…±äº«çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º â€œuniformâ€ å˜é‡ï¼Œä¾‹å¦‚çº¿ç¨‹ç»„ id æ˜¯ç»„å†…æ¯ä¸ªçº¿ç¨‹éƒ½ä¸€æ ·çš„ã€‚ï¼ˆæ¯ä¸ªçº¿ç¨‹ç»„å†…åªå­˜ 1 ä»½æ•°æ®ï¼‰</p><p>â€œnon-uniformâ€ å˜é‡ä¼šè¢«å‚¨å­˜åˆ° Vector Registerï¼ˆVGPR, vector general purpose registerï¼‰ä¸­ã€‚</p><p>â€œuniformâ€ å˜é‡ä¼šè¢«å‚¨å­˜åˆ° Scalar Registerï¼ˆSGPR, scalar general purpose registerï¼‰ä¸­ã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-5.png" alt="gpu-talk-5"></p><p>å¦‚æœç”¨äº†è¿‡å¤š â€œnon-uniformâ€ å˜é‡å¯¼è‡´ Vector Register è£…ä¸ä¸‹ï¼Œå°±ä¼šå¯¼è‡´åˆ†é…ç»™ SIMD çš„çº¿ç¨‹ç»„æ•°é‡é™ä½ã€‚</p><h3 id="ä¸ä¼ ç»Ÿç€è‰²å™¨æ‰§è¡Œæµç¨‹çš„å¼‚åŒ">ä¸ä¼ ç»Ÿç€è‰²å™¨æ‰§è¡Œæµç¨‹çš„å¼‚åŒ</h3><h4 id="Vert-Frag-Shader">Vert-Frag Shader</h4><ol><li><p>é¦–å…ˆ Command Processor ä¼šæ”¶é›†å¹¶å¤„ç†æ‰€æœ‰å‘½ä»¤ï¼Œå‘é€åˆ° GPUï¼Œå¹¶å‘ŠçŸ¥ä¸‹ä¸€æ­¥è¦åšä»€ä¹ˆã€‚</p></li><li><p><code>Draw()</code> å‘½ä»¤å‘é€åï¼ŒCommand Processor å‘ŠçŸ¥ Graphics Processor è¦åšçš„äº‹æƒ…ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°† Graphics Processor çœ‹ä½œæ˜¯è¾“å…¥è£…é…å™¨ï¼ˆInput Assemblerï¼‰çš„ç¡¬ä»¶å¯¹åº”çš„éƒ¨åˆ†ã€‚</p></li><li><p>ç„¶åç±»ä¼¼äºé¡¶ç‚¹ç€è‰²å™¨è¿™äº›å°±ä¼šè¢«é€åˆ° Compute Unit å»è®¡ç®—ï¼Œå¤„ç†å®Œä¼šåˆ° Rasterizer (å…‰æ …å™¨)ï¼Œå¹¶è¿”å›å¤„ç†å¥½çš„åƒç´ åˆ° Compute Unit æ‰§è¡Œåƒç´ ç€è‰²ï¼ˆPixel shaderï¼‰ã€‚</p></li><li><p>æœ€åæ‰ä¼šè¾“å‡ºåˆ° RenderTarget ã€‚</p></li></ol><p>ä¸‹å›¾ä¸­ï¼ŒAMD æ˜¾å¡æ¶æ„ä¸­çš„ Compute Unit ç›¸å½“äº nVIDIA GPUs ä¸­çš„æµå¼å¤šå¤„ç†å™¨ï¼ˆstreaming multiprocessor, SMï¼‰ã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-6.png" alt="gpu-talk-6"></p><h4 id="Compute-Shader">Compute Shader</h4><ol><li>é¦–å…ˆ Command Processor ä»ä¼šæ”¶é›†å¹¶å¤„ç†æ‰€æœ‰å‘½ä»¤ï¼Œå‘é€åˆ° GPUã€‚</li><li>æˆ‘ä»¬ä¸éœ€è¦ä¼ æ•°æ®åˆ° Graphics Processorï¼Œå› ä¸ºè¿™ä¸æ˜¯ä¸€ä¸ª Graphics Commandï¼Œè€Œæ˜¯ç›´æ¥ä¼ åˆ° Compute Unitã€‚</li><li>Compute Unit å¼€å§‹å¤„ç† Compute Shaderï¼Œè¾“å…¥å¯ä»¥æœ‰ constants å’Œ resourcesï¼ˆå¯¹åº” DirectX çš„ Resource å¯ä»¥ç»‘å®šåˆ°æ¸²æŸ“ç®¡çº¿çš„èµ„æºï¼Œä¾‹å¦‚é¡¶ç‚¹æ•°ç»„ç­‰ï¼‰ï¼Œè¾“å‡ºå¯ä»¥æœ‰ writable resourcesï¼ˆUAV, Unordered Access View èƒ½è¢«ç€è‰²å™¨å†™å…¥çš„èµ„æºè§†å›¾ï¼‰ã€‚</li></ol><h3 id="æ€»ç»“">æ€»ç»“</h3><p>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ç”¨äº† Compute Shaderï¼Œ<strong>å¯ä»¥ä¸é€šè¿‡æ¸²æŸ“ç®¡çº¿ï¼Œè·³è¿‡ <a href="https://en.wikipedia.org/wiki/Render_output_unit">Render Output</a>ï¼Œä½¿ç”¨æ›´å°‘ç¡¬ä»¶èµ„æº</strong>ï¼Œåˆ©ç”¨ GPU æ¥å®Œæˆä¸€äº›æ¸²æŸ“ä¸ç›¸å…³çš„å·¥ä½œã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-7.png" alt="gpu-talk-7"></p><p>æ­¤å¤–ï¼ŒCompute Shader çš„æµæ°´çº¿<strong>éœ€è¦çš„ä¿¡æ¯ä¹Ÿæ›´å°‘</strong>ã€‚</p><p><img src="http://img.frankorz.com/gpu-talk-8.png" alt="gpu-talk-8"></p><h2 id="Boids-ç¤ºä¾‹">Boids ç¤ºä¾‹</h2><p>è®²å®Œäº†ç†è®ºï¼Œè¿™é‡Œæ¥çœ‹çœ‹æˆ‘ä»¬åœ¨ Unity ä¸­ä½¿ç”¨ Compute Shader æ¥åšä¸€ä¸ªé¸Ÿç¾¤ï¼ˆBoidsï¼‰çš„ demoã€‚</p><p>ç¾¤è½ç®—æ³•å¯ä»¥å‚è€ƒï¼š<a href="https://www.red3d.com/cwr/boids/">Boids (Flocks, Herds, and Schools: a Distributed Behavioral Model)</a></p><p>ä»£ç ç¤ºä¾‹åœ°å€ï¼š<a href="https://github.com/Latias94/FlockingComputeShaderCompare">Latias94/FlockingComputeShaderCompare</a></p><p>ç¾¤è½ç®—æ³•ç®€å•æ¥è®²ï¼Œå°±æ˜¯æ¨¡æ‹Ÿç”Ÿç‰©ç¾¤è½çš„è‡ªç»„ç»‡ç‰¹æ€§çš„ç§»åŠ¨ã€‚</p><p><a href="https://www.red3d.com/cwr/index.html">Craig Reynolds</a> åœ¨ 1986 å¹´å¯¹è¯¸å¦‚é±¼ç¾¤å’Œé¸Ÿç¾¤çš„è¿åŠ¨è¿›è¡Œäº†å»ºæ¨¡ï¼Œæå‡ºäº†ä¸‰ç‚¹ç‰¹å¾æ¥æè¿°ç¾¤è½ä¸­ä¸ªä½“çš„ä½ç½®å’Œé€Ÿåº¦ï¼š</p><ol><li>æ’æ–¥ï¼ˆseparationï¼‰ï¼šæ¯ä¸ªä¸ªä½“ä¼šé¿å…ç¦»å¾—å¤ªè¿‘ã€‚ç¦»å¾—å¤ªè¿‘éœ€è¦æ–½åŠ åæ–¹å‘çš„åŠ›ä½¿å…¶åˆ†å¼€ã€‚</li><li>å¯¹é½ï¼ˆAlignmentï¼‰ï¼šæ¯ä¸ªä¸ªä½“çš„æ–¹å‘ä¼šå€¾å‘äºé™„è¿‘ç¾¤è½çš„å¹³å‡æ–¹å‘ã€‚</li><li>å‡èšï¼ˆCohesionï¼‰ï¼šæ¯ä¸ªä¸ªä½“ä¼šå€¾å‘äºç§»åŠ¨åˆ°é™„è¿‘ç¾¤è½çš„å¹³å‡ä½ç½®ã€‚</li></ol><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€åªé¸Ÿçš„ä½ç½®å’Œæ–¹å‘ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥è®¡ç®—ï¼ŒCompute Shader è´Ÿè´£éå†è¿™åªé¸Ÿçš„å‘¨å›´é¸Ÿçš„ä¿¡æ¯ï¼Œè®¡ç®—å‡ºè¿™åªé¸Ÿçš„å¹³å‡æ–¹å‘å’Œä½ç½®ã€‚C# è„šæœ¬åˆ™è´Ÿè´£æ¯ä¸€å¸§ä¼ å…¥å‡èšï¼ˆCohesionï¼‰çš„ä½ç½®ã€ç»è¿‡çš„æ—¶é—´ï¼Œå†ä» Compute Shader è·å–æ¯ä¸€åªé¸Ÿçš„ä½ç½®å’Œæœå‘ï¼Œè®¾ç½®åˆ°æ¯ä¸€åªé¸Ÿçš„ Transform ä¸Šã€‚</p><h3 id="è®¾ç½®æ•°æ®">è®¾ç½®æ•°æ®</h3><p>æ–‡ç« å¼€å¤´çš„ä¾‹å­ä¸­ï¼Œè„šæœ¬ç»™ Shader è®¾ç½®äº† <code>RWTexture2D&lt;float4&gt;</code> ï¼Œè®© Compute Shader èƒ½ç›´æ¥åœ¨ Render Tecture è®¾ç½®é¢œè‰²ã€‚</p><p>å¯¹äºå…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å®šä¹‰ä¸€ä¸ªç»“æ„ï¼ˆStructï¼‰ï¼Œå†é€šè¿‡ <code>ComputeBuffer</code>  ä¸ Compute Shader äº¤æµæ•°æ®ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FlockingGPU.cs</span></span><br><span class="line"><span class="keyword">struct</span> Boid</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Vector3 position;</span><br><span class="line">    <span class="keyword">public</span> Vector3 direction;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FlockingGPU</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> ComputeShader shader;</span><br><span class="line">    <span class="keyword">private</span> Boid[] _boidsArray;</span><br><span class="line">    <span class="keyword">private</span> GameObject[] _boids;</span><br><span class="line">    <span class="keyword">private</span> ComputeBuffer _boidsBuffer;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _kernelHandle = shader.FindKernel(<span class="string">&quot;CSMain&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">uint</span> x;</span><br><span class="line">        <span class="comment">// è·å– Compute Shader ä¸­å®šä¹‰çš„ numthreads</span></span><br><span class="line">        shader.GetKernelThreadGroupSizes(_kernelHandle, <span class="keyword">out</span> x, <span class="keyword">out</span> _, <span class="keyword">out</span> _);</span><br><span class="line">        _groupSizeX = Mathf.CeilToInt(boidsCount / (<span class="built_in">float</span>) x);</span><br><span class="line">        <span class="comment">// å¡æ»¡æ¯ä¸ªçº¿ç¨‹ç»„ï¼Œå…å¾— Compute Shader ä¸­æœ‰çº¿ç¨‹è¯»ä¸åˆ°æ•°æ®ï¼Œé€ æˆè¯»å–æ•°æ®è¶Šç•Œ</span></span><br><span class="line">        _numOfBoids = _groupSizeX * (<span class="built_in">int</span>) x;</span><br><span class="line"></span><br><span class="line">        InitBoids();</span><br><span class="line">        InitShader();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">InitBoids</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ– _Boids GameObject[]ã€_boidsArray Boid[]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">InitShader</span>()</span></span><br><span class="line">    &#123;   <span class="comment">// å®šä¹‰å¤§å°ï¼Œé¸Ÿçš„æ•°é‡å’Œæ¯ä¸ªé¸Ÿç»“æ„çš„å¤§å°ï¼Œä¸€ä¸ª Vector3 å°±æ˜¯ 3 * sizeof(float)</span></span><br><span class="line">        <span class="comment">// 10000 åªé¸Ÿï¼Œæ¯åªå 6 * 4 bytesï¼Œæ€»å…±ä¹Ÿå°±å  0.234mib GPU æ˜¾å­˜ </span></span><br><span class="line">        _boidsBuffer = <span class="keyword">new</span> ComputeBuffer(_numOfBoids, <span class="number">6</span> * <span class="keyword">sizeof</span>(<span class="built_in">float</span>));</span><br><span class="line">        _boidsBuffer.SetData(_boidsArray); <span class="comment">// è®¾ç½®ç»“æ„æ•°ç»„åˆ° Compute Buffer ä¸­</span></span><br><span class="line">        <span class="comment">// è®¾ç½® buffer åˆ° Compute Shaderï¼ŒåŒæ—¶è®¾ç½®è¦è°ƒç”¨çš„è®¡ç®—çš„å‡½æ•° Kernel</span></span><br><span class="line">        shader.SetBuffer(_kernelHandle, <span class="string">&quot;boidsBuffer&quot;</span>, _boidsBuffer);</span><br><span class="line">        shader.SetFloat(<span class="string">&quot;boidSpeed&quot;</span>, boidSpeed); <span class="comment">// è®¾ç½®å…¶ä»–å¸¸é‡</span></span><br><span class="line">        shader.SetVector(<span class="string">&quot;flockPosition&quot;</span>, target.transform.position);</span><br><span class="line">        shader.SetFloat(<span class="string">&quot;neighbourDistance&quot;</span>, neighbourDistance);</span><br><span class="line">        shader.SetInt(<span class="string">&quot;boidsCount&quot;</span>, boidsCount);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">OnDestroy</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (_boidsBuffer != <span class="literal">null</span>)</span><br><span class="line">        &#123;    <span class="comment">// ç”¨å®Œä¸»åŠ¨é‡Šæ”¾ buffer</span></span><br><span class="line">            _boidsBuffer.Dispose();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è·å–æ•°æ®">è·å–æ•°æ®</h3><p>åœ¨å¼€å¤´æœ€ç®€å•çš„ Compute Shader ä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»‹ç»äº†éœ€è¦ <code>Dispatch</code> å»æ‰§è¡Œ Compute Shader çš„ Kernelã€‚</p><p>ä¸‹é¢çš„ <code>Update</code>ï¼Œè®¾ç½®äº†æ¯ä¸€å¸§ä¼šå˜çš„å‚æ•°ï¼ŒDispatch ä¹‹åï¼Œå†é€šè¿‡ <code>GetData</code> é˜»å¡ç­‰å¾… Compute Shader kernel çš„è®¡ç®—ç»“æœï¼Œæœ€åå¯¹æ¯ä¸€ä¸ª Boid ç»“æ„èµ‹å€¼ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FlockingGPU.cs</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FlockingGPU</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;   <span class="comment">// è®¾ç½®æ¯ä¸€å¸§ä¼šå˜çš„å˜é‡</span></span><br><span class="line">        shader.SetFloat(<span class="string">&quot;deltaTime&quot;</span>, Time.deltaTime);</span><br><span class="line">        shader.SetVector(<span class="string">&quot;flockPosition&quot;</span>, target.transform.position);</span><br><span class="line">        shader.Dispatch(_kernelHandle, _groupSizeX, <span class="number">1</span>, <span class="number">1</span>); <span class="comment">// è°ƒç”¨ Compute Shader Kernel æ¥è®¡ç®—</span></span><br><span class="line">        <span class="comment">// é˜»å¡ç­‰å¾… Compute Shader è®¡ç®—ç»“æœä» GPU ä¼ å›æ¥</span></span><br><span class="line">        _boidsBuffer.GetData(_boidsArray);</span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; _boidsArray.Length; i++)</span><br><span class="line">        &#123;   <span class="comment">// è®¾ç½®é¸Ÿçš„ position å’Œ rotation</span></span><br><span class="line">            _boids[i].transform.localPosition = _boidsArray[i].position;</span><br><span class="line">            <span class="keyword">if</span> (!_boidsArray[i].direction.Equals(Vector3.zero))</span><br><span class="line">            &#123;</span><br><span class="line">                _boids[i].transform.rotation = Quaternion.LookRotation(_boidsArray[i].direction);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ Compute Shader ä¸­ï¼Œä¹Ÿè¦å®šä¹‰ä¸€ä¸ª Boid ç»“æ„å’Œç›¸å¯¹åº”çš„ <code>RWStructuredBuffer&lt;Boid&gt;</code> æ¥ç”¨è„šæœ¬ä¼ æ¥çš„ Compute Bufferã€‚Shader ä¸»è¦å°±æ˜¯å¯¹ä¸€åªé¸Ÿéå†ä¸€å®šèŒƒå›´å†…çš„é¸Ÿç¾¤çš„ä¿¡æ¯ï¼Œè®¡ç®—å‡ºç»“æœè¿”å›ç»™è„šæœ¬ã€‚</p><figure class="highlight glsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SimpleFlocking.compute</span></span><br><span class="line"><span class="meta">#pragma kernel CSMain</span></span><br><span class="line"><span class="meta">#define GROUP_SIZE 256</span></span><br><span class="line"></span><br><span class="line">struct Boid</span><br><span class="line">&#123;   <span class="comment">// Compute Shader ä¹Ÿå®šä¹‰å¥½ç›¸å…³çš„ç»“æ„</span></span><br><span class="line">    float3 position;</span><br><span class="line">    float3 direction;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">RWStructuredBuffer&lt;Boid&gt; boidsBuffer; <span class="comment">// å…è®¸è¯»å†™çš„æ•°æ® buffer</span></span><br><span class="line"><span class="type">float</span> deltaTime;</span><br><span class="line">float3 flockPosition;</span><br><span class="line"></span><br><span class="line">[numthreads(GROUP_SIZE,<span class="number">1</span>,<span class="number">1</span>)]</span><br><span class="line"><span class="type">void</span> CSMain(uint3 id : SV_DispatchThreadID)</span><br><span class="line">&#123;</span><br><span class="line">    Boid boid = boidsBuffer[id.x];</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; boidsCount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == id.x)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        Boid tempBoid = boidsBuffer[i];</span><br><span class="line">        <span class="comment">// é€šè¿‡å‘¨å›´çš„é¸Ÿçš„ä¿¡æ¯ï¼Œè®¡ç®—ç»è¿‡ä¸‰ä¸ªç‰¹æ€§åï¼Œè¿™ä¸€åªé¸Ÿçš„æ–¹å‘å’Œä½ç½®ã€‚</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    boid.direction = lerp(direction, <span class="built_in">normalize</span>(boid.direction), <span class="number">0.94</span>);</span><br><span class="line">    boid.position += boid.direction * boidSpeed * deltaTime;</span><br><span class="line">    <span class="comment">// è®¾ç½®æ•°æ®åˆ° Bufferï¼Œç­‰å¾… CPU è¯»å–</span></span><br><span class="line">    boidsBuffer[id.x] = boid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Dispatch</code> ä¹‹å <code>GetData</code> æ˜¯é˜»å¡çš„ï¼Œå¦‚æœæƒ³å¼‚æ­¥åœ°è·å–æ•°æ®ï¼ŒUnity 2019 æ–°å¼•å…¥ä¸€ä¸ª APIï¼š<a href="https://docs.unity3d.com/ScriptReference/Rendering.AsyncGPUReadbackRequest.html">AsyncGPUReadbackRequest</a> ï¼Œå¯ä»¥è®©æˆ‘ä»¬å…ˆå‘é€ä¸€ä¸ªè·å–æ•°æ®çš„è¯·æ±‚ï¼Œå†æ¯ä¸€å¸§å»æŸ¥è¯¢æ•°æ®æ˜¯å¦è®¡ç®—å®Œã€‚ä¹Ÿæœ‰åŒå­¦ç”¨äº†æµ‹å‡ºç¬¬ä¸€æ¬¡è°ƒç”¨è€—æ—¶è¾ƒå¤šç­‰é—®é¢˜ï¼Œå…·ä½“å¯ä»¥å‚è€ƒï¼š<a href="https://blog.csdn.net/h5502637/article/details/85637872">Compute Shader åŠŸèƒ½æµ‹è¯•ï¼ˆäºŒï¼‰</a>ã€‚</p><p>ä¸‹é¢æ˜¯ 100 åªé¸Ÿçš„ç»“æœï¼š</p><p><img src="http://img.frankorz.com/boids-run-demo.gif" alt="100åªé¸Ÿçš„ç»“æœ"></p><p>é€šè¿‡ Compute Shaderï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Compute Shader åœ¨ GPU ç›´æ¥è®¡ç®—å¥½éœ€è¦è®¡ç®—çš„ä¸œè¥¿ï¼ˆä¾‹å¦‚ä½ç½®ã€mesh é¡¶ç‚¹ç­‰ï¼‰ï¼Œå¹¶ä¸ä¼ ç»Ÿç€è‰²å™¨å…±äº«ä¸€ä¸ª <code>ComputeBuffer</code> ï¼Œç›´æ¥åœ¨ GPU æ¸²æŸ“ï¼Œè¿™æ ·å°±çœå»æ¸²æŸ“æ—¶ CPU å†æ¬¡ä¼ æ•°æ®ç»™ GPU çš„è€—æ—¶ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† Compute Shader è®¡ç®—åçš„æ•°æ®è¿”å›ç»™ CPU å†åšé¢å¤–çš„è®¡ç®—ã€‚æ€»è€Œè¨€ä¹‹ï¼ŒCompute Shader ååˆ†çµæ´»ã€‚</p><h3 id="CPU-ç«¯è®¡ç®—-vs-GPU-ç«¯è®¡ç®—">CPU ç«¯è®¡ç®— vs GPU ç«¯è®¡ç®—</h3><p>å‡è®¾æˆ‘ä»¬åœ¨ CPU ç«¯ä¸ç”¨ä»»ä½• DOTSï¼Œç›´æ¥åœ¨æ¯ä¸ª Update ä¸­ for æ¯ä¸ªé¸Ÿè®¡ç®—æœå‘å’Œä½ç½®ï¼Œè¿™æ ·æ€§èƒ½æ˜¯éå¸¸å·®çš„ã€‚</p><p>ä¸‹å›¾æ˜¯æŠŠè®¡ç®—éƒ½æ”¾åˆ° C# Update ä¸­çš„ Profileï¼š</p><p><img src="http://img.frankorz.com/boid-profile-1.png" alt="C# æ¯ä¸ª Update ä¸­ç›´æ¥è®¡ç®—"></p><p>å¦‚æœæ”¾åˆ° Compute Shader è®¡ç®—ï¼Œæ¯ä¸ª Update æ›´æ–°æ•°æ®ï¼Œè¿™æ · CPU æ¶ˆè€—å°äº†å¾ˆå¤šã€‚</p><p><img src="http://img.frankorz.com/boid-profile-2.png" alt="Compute Shader è®¡ç®—ï¼Œæ¯ä¸ª Update æ›´æ–°æ•°æ®"></p><p>æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å¯¹æ¯”ä¸‹ FlockingCPU.cs å’Œ FlockingGPU.cs çš„ä»£ç ï¼Œä¼šå‘ç°ä¸¤è€…çš„ä»£ç å…¶å®ååˆ†ç›¸ä¼¼ï¼Œåªä¸è¿‡å‰è€…æŠŠ for loop æ”¾åˆ°è„šæœ¬ï¼Œåè€…æ”¾åˆ°äº† Compute Shader ä¸­è€Œå·²ï¼Œå› æ­¤å¦‚æœå¤§å®¶è§‰å¾—æœ‰ä¸€äº›åœ°æ–¹ååˆ†é€‚åˆå¹¶è¡Œè®¡ç®—ï¼Œå°±å¯ä»¥è€ƒè™‘æŠŠè¿™éƒ¨åˆ†è®¡ç®—æ”¾åˆ° GPU è®¡ç®—ã€‚</p><h3 id="Profile-Compute-Shader">Profile Compute Shader</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Profiler æ¥çœ‹ GPU åˆ©ç”¨æƒ…å†µï¼Œé€šå¸¸è¿™ä¸ªé¢æ¿æ˜¯éšè—çš„ï¼Œéœ€è¦æ‰‹åŠ¨æ‰“å¼€ã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡ RenderDoc æ¥çœ‹ï¼Œè¿™é‡Œä¸å±•ç¤ºã€‚</p><p><img src="http://img.frankorz.com/boid-profile-3.png" alt="boid-profile-3"></p><h3 id="ä¼˜åŒ–ï¼šDrawMeshInstanced">ä¼˜åŒ–ï¼šDrawMeshInstanced</h3><p>å‰é¢æˆ‘ä»¬ç”¨ <code>Instantiate</code> æ¥åˆå§‹åŒ–é¸Ÿç¾¤ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿèƒ½é€šè¿‡ <a href="https://docs.unity3d.com/Manual/GPUInstancing.html">GPU instancing</a> æ¥ä¼˜åŒ–ï¼Œç”¨ <a href="https://docs.unity3d.com/ScriptReference/Graphics.DrawMeshInstanced.html">Graphics.DrawMeshInstanced</a> æ¥å®ä¾‹åŒ– prefabã€‚è¿™ä¸ªä¼˜åŒ–æœªåŒ…å«åœ¨ Github ä¾‹å­ä¸­ï¼Œè¿™é‡Œæä¾›æ€è·¯ã€‚</p><p><img src="http://img.frankorz.com/boid-profile-4.png" alt="boid-profile-4"></p><p>è¿™ä¹ˆåšçš„è¯ï¼Œä½ç½®å’Œæ—‹è½¬éƒ½è¦åœ¨ä¼ ç»Ÿ shader ä¸­è®¡ç®—æˆå˜æ¢çŸ©é˜µåº”ç”¨åœ¨é¡¶ç‚¹ä¸Šï¼Œå› æ­¤ä¸ºäº†é˜²æ­¢ Compute Shader æ•°æ®ä¼ å› CPU å†ä¼ åˆ° GPU çš„ä¼ ç»Ÿ shader çš„å¼€é”€ï¼Œéœ€è¦ä¸¤ä¸ª Shader å…±äº«ä¸€ä¸ª <code>StructuredBuffer</code> ã€‚</p><p>è¿™æ ·å¦‚æœè¦ç»™æ¨¡å‹åŠ åŠ¨ç”»çš„è¯ï¼Œè¿˜å¾—æå‰çƒ˜ç„™åŠ¨ç”»ï¼Œå°†æ¯ä¸€å¸§åŠ¨ç”»çš„é¡¶ç‚¹å’Œå½“å‰å¸§æ•°æå‰ä¼ åˆ° vertex shader(or surface shader) é‡Œåšæ’å€¼ï¼Œè¿™æ ·åšçš„è¯è¿˜èƒ½æ ¹æ®é¸Ÿçš„é€Ÿåº¦å»æ§åˆ¶åŠ¨ç”»çš„é€Ÿç‡ã€‚</p><h2 id="åº”ç”¨">åº”ç”¨</h2><ul><li>é®æŒ¡å‰”é™¤ï¼ˆ<em>Occlusion Culling</em>ï¼‰</li><li>ç¯å¢ƒå…‰é®è”½ï¼ˆ<em>Ambient Occlusion</em>ï¼‰<ul><li><a href="https://www.anandtech.com/show/2848/2">AMDâ€™s Radeon HD 5850: The Other Shoe Drops</a></li></ul></li><li>ç¨‹åºåŒ–ç”Ÿæˆï¼š<ul><li>terrain heightmap evaluation with noise, erosion, and voxel algorithms</li></ul></li><li>AI å¯»è·¯<ul><li>Compute Shader åšå¯»è·¯æœ‰ç‚¹ä¸å¤ªå¥½çš„å°±æ˜¯å¾€å¾€æ¸¸æˆï¼ˆCPUï¼‰éœ€è¦çŸ¥é“è®¡ç®—ç»“æœï¼Œå› æ­¤è¿˜è¦è€ƒè™‘ GPU è¿”å›ç»“æœç»™ CPU çš„å»¶æ—¶ã€‚å¯ä»¥è€ƒè™‘åš CPU ç«¯å¹¶è¡Œçš„æ–¹æ¡ˆï¼Œä¾‹å¦‚ç”¨ Job Systemã€‚</li></ul></li><li>GPU å…‰çº¿è¿½è¸ª<ul><li><a href="http://blog.three-eyed-games.com/2018/05/03/gpu-ray-tracing-in-unity-part-1/">GPU Ray Tracing in Unity â€“ Part 1</a></li></ul></li><li>å›¾åƒå¤„ç†ï¼Œä¾‹å¦‚æ¨¡ç³ŠåŒ–ç­‰ã€‚</li><li>å…¶ä»–ä½ æƒ³æ”¾åˆ° GPUï¼Œä½†æ˜¯ä¼ ç»Ÿç€è‰²å™¨å¹²ä¸äº†çš„å¹¶è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚</li></ul><h3 id="åŸç¥">åŸç¥</h3><p><a href="https://www.bilibili.com/video/BV1Za4y1s7VL">Unityçº¿ä¸ŠæŠ€æœ¯å¤§ä¼š-æ¸¸æˆä¸“åœºï½œä»æ‰‹æœºèµ°å‘ä¸»æœº -ã€ŠåŸç¥ã€‹ä¸»æœºç‰ˆæ¸²æŸ“æŠ€æœ¯åˆ†äº«</a></p><p><img src="http://img.frankorz.com/genshin-render-compute-shader-1.png" alt="Genshin ä¸»æœºæ¸²æŸ“ç®¡çº¿ç®€ä»‹"></p><h4 id="è§£å‹é¢„çƒ˜ç„™çš„-Shadow-Texture">è§£å‹é¢„çƒ˜ç„™çš„ Shadow Texture</h4><p>åœ¨ç¦»çº¿åˆ¶ä½œçš„æ—¶å€™ï¼Œå¯¹äºçƒ˜ç„™å¥½çš„ shadow texture åšä¸€ä¸ªå‹ç¼©ï¼Œå°½é‡åœ°å»ä¿æŒç²¾åº¦ï¼Œè¿è¡Œçš„æ—¶å€™è§£å‹çš„é€Ÿåº¦ä¹Ÿéå¸¸å¿«ï¼Œç”¨ Compute Shader å»è§£å‹çš„æƒ…å†µï¼Œ1KÃ—1K çš„ shadow textureï¼Œè§£å‹åªéœ€è¦ 0.05 æ¯«ç§’ã€‚</p><p><img src="http://img.frankorz.com/genshin-render-compute-shader-2.png" alt="è§£å‹é¢„çƒ˜ç„™çš„ Shadow Texture"></p><h4 id="åšæ¨¡ç³Šå¤„ç†">åšæ¨¡ç³Šå¤„ç†</h4><p>åœ¨è¿›è¡Œæ¨¡ç³Šå¤„ç†çš„æ—¶å€™ï¼Œæ¯ä¸ªåƒç´ éœ€è¦é‡‡å–å‘¨è¾¹å¤šä¸ªåƒç´ çš„æ•°å€¼è¿›è¡Œæ··åˆï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„ PSï¼Œæ¯ä¸ªåƒç´ éƒ½ä¼šéœ€è¦å¤šæ¬¡è´´å›¾é‡‡æ ·ï¼Œä¸”è¿™äº›é‡‡æ ·ç»“æœå®é™…ä¸Šæ˜¯å¯ä»¥åœ¨ç›¸é‚»å…¶ä»–åƒç´ çš„è®¡ç®—ä¸­è¿›è¡Œé‡ç”¨çš„ï¼Œå› æ­¤ä¸ºäº†è¿›ä¸€æ­¥æå‡è®¡ç®—æ€§èƒ½ï¼Œã€ŠåŸç¥ã€‹è¿™é‡Œçš„åšæ³•æ˜¯å°†æ¨¡ç³Šå¤„ç†æ”¾åˆ° Compute Shader ä¸­æ¥å®Œæˆã€‚</p><p>å…·ä½“çš„åšæ³•æ˜¯ï¼Œå°†ç›¸é‚»åƒç´ çš„é‡‡æ ·ç»“æœå­˜å‚¨åœ¨ <strong>å±€éƒ¨å­˜å‚¨ç©ºé—´ï¼ˆLocal Data Shareï¼‰</strong> ä¸­ï¼Œä¹‹åå†æ¨¡ç³Šçš„æ—¶å€™å–ç”¨ï¼Œä¸€æ¬¡æ€§å®Œæˆå››ä¸ªåƒç´ çš„æ¨¡ç³Šè®¡ç®—ï¼Œå¹¶å°†ç»“æœè¾“å‡ºã€‚<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></p><h3 id="å¤©æ¶¯æ˜æœˆåˆ€">å¤©æ¶¯æ˜æœˆåˆ€</h3><p><a href="http://youxiputao.com/articles/21061">ã€Šå¤©æ¶¯æ˜æœˆåˆ€ã€‹æ‰‹æ¸¸å¼•æ“æŠ€æœ¯è´Ÿè´£äººï¼šå¦‚ä½•åº”ç”¨GPU Drivenä¼˜åŒ–æ¸²æŸ“æ•ˆæœï¼Ÿ| TGDC 2020</a></p><p><img src="http://img.frankorz.com/gpu-driven-compute-1.png" alt="gpu-driven-compute-1"></p><p>åšé®æŒ¡å‰”é™¤ï¼ˆOcclusion Cullingï¼‰æ—¶ï¼ŒCPU åªèƒ½åšåˆ° Object Levelï¼Œè€Œ GPU å¯ä»¥é€šè¿‡åˆ‡åˆ† Mesh åšè¿›ä¸€æ­¥çš„å‰”é™¤ã€‚</p><p><img src="http://img.frankorz.com/gpu-driven-compute-2.png" alt="gpu-driven-compute-2"></p><p>çŸ¥ä¹ä¸Šä¹Ÿæœ‰äººå°è¯•äº†å®ç°ï¼š<a href="https://zhuanlan.zhihu.com/p/352850047">Unityå®ç°GPUDrivenåœ°å½¢</a>ã€‚</p><h3 id="æ–—ç½—å¤§é™†">æ–—ç½—å¤§é™†</h3><p><a href="https://mp.weixin.qq.com/s/y0QZ3aaJg8S7u1c5sCaZgg">ä¸‰ä¸ƒç ”å‘ï¼Œè¿™æ¬¾è¢«ç§°ä½œ â€œç›®å‰æœ€åŸæ±åŸå‘³çš„â€ã€Šæ–—ç½—å¤§é™†ã€‹3D æ‰‹æ¸¸éƒ½ç”¨åˆ°äº†å“ªäº› Unity æŠ€æœ¯ï¼Ÿ</a></p><p>åˆ©ç”¨ Compute Shader å¯¹æ‰€æœ‰ç¾æœ¯è´´å›¾é€åƒç´ å¯¹æ¯”ï¼Œç­›é€‰å‡ºå¤§é‡çš„é‡å¤ã€ç›¸ä¼¼ã€å±¯ä½™ã€å¤§é€æ˜çš„è´´å›¾ã€‚</p><h3 id="Clay-Book">Clay Book</h3><p>åŸºäº3D SDF ä½“æ¸²æŸ“çš„é»åœŸæ¸¸æˆï¼š<a href="https://www.claybookgame.com/">Claybook Game</a>ã€‚</p><p>æ¼”è®²ï¼š<a href="https://youtu.be/Xpf7Ua3UqOA?t=405">DD2018: Sebastian Aaltonen - GPU based clay simulation and ray tracing tech in Claybook</a></p><p>åŠ¨å›¾ï¼š<a href="https://gfycat.com/gaseousterriblechupacabra">https://gfycat.com/gaseousterriblechupacabra</a></p><h3 id="Jelly-in-the-sky">Jelly in the sky</h3><p><a href="https://www.reddit.com/r/Unity3D/comments/7j4hay/finished_my_compute_shader_based_game/">Finished my compute shader based game</a> è¿™å¸–å­çš„å“¥ä»¬å†™äº†å…­åƒå¤šè¡Œ HLSL ä»£ç åšäº†ä¸€ä¸ªå®Œå…¨åœ¨ GPU æ‰§è¡Œçš„åŸºäºç‰©ç†æ¨¡æ‹Ÿçš„æ¸¸æˆã€‚</p><p>Steamï¼š<a href="https://store.steampowered.com/app/593530/Jelly_in_the_sky/">Jelly in the sky on Steam</a></p><p>åŠ¨å›¾ï¼š<a href="https://gfycat.com/validsolidcanine">https://gfycat.com/validsolidcanine</a></p><h3 id="å¼€æºé¡¹ç›®">å¼€æºé¡¹ç›®</h3><ul><li><a href="https://github.com/cinight/MinimalCompute">cinight/MinimalCompute</a></li><li><a href="https://github.com/krylov-na/Compute-shader-particles">krylov-na/Compute-shader-particles</a></li><li><a href="https://github.com/keijiro/Swarm">keijiro/Swarm</a></li><li><a href="https://github.com/ellioman/Indirect-Rendering-With-Compute-Shaders">ellioman/Indirect-Rendering-With-Compute-Shaders</a></li></ul><h2 id="ç¼ºç‚¹">ç¼ºç‚¹</h2><p>è™½ç„¶ Unity å¸®æˆ‘ä»¬åšäº†è·¨å¹³å°çš„å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶éœ€è¦é¢å¯¹ä¸€äº›å¹³å°å·®å¼‚ã€‚</p><p>æœ¬å°èŠ‚å†…å®¹å¤§éƒ¨åˆ†æ¥è‡ª <a href="https://zhuanlan.zhihu.com/p/53785954">Compute Shader : Optimize your game using compute</a>ã€‚</p><ul><li>éš¾ Debug</li><li><strong>æ•°ç»„è¶Šç•Œ</strong>ï¼ŒDX ä¸Šä¼šè¿”å› 0ï¼Œå…¶å®ƒå¹³å°ä¼šå‡ºé”™ã€‚</li><li>å˜é‡åä¸å…³é”®å­—/å†…ç½®åº“å‡½æ•°<strong>é‡å</strong>ï¼ŒDX æ— å½±å“ï¼Œå…¶ä»–å¹³å°ä¼šå‡ºé”™ã€‚</li><li>å¦‚æœ SBuffer å†…ç»“æ„çš„æ˜¾å­˜å¸ƒå±€ä¸<strong>å†…å­˜å¸ƒå±€ä¸ä¸€è‡´</strong>ï¼ŒDX å¯èƒ½ä¼šè½¬æ¢ï¼Œå…¶ä»–å¹³å°ä¼šå‡ºé”™ã€‚</li><li><strong>æœªåˆå§‹åŒ–</strong>çš„ SBuffer æˆ– Textureï¼Œåœ¨æŸäº›å¹³å°ä¸Šä¼šå…¨éƒ¨æ˜¯ 0ï¼Œä½†æ˜¯å¦å¤–ä¸€äº›å¯èƒ½æ˜¯ä»»æ„å€¼ï¼Œç”šè‡³æ˜¯NaNã€‚</li><li>Metal ä¸æ”¯æŒ<strong>å¯¹çº¹ç†çš„åŸå­æ“ä½œ</strong>ï¼Œä¸æ”¯æŒå¯¹ SBuffer è°ƒç”¨ <code>GetDimensions</code>ã€‚</li><li>ES 3.1 åœ¨ä¸€ä¸ª CS é‡Œ<strong>è‡³å°‘æ”¯æŒ 4 ä¸ª SBuffer</strong>ï¼ˆæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å°†ç›¸å…³è”çš„æ•°æ®å®šä¹‰ä¸º structï¼‰ã€‚</li><li>ES ä» 3.1 å¼€å§‹æ”¯æŒ CSï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ‰‹æœºä¸Šçš„æ”¯æŒç‡å¹¶ä¸æ˜¯å¾ˆé«˜ã€‚éƒ¨åˆ†å·ç§°æ”¯æŒ es 3.1+ çš„ Android æ‰‹æœºåªæ”¯æŒåœ¨ç‰‡å…ƒç€è‰²å™¨å†…è®¿é—® StructuredBufferã€‚<ul><li>ä½¿ç”¨ <code>SystemInfo.supportsComputeShaders</code> æ¥åˆ¤æ–­æ”¯ä¸æ”¯æŒ<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></li></ul></li></ul><h2 id="æœ€å">æœ€å</h2><p>æˆ‘ç›¸ä¿¡ Compute Shader è¿™ä¸ªè¯ä¸å°‘è¯»è€…åº”è¯¥éƒ½ä¼šåœ¨å…¶ä»–åœ°æ–¹è§è¿‡ï¼Œä½†æ˜¯å¤§éƒ½è§‰å¾—è¿™ä¸ªæŠ€æœ¯ç¦»æˆ‘ä»¬è¿˜å¾ˆè¿œã€‚æˆ‘èº«è¾¹çš„æœ‹å‹é—®äº†é—®ä¹Ÿæ²¡æ€ä¹ˆäº†è§£è¿‡ï¼Œæ›´ä¸è¦è¯´åœ¨é¡¹ç›®ä¸Šç”¨äº†ï¼Œè¿™ä¹Ÿæ˜¯è¿™ç¯‡æ–‡ç« è¯ç”Ÿçš„åŸå› ä¹‹ä¸€ã€‚</p><p>å½“æˆ‘ä»¬é¢ä¸´ä½¿ç”¨ DOTS è¿˜æ˜¯ Compute Shader çš„æŠ‰æ‹©æ—¶ï¼Œæ›´åº”è¯¥ä»é¡¹ç›®æœ¬èº«å‡ºå‘ï¼Œè€ƒè™‘è®¡ç®—åº”è¯¥æ”¾åœ¨ CPU è¿˜æ˜¯ GPUï¼ŒCompute Shader ä¸­è·Ÿ GPU æ²Ÿé€šçš„å¼€é”€æ˜¯å¦èƒ½å¤Ÿæ¥å—ã€‚è¯»è€…ä¹Ÿå¯ä»¥å‚è€ƒä¸‹ Unity Forum ä¸­ç›¸å…³çš„è®¨è®ºï¼š<a href="https://forum.unity.com/threads/unity-dots-vs-compute-shader.1093228/">Unity DOTS vs Compute Shader</a>ã€‚</p><p>å¼€å§‹ç¢ç¢å¿µï¼Œå»å¹´çš„å¹´ç»ˆæ€»ç»“ä¹Ÿæ²¡å†™ï¼Œä»Šå¹´åˆ°ç°åœ¨å°±æ†‹å‡ºä¸€ç¯‡æ–‡ç« ï¼Œååˆ†ä¸åº”è¯¥ã€‚å…¶å®ä¹Ÿæ˜¯è‡ªå·±æ²¡ä»€ä¹ˆå¥½åˆ†äº«çš„ï¼Œè‡ªå·±è¿˜éœ€è¦å¤šå­¦ä¹ ã€‚å½“ç„¶ä¹Ÿå¾ˆé«˜å…´é€šè¿‡åšå®¢è®¤è¯†åˆ°ä¸åŒæœ‹å‹ï¼Œè¿™æ˜¯æˆ‘å†™ä½œçš„åŠ¨åŠ›ï¼Œè°¢è°¢ä½ ä»¬ã€‚</p><h2 id="å‚è€ƒ">å‚è€ƒ</h2><ul><li><a href="https://github.com/chenjd/Unity-Boids-Behavior-on-GPGPU">chenjd/Unity-Boids-Behavior-on-GPGPU</a></li><li><a href="https://zhuanlan.zhihu.com/p/74418914">å…³äºCompute Shaderçš„ä¸€äº›åŸºç¡€çŸ¥è¯†è®°å½•</a></li><li><a href="https://www.youtube.com/watch?v=0DLOJPSxJEg&amp;t=167s">Compute Shaders: Optimize your engine using compute / Lou Kramer, AMD</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://book.douban.com/subject/30426701/">ã€ŠDirectX 12 3D æ¸¸æˆå¼€å‘å®æˆ˜ã€‹ç¬¬13ç«  è®¡ç®—ç€è‰²å™¨</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://blog.csdn.net/hexiaolong2009/article/details/104088308">Render Hell â€”â€” å²ä¸Šæœ€é€šä¿—æ˜“æ‡‚çš„GPUå…¥é—¨æ•™ç¨‹ï¼ˆäºŒï¼‰</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://www.zhihu.com/question/445590537/answer/1742513246#comment-1265841070">çŸ¥ä¹ - â€œé—®ä¸ªCUDAå¹¶è¡Œä¸Šçš„å°ç™½é—®é¢˜ï¼Œæ—¢ç„¶SMåªèƒ½åŒæ—¶å¤„ç†ä¸€ä¸ªWARPï¼Œé‚£æ˜¯ä¸æ˜¯æœ‰çš„SPå¤„äºé—²ç½®ï¼Ÿâ€çš„è¯„è®º</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="http://youxiputao.com/articles/20948">ç±³å“ˆæ¸¸æŠ€æœ¯æ€»ç›‘åˆ†äº«ï¼šã€ŠåŸç¥ã€‹ä¸»æœºç‰ˆæ¸²æŸ“æŠ€æœ¯è¦ç‚¹å’Œè§£å†³æ–¹æ¡ˆ</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p><a href="https://zhuanlan.zhihu.com/p/68886986">ComputeShader æ‰‹æœºå…¼å®¹æ€§æŠ¥å‘Š</a> <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <summary type="html">&lt;p&gt;åšæ¸¸æˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸è¦é¢å¯¹å„ç§ä¼˜åŒ–é—®é¢˜ã€‚DOTS æŠ€æœ¯æ ˆçš„å‡ºç°æä¾›äº†ä¸€ç§ CPU ç«¯çš„å¤šçº¿ç¨‹æ–¹æ¡ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦ä¹Ÿèƒ½å°†ä¸€äº›è®¡ç®—è½¬åˆ° GPU ä¸Šé¢ï¼Œä»è€Œå¹³è¡¡å¥½å¯¹ CPU å’Œ GPU çš„ä½¿ç”¨å‘¢ï¼Ÿå¯¹æˆ‘è€Œè¨€ï¼Œä»¥å‰ä½¿ç”¨ GPU æ— éæ˜¯é€šè¿‡å†™ vert/frag shaderã€åšå¥½æ¸²æŸ“ç›¸å…³çš„è®¾ç½®ç­‰æ“ä½œï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬è¿˜èƒ½ä½¿ç”¨ GPU çš„è®¡ç®—èƒ½åŠ›æ¥å¸®æˆ‘ä»¬è§£å†³é—®é¢˜ã€‚Compute Shader å°±æ˜¯æˆ‘ä»¬è·Ÿ GPU è¯·æ±‚è®¡ç®—çš„ä¸€ç§æ‰‹æ®µã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ä»å¹¶è¡Œæ¶æ„å¼€å§‹ï¼Œä¾æ¬¡è®²è§£ä¸€ä¸ªæœ€ç®€å•çš„ Compute Shaderçš„ç¼–å†™ã€çº¿ç¨‹ä¸çº¿ç¨‹ç»„çš„æ¦‚å¿µã€GPU ç»“æ„å’Œå…¶è®¡ç®—æµæ°´çº¿ï¼Œå¹¶è®²è§£ä¸€ä¸ªé¸Ÿç¾¤ Flocking çš„å®ä¾‹ï¼Œæœ€åä»‹ç» Compute Shader çš„åº”ç”¨ã€‚å…¨æ–‡è¾ƒé•¿ï¼Œè¯»è€…å¯ä»¥é€šè¿‡ç›®å½•æŒ‘æƒ³çœ‹çš„çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;Compute Shader ä¹Ÿå’Œä¼ ç»Ÿç€è‰²å™¨çš„å†™æ³•ååˆ†ä¸ä¸€æ ·ï¼Œå†™ä¼ ç»Ÿ Shader å†™æ€•äº†çš„åŒå­¦è¯·æ”¾å¿ƒ~&lt;/p&gt;</summary>
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="Shader" scheme="http://frankorz.com/tags/Shader/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ–°å¢å…¬å¼€ç¬”è®°éƒ¨åˆ†</title>
    <link href="http://frankorz.com/2020/10/03/add-note-section-to-blog/"/>
    <id>http://frankorz.com/2020/10/03/add-note-section-to-blog/</id>
    <published>2020-10-03T15:53:30.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘è®¤ä¸ºåšå®¢åº”è¯¥æ”¾ä¸€äº›ç»è¿‡æ€è€ƒçš„ã€å®è·µçš„ã€é€‚åˆè¯»è€…é˜…è¯»çš„æ–‡ç« ï¼Œè‡ªå·±æœ‰æ—¶å€™ä¹Ÿä¼šåœ¨çœ‹å…¶ä»–è§†é¢‘æ•™ç¨‹æˆ–æ–‡ç« æ—¶è®°ä¸€äº›ç¬”è®°ã€‚æœ‰äº›ç¬”è®°æœ¬èº«ä¸å¤ªé€‚åˆåˆ†äº«å‡ºæ¥ï¼Œå› ä¸ºåšç¬”è®°ä¸å¯é¿å…çš„ä¼šæŒ‰ç…§è‡ªå·±çš„æ€è·¯å’Œç°æœ‰çŸ¥è¯†æ¥å®šåˆ¶ï¼Œå¯èƒ½å’Œåˆ«äººæ³¨æ„é‡ç‚¹ä¸å¤ªä¸€æ ·ã€‚</p><p>å› æ­¤æˆ‘æ‰“ç®—å°†ä¸€äº›æ¯”è¾ƒæˆæ–‡çš„ã€æœ‰ç»“æ„æ€§çš„ã€æœ‰å‚è€ƒä»·å€¼çš„ç¬”è®°åˆ†äº«å‡ºæ¥ï¼Œè¿™ä¹Ÿèƒ½é”»ç‚¼æˆ‘æŠŠç¬”è®°ç»„ç»‡æˆæ–‡çš„èƒ½åŠ›ã€‚</p><p>è¿™äº›å…¬å¼€çš„ç¬”è®°æˆ‘æ”¾åœ¨ç‹¬ç«‹çš„ä¸€ä¸ª Notion é¡µé¢ä¸­ï¼Œè¿™ä¸ªé¡µé¢å¯ä»¥ç‚¹å‡»åšå®¢ä¸Šæ–¹çš„<strong>å…¬å¼€ç¬”è®°</strong>ï¼Œæˆ–è€…è¿™ä¸ªé“¾æ¥æ‰¾åˆ°ï¼š<a href="https://www.notion.so/frankorz/e9a64743c07743f08605f5df7cb57eaf">å…¬å¼€ç¬”è®°</a>ã€‚</p><p>Notion æœ¬èº«å¯¹å…¬å¼ã€æ’ç‰ˆéƒ½æ¯”è¾ƒå‹å¥½ï¼Œä½†æ˜¯æ‰“å¼€å¯èƒ½è¦ç§‘å­¦ä¸Šç½‘ï¼Œæˆ‘æ˜¯æ‡’å¾—æŠŠè¿™äº›æ–‡ç« å¾€åšå®¢æ¬äº†â€¦ä¸è¿‡ç”¨ Notion æœ‰ä¸ªå¥½å¤„å°±æ˜¯ï¼Œæˆ‘å¯¹å…¬å¼€ç¬”è®°çš„ç¼–è¾‘éƒ½èƒ½å®æ—¶æ›´æ–°åˆ°ã€‚</p><span id="more"></span><p>æ­£æ–‡å¤ªç©ºäº†ä¹Ÿä¸å¥½ï¼Œå°±æ”¾ä¸ªæˆ‘ç¬”è®°çš„ä¸»é¡µå›¾å§~</p><p><img src="http://img.frankorz.com/notion-page.gif" alt=""></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æˆ‘è®¤ä¸ºåšå®¢åº”è¯¥æ”¾ä¸€äº›ç»è¿‡æ€è€ƒçš„ã€å®è·µçš„ã€é€‚åˆè¯»è€…é˜…è¯»çš„æ–‡ç« ï¼Œè‡ªå·±æœ‰æ—¶å€™ä¹Ÿä¼šåœ¨çœ‹å…¶ä»–è§†é¢‘æ•™ç¨‹æˆ–æ–‡ç« æ—¶è®°ä¸€äº›ç¬”è®°ã€‚æœ‰äº›ç¬”è®°æœ¬èº«ä¸å¤ªé€‚åˆåˆ†äº«å‡ºæ¥ï¼Œå› ä¸ºåšç¬”è®°ä¸å¯é¿å…çš„ä¼šæŒ‰ç…§è‡ªå·±çš„æ€è·¯å’Œç°æœ‰çŸ¥è¯†æ¥å®šåˆ¶ï¼Œå¯èƒ½å’Œåˆ«äººæ³¨æ„é‡ç‚¹ä¸å¤ªä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘æ‰“ç®—å°†ä¸€äº›æ¯”è¾ƒæˆæ–‡çš„ã€æœ‰ç»“æ„æ€§çš„ã€æœ‰å‚è€ƒä»·å€¼çš„ç¬”è®°åˆ†äº«å‡ºæ¥ï¼Œè¿™ä¹Ÿèƒ½é”»ç‚¼æˆ‘æŠŠç¬”è®°ç»„ç»‡æˆæ–‡çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº›å…¬å¼€çš„ç¬”è®°æˆ‘æ”¾åœ¨ç‹¬ç«‹çš„ä¸€ä¸ª Notion é¡µé¢ä¸­ï¼Œè¿™ä¸ªé¡µé¢å¯ä»¥ç‚¹å‡»åšå®¢ä¸Šæ–¹çš„&lt;strong&gt;å…¬å¼€ç¬”è®°&lt;/strong&gt;ï¼Œæˆ–è€…è¿™ä¸ªé“¾æ¥æ‰¾åˆ°ï¼š&lt;a href=&quot;https://www.notion.so/frankorz/e9a64743c07743f08605f5df7cb57eaf&quot;&gt;å…¬å¼€ç¬”è®°&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;Notion æœ¬èº«å¯¹å…¬å¼ã€æ’ç‰ˆéƒ½æ¯”è¾ƒå‹å¥½ï¼Œä½†æ˜¯æ‰“å¼€å¯èƒ½è¦ç§‘å­¦ä¸Šç½‘ï¼Œæˆ‘æ˜¯æ‡’å¾—æŠŠè¿™äº›æ–‡ç« å¾€åšå®¢æ¬äº†â€¦ä¸è¿‡ç”¨ Notion æœ‰ä¸ªå¥½å¤„å°±æ˜¯ï¼Œæˆ‘å¯¹å…¬å¼€ç¬”è®°çš„ç¼–è¾‘éƒ½èƒ½å®æ—¶æ›´æ–°åˆ°ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="3Dæ•°å­¦" scheme="http://frankorz.com/tags/3D%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>å›¾å½¢å­¦å¸¸è§çš„å˜æ¢æ¨å¯¼</title>
    <link href="http://frankorz.com/2020/07/26/transformation/"/>
    <id>http://frankorz.com/2020/07/26/transformation/</id>
    <published>2020-07-26T17:46:35.000Z</published>
    <updated>2022-12-28T06:52:11.278Z</updated>
    
    <content type="html"><![CDATA[<p>æ³¨æ„ï¼šç”±äºè¿™ä¸ªåšå®¢ä¸»é¢˜å¯¹ MathJax æ”¯æŒä¸å¥½ï¼Œéƒ¨åˆ†æ¨å¯¼è½¬ç”¨å›¾ç‰‡ä»£æ›¿ï¼Œæˆ–è€…å¯ä»¥ç§»æ­¥æˆ‘çš„ Notion ç¬”è®°ï¼š<a href="https://www.notion.so/frankorz/ce300124a4444c2cacc90a5ea0a5a19b">Transformation</a>ã€‚</p><p>æœ¬æ–‡æ˜¯ Games101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨ ç¬¬ä¸‰å’Œç¬¬å››èŠ‚è¯¾çš„ç¬”è®°ï¼Œæ–‡ä¸­å¯¹äºŒç»´å˜æ¢ã€ä¸‰ç»´å˜æ¢ã€è§†å›¾å˜æ¢ã€æ­£äº¤æŠ•å½±å’Œé€è§†æŠ•å½±åšäº†æ¨å¯¼ï¼Œç›¸å…³è§†é¢‘åœ¨ä¸‹æ–¹ã€‚</p><p><a href="https://www.bilibili.com/video/BV1X7411F744?p=3">GAMES101-Lecture03 Transformation</a></p><p><a href="https://www.bilibili.com/video/BV1X7411F744?p=4">GAMES101-Lecture04 Transformation Cont.</a></p><p>æœ¬æ–‡åŒæ—¶å‚è€ƒäº†ã€ŠUnity Shader å…¥é—¨ç²¾è¦ã€‹çš„ç¬¬å››ç« ï¼Œä½œè€…å…¬å¼€äº†ç¬¬å››ç« çš„ PDFï¼Œå¯ä»¥åœ¨ä¸‹é¢ä¸‹è½½åˆ°ã€‚</p><p><a href="https://github.com/candycat1992/Unity_Shaders_Book#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%8B%98%E8%AF%AF">candycat1992/Unity_Shaders_Book</a></p><p>é—«è€å¸ˆçš„æ¨å¯¼ååˆ†ç®€æ´æ˜“æ‡‚ï¼Œæˆ‘ä¹Ÿå°½é‡æŠŠè¿‡ç¨‹è¡¥å……åˆ°æ–‡ç« ä¸­ï¼Œè¯»è€…çœ‹äº†æˆ‘ç›¸ä¿¡è‚¯å®šä¹Ÿèƒ½è·Ÿç€æ€è·¯æŠŠå˜æ¢å…¬å¼æ¨å¯¼å‡ºæ¥ã€‚</p><p>åœ¨è¯»æœ¬æ–‡çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ¨èå‚è€ƒä¸Šé¢æåˆ°çš„è§†é¢‘å’Œ pdf äº’ç›¸å‚è€ƒï¼Œæœ¬æ–‡æ˜¯è§†é¢‘ä¸­æ¨å¯¼çš„è¯¦ç»†ç¬”è®°ï¼Œå†¯ä¹ä¹çš„ pdf ä¸­è™½ç„¶æ²¡æœ‰æŠ•å½±å˜æ¢çš„æ¨å¯¼ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æŠŠç†è®ºè®²çš„ååˆ†æ¸…æ™°ï¼Œä¾‹å¦‚å¿…è¦çš„æ•°å­¦åŸºç¡€å’Œå„ç§å›¾å½¢å­¦æ¦‚å¿µçš„è®²è§£ã€‚</p><span id="more"></span><h2 id="çº¿æ€§å˜æ¢">çº¿æ€§å˜æ¢</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>c</mi><mi>x</mi><mo>+</mo><mi>d</mi><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}x^{\prime}=a x+b y \\\ y^{\prime}=c x+d y\end{array} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>å¦‚æœæˆ‘ä»¬å¯ä»¥æŠŠå˜æ¢å†™æˆè¿™æ ·ä¸€ç§å½¢å¼ï¼ŒçŸ©é˜µä¹˜ä»¥è¾“å…¥åæ ‡ç­‰äºè¾“å‡ºåæ ‡ï¼Œè¿™æ ·å¯ä»¥å«åšçº¿æ€§å˜æ¢ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right]=\left[\begin{array}{ll}a &amp; b \\\ c &amp; d\end{array}\right]\left[\begin{array}{l}x \\\ y\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi mathvariant="bold">x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi mathvariant="bold">M</mi><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf{x}^{\prime}=\mathbf{M} \mathbf{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord"><span class="mord mathbf">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6861em;"></span><span class="mord mathbf">Mx</span></span></span></span></span></p><h3 id="Scale-Matrix">Scale Matrix</h3><p><img src="http://img.frankorz.com/2d-scale-2.png" alt="Transformation%206c54d524cd134bc0943ed5335afa2508/Untitled.png"></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>s</mi><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>s</mi><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}x^{\prime}=s x \\\ y^{\prime}=s y\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>å…¶å˜æ¢çŸ©é˜µï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>s</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>s</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right]=\left[\begin{array}{ll}s &amp; 0 \\\ 0 &amp; s\end{array}\right]\left[\begin{array}{l}x \\\ y\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><h3 id="Scale-Non-Uniform">Scale (Non-Uniform)</h3><p>x y å¯ä»¥ä¸å‡åŒ€åœ°ç¼©æ”¾</p><p><img src="http://img.frankorz.com/2d-scale.png" alt="201.png"></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>y</mi></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right]=\left[\begin{array}{ll}s_{x} &amp; 0 \\\ 0 &amp; s_{y}\end{array}\right]\left[\begin{array}{l}x \\\ y\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><h3 id="Reflection-Matrix">Reflection Matrix</h3><p><img src="http://img.frankorz.com/2d-reflection.png" alt="202.png"></p><p>Horizontal reflection:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mo>âˆ’</mo><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}x^{\prime}=-x \\\ y^{\prime}=y\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ’</span><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right]=\left[\begin{array}{cc}-1 &amp; 0 \\\ 0 &amp; 1\end{array}\right]\left[\begin{array}{l}x \\\ y\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><h3 id="Shear-Matrix">Shear Matrix</h3><p><img src="http://img.frankorz.com/2d-shear.png" alt="203.png"></p><h3 id="2D-Rotation-Matrix">2D Rotation Matrix</h3><p><img src="http://img.frankorz.com/2d-rotation-deduce.png" alt="204.png"></p><p><img src="http://img.frankorz.com/2d-rotation.png" alt="205.png"></p><h2 id="é½æ¬¡åæ ‡">é½æ¬¡åæ ‡</h2><h3 id="Translation">Translation</h3><p>å¹³ç§»å˜æ¢éå¸¸ç‰¹æ®Šã€‚</p><p><img src="http://img.frankorz.com/2d-translation.png" alt="206.png"></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>x</mi><mo>+</mo><msub><mi>t</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>y</mi><mo>+</mo><msub><mi>t</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{l}x^{\prime}=x+t_{x} \\\ y^{\prime}=y+t_{y}\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>å†™å‡ºæ¥ç®€å•ï¼Œä½†æ˜¯ä¸¤ä¸ªå¼å­ä¸èƒ½å†™æˆçº¿æ€§å˜æ¢çš„å½¢å¼ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right]=\left[\begin{array}{ll}a &amp; b \\\ c &amp; d\end{array}\right]\left[\begin{array}{l}x \\\ y\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p>åªèƒ½å†™æˆï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>+</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>t</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\left[\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right]=\left[\begin{array}{ll}a &amp; b \\\ c &amp; d\end{array}\right]\left[\begin{array}{l}x \\\ y\end{array}\right]+\left[\begin{array}{l}t_{x} \\\ t_{y}\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p>å› æ­¤å¹³ç§»å˜æ¢å¹¶ä¸æ˜¯çº¿æ€§å˜æ¢ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›å°†å¹³ç§»å˜æ¢çœ‹ä½œä¸€ä¸ªç‰¹æ®Šçš„ä¾‹å­ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•å°†ç¼©æ”¾ã€é”™åˆ‡ã€å¹³ç§»ç­‰å˜æ¢ç”¨ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥è¡¨ç¤ºï¼Ÿ</p><p>åœ¨è®¡ç®—æœºç§‘å­¦ï¼Œæ°¸è¿œè¦è€ƒè™‘ â€œTrade-Offâ€ã€‚æ•°æ®ç»“æ„ä¸­ä¸åŒé™ä½æ—¶é—´å¤æ‚åº¦çš„åŠæ³•éƒ½ä¼šå¼•å…¥ç©ºé—´å¤æ‚åº¦ã€‚å¦‚æœä¸¤è€…éƒ½èƒ½ä½å°±å¾ˆå¥½ï¼Œä½†æ›´å¤šæ—¶å€™æ˜¯éæ­¤å³å½¼çš„äº‹æƒ…ã€‚â€œNo Free Lunch Theoryâ€ã€‚</p><p><img src="http://img.frankorz.com/2d-translation-ppt.png" alt="207.png"></p><p>å¼•å…¥é½æ¬¡åæ ‡ï¼Œå¯ä»¥é€šè¿‡å¢åŠ ä¸€ä¸ªç»´åº¦æ¥å°†å¹³ç§»å˜æ¢ä¹Ÿå†™æˆçŸ©é˜µä¹˜ä¸€ä¸ªç‚¹çš„å½¢å¼ã€‚</p><p>å‘é‡å…·æœ‰å¹³ç§»ä¸å˜æ€§ï¼Œå› æ­¤åé¢æ˜¯ (x, y, 0)ï¼Œå¹³ç§»å˜æ¢åä¹Ÿä¸å˜ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ w åˆ†é‡æ¥æ¨å‡ºæˆ‘ä»¬æ“ä½œçš„ç»“æœï¼š</p><p>Valid operation if w-coordinate of result is 1 or 0</p><ul><li>vector + vector = vector</li><li>point â€“ point = vector</li><li>point + vector = point</li><li>point + point = ??</li></ul><h3 id="Affine-Transformations-ä»¿å°„å˜æ¢">Affine Transformations ä»¿å°„å˜æ¢</h3><p>Affine map = linear map + translation</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>â‹…</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>+</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>t</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(\begin{array}{l}x^{\prime} \\\ y^{\prime}\end{array}\right)=\left(\begin{array}{ll}a &amp; b \\\ c &amp; d\end{array}\right) \cdot\left(\begin{array}{l}x \\\ y\end{array}\right)+\left(\begin{array}{l}t_{x} \\\ t_{y}\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></p><p>Using homogenous coordinates:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>c</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>â‹…</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(\begin{array}{l}x^{\prime} \\\ y^{\prime} \\\ 1\end{array}\right)=\left(\begin{array}{ccc}a &amp; b &amp; t_{x} \\\ c &amp; d &amp; t_{y} \\\ 0 &amp; 0 &amp; 1\end{array}\right) \cdot\left(\begin{array}{l}x \\\ y \\\ 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">c</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="2D-Transformations">2D Transformations</h3><h3 id="Scale">Scale</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">S</mi><mrow><mo fence="true">(</mo><msub><mi>s</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>y</mi></msub><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>Â 1Â </mtext></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{S}\left(s_{x}, s_{y}\right)=\left(\begin{array}{ccc}s_{x} &amp; 0 &amp; 0 \\\ 0 &amp; s_{y} &amp; 0 \\\ 0 &amp; 0 &amp; \text { 1 }\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathbf">S</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">Â 1Â </span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="Rotation">Rotation</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">R</mi><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}(\alpha)=\left(\begin{array}{ccc}\cos \alpha &amp; -\sin \alpha &amp; 0 \\\ \sin \alpha &amp; \cos \alpha &amp; 0 \\\ 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbf">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="Translation-2">Translation</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">T</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>y</mi></msub><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{T}\left(t_{x}, t_{y}\right)=\left(\begin{array}{ccc}1 &amp; 0 &amp; t_{x} \\\ 0 &amp; 1 &amp; t_{y} \\\ 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathbf">T</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="é€†å˜æ¢">é€†å˜æ¢</h3><p><img src="http://img.frankorz.com/inverse-transform.png" alt="209.png"></p><p><img src="http://img.frankorz.com/translate-then-rotate.png" alt="2010.png"></p><p><img src="http://img.frankorz.com/rotate-then-translate.png" alt="2011.png"></p><p>å› æ­¤å˜æ¢é¡ºåºæ˜¯å¾ˆé‡è¦çš„ï¼Œä¸æ»¡è¶³äº¤æ¢å¾‹ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>R</mi><mn>45</mn></msub><mo>â‹…</mo><msub><mi>T</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msub><mo mathvariant="normal">â‰ </mo><msub><mi>T</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msub><mo>â‹…</mo><msub><mi>R</mi><mn>45</mn></msub></mrow><annotation encoding="application/x-tex">R_{45} \cdot T_{(1,0)} \neq T_{(1,0)} \cdot R_{45}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">45</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0496em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0385em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">45</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>çŸ©é˜µæ˜¯ä»å³åˆ°å·¦è¿ç®—çš„ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>T</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></msub><mo>â‹…</mo><msub><mi>R</mi><mn>45</mn></msub><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mn>4</mn><msup><mn>5</mn><mo lspace="0em" rspace="0em">âˆ˜</mo></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mn>4</mn><msup><mn>5</mn><mo lspace="0em" rspace="0em">âˆ˜</mo></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>sin</mi><mo>â¡</mo><mn>4</mn><msup><mn>5</mn><mo lspace="0em" rspace="0em">âˆ˜</mo></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mn>4</mn><msup><mn>5</mn><mo lspace="0em" rspace="0em">âˆ˜</mo></msup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">T_{(1,0)} \cdot R_{45}\left[\begin{array}{l}x \\\ y \\\ 1\end{array}\right]=\left[\begin{array}{ccc}1 &amp; 0 &amp; 1 \\\ 0 &amp; 1 &amp; 0 \\\ 0 &amp; 0 &amp; 1\end{array}\right]\left[\begin{array}{ccc}\cos 45^{\circ} &amp; -\sin 45^{\circ} &amp; 0 \\\ \sin 45^{\circ} &amp; \cos 45^{\circ} &amp; 0 \\\ 0 &amp; 0 &amp; 1\end{array}\right]\left[\begin{array}{l}x \\\ y \\\ 1\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0385em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">45</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6741em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ˜</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6741em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ˜</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6741em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ˜</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mord"><span class="mord">5</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6741em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ˜</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>çŸ©é˜µæ²¡æœ‰äº¤æ¢å¾‹ï¼Œä½†æœ‰ç»“åˆå¾‹ã€‚</p><!-- ![](http://img.frankorz.com/MommyTalk1596544330598.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544330598.svg"/></div><h2 id="ä¸‰ç»´å˜æ¢">ä¸‰ç»´å˜æ¢</h2><p>é½æ¬¡åæ ‡ç³»ä¸‹çš„ä¸‰ç»´å˜æ¢å¯ä»¥å†™æˆä¸‹é¢çš„å½¢å¼</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msup><mi>z</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>d</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>g</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>h</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>i</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>â‹…</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\left(\begin{array}{l}x^{\prime} \\\ y^{\prime} \\\ z^{\prime} \\\ 1\end{array}\right)=\left(\begin{array}{llll}a &amp; b &amp; c &amp; t_{x} \\\ d &amp; e &amp; f &amp; t_{y} \\\ g &amp; h &amp; i &amp; t_{z} \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right) \cdot\left(\begin{array}{l}x \\\ y \\\ z \\\ 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">d</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">h</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="Scale-2">Scale</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">S</mi><mrow><mo fence="true">(</mo><msub><mi>s</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>z</mi></msub><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>y</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>s</mi><mi>z</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{S}\left(s_{x}, s_{y}, s_{z}\right)=\left(\begin{array}{cccc}s_{x} &amp; 0 &amp; 0 &amp; 0 \\\ 0 &amp; s_{y} &amp; 0 &amp; 0 \\\ 0 &amp; 0 &amp; s_{z} &amp; 0 \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathbf">S</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="Translation-3">Translation</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">T</mi><mrow><mo fence="true">(</mo><msub><mi>t</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>t</mi><mi>z</mi></msub><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>t</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{T}\left(t_{x}, t_{y}, t_{z}\right)=\left(\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; t_{x} \\\ 0 &amp; 1 &amp; 0 &amp; t_{y} \\\ 0 &amp; 0 &amp; 1 &amp; t_{z} \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathbf">T</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="Rotation-2">Rotation</h3><h4 id="ç»•è½´æ—‹è½¬">ç»•è½´æ—‹è½¬</h4><p>Rotation around x-, y-, or z-axis</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">R</mi><mi>x</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}_{x}(\alpha)=\left(\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; 0 \\\ 0 &amp; \cos \alpha &amp; -\sin \alpha &amp; 0 \\\ 0 &amp; \sin \alpha &amp; \cos \alpha &amp; 0 \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">R</mi><mi>y</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}_{y}(\alpha)=\left(\begin{array}{cccc}\cos \alpha &amp; 0 &amp; \sin \alpha &amp; 0 \\\ 0 &amp; 1 &amp; 0 &amp; 0 \\\ -\sin \alpha &amp; 0 &amp; \cos \alpha &amp; 0 \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="bold">R</mi><mi>z</mi></msub><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>sin</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>cos</mi><mo>â¡</mo><mi>Î±</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}_{z}(\alpha)=\left(\begin{array}{cccc}\cos \alpha &amp; -\sin \alpha &amp; 0 &amp; 0 \\\ \sin \alpha &amp; \cos \alpha &amp; 0 &amp; 0 \\\ 0 &amp; 0 &amp; 1 &amp; 0 \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><img src="http://img.frankorz.com/rotate-around-x-axis.png" alt="2012.png"></p><p>ç»•ç€ x è½´æ—‹è½¬ï¼Œè¯´æ˜ y å’Œ z éƒ½æ˜¯åœ¨è¿›è¡Œæ—‹è½¬çš„ï¼Œä½† x ä¸å˜ã€‚å› æ­¤ç»• x è½´çš„æ—‹è½¬çŸ©é˜µç›¸æ¯”äºŒç»´çš„æ—‹è½¬çŸ©é˜µï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸å˜çš„ã€‚ä¸­é—´éƒ¨åˆ†å’ŒäºŒç»´æ—‹è½¬çŸ©é˜µä¸€æ ·ã€‚</p><p>ç»• y è½´æ—‹è½¬ä¸ä¸€æ ·ï¼Œè¿™é‡Œæ¶‰åŠåˆ°æˆ‘ä»¬è¦å¦‚ä½•æ€è€ƒè½´çš„ç›¸äº’é¡ºåºã€‚</p><p>æ ¹æ®å³æ‰‹èºæ—‹å®šåˆ™ï¼Œx å‰ä¹˜ y å¾—åˆ° zï¼Œy å‰ä¹˜ z å¾—åˆ° xã€‚ä½† z å‰ä¹˜ x æ‰èƒ½å¾—åˆ° yï¼Œæ˜¯åçš„ï¼Œå› æ­¤ Ry éƒ¨åˆ†ä¸ä¸€æ ·ã€‚</p><h4 id="Rodriguesâ€™-Rotation-Formula">Rodriguesâ€™ Rotation Formula</h4><p>æˆ‘ä»¬èƒ½å¤Ÿè§£å†³ä¸€äº›ç®€å•çš„é—®é¢˜ï¼Œå¤æ‚çš„é—®é¢˜å¯ä»¥è½¬åŒ–æˆä¸€äº›ç®€å•é—®é¢˜çš„ç»„åˆã€‚</p><p>ç»™å®šæ ¹æ®ä¸‰ä¸ªè½´çš„æ—‹è½¬ï¼Œèƒ½å¦å°†æŸä¸€ä¸ªæ–¹å‘æ—‹è½¬åˆ°ä»»æ„ä¸€ä¸ªæ–¹å‘ä¸Šå»ï¼Ÿ</p><p><img src="http://img.frankorz.com/compose-any-3d-rotation.png" alt="2013.png"></p><p>Rotation by angle Î± round axis n</p><p>æœ‰äººå°†ä»»æ„ä¸€ä¸ªæ—‹è½¬åˆ†è§£æˆé€šè¿‡ x y z è½´åˆ†åˆ«åšæ—‹è½¬ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">R</mi><mo stretchy="false">(</mo><mi mathvariant="bold">n</mi><mo separator="true">,</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo>=</mo><mi>cos</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mi mathvariant="bold">I</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>cos</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mi mathvariant="bold">n</mi><msup><mi mathvariant="bold">n</mi><mi>T</mi></msup><mo>+</mo><mi>sin</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>Î±</mi><mo stretchy="false">)</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>n</mi><mi>z</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>n</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>n</mi><mi>z</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>n</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mo>âˆ’</mo><msub><mi>n</mi><mi>y</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>n</mi><mi>x</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{R}(\mathbf{n}, \alpha)=\cos (\alpha) \mathbf{I}+(1-\cos (\alpha)) \mathbf{n} \mathbf{n}^{T}+\sin (\alpha)\left(\begin{array}{ccc}0 &amp; -n_{z} &amp; n_{y} \\\ n_{z} &amp; 0 &amp; -n_{x} \\\ -n_{y} &amp; n_{x} &amp; 0\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbf">R</span><span class="mopen">(</span><span class="mord mathbf">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mord mathbf">I</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">))</span><span class="mord mathbf">n</span><span class="mord"><span class="mord mathbf">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>è¯æ˜è¿‡ç¨‹å¯ä»¥å‚è€ƒé—«ä»¤çªè€å¸ˆçš„è¯æ˜ï¼š</p><p><a href="https://sites.cs.ucsb.edu/~lingqi/teaching/resources/GAMES101_Lecture_04_supp.pdf">GAMES101_Lecture_04_supp.pdf</a></p><p>å…¬å¼ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ—‹è½¬çŸ©é˜µï¼Œå®šä¹‰ä¸­ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæ—‹è½¬è½´ n å’Œæ—‹è½¬è§’åº¦ Î±ã€‚æ—‹è½¬è§’åº¦å¥½ç†è§£ï¼Œä½†æ—‹è½¬è½´ä¼¼ä¹ä¸èƒ½è¿™ä¹ˆç®€å•åœ°å®šä¹‰ã€‚å› ä¸ºä¸€ä¸ªæ—‹è½¬è½´é¦–å…ˆè·Ÿèµ·ç‚¹æœ‰å…³ç³»ï¼Œç„¶åè·Ÿæ–¹å‘æœ‰å…³ç³»ï¼Œåªç»™ä¸€ä¸ªå‘é‡æ˜¯ä¸æ˜¯ä¸å¤ªåˆé€‚ï¼Ÿ</p><p>å‡å¦‚è¯´æ²¿ç€ y è½´æ—‹è½¬ï¼Œè·Ÿæ²¿ç€ x å’Œ n å„ç­‰äº 1 å¹¶ä¸”ä¹Ÿæ˜¯æ²¿ç€ y æ–¹å‘çš„å‘é‡ã€‚æ–¹å‘ä¸€æ ·ï¼Œä½†èµ·ç‚¹ä¸ä¸€æ ·ï¼Œç»“æœè‚¯å®šä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚å› æ­¤æˆ‘ä»¬è¯´æ²¿ç€æŸä¸ªè½´çš„æ–¹å‘æ—‹è½¬ï¼Œå°±é»˜è®¤äº†æ˜¯è¿‡åŸç‚¹çš„ï¼Œè¿™æ ·èµ·ç‚¹å°±åœ¨åŸç‚¹ä¸Šï¼Œæ–¹å‘å°±æ˜¯ n æ–¹å‘ã€‚</p><p>é‚£ä¹ˆå¦‚æœè½´ n å¯ä»¥å¹³ç§»æ€ä¹ˆåŠï¼Ÿé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°†å…¶è¿›è¡Œå˜æ¢çš„åˆ†è§£ã€‚å¦‚æœæˆ‘ä»¬è¦æ²¿ç€ä»»æ„è½´æ—‹è½¬ä¸”è½´çš„èµ·ç‚¹ä¸åœ¨åŸç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„ä¸œè¥¿ç§»åˆ°èµ·ç‚¹ä¸ºåŸç‚¹çš„æ¡ä»¶ä¸‹ï¼Œå†æ—‹è½¬ï¼Œå†ç§»å›å»ã€‚</p><h2 id="å››å…ƒæ•°ç›¸å…³">å››å…ƒæ•°ç›¸å…³</h2><p>æˆ‘ä»¬ä¸Šé¢æ‰€ç”¨åˆ°çš„æ—‹è½¬çŸ©é˜µæ˜¯ä¸å¤ªé€‚åˆåšæ’å€¼çš„ï¼Œä¾‹å¦‚äºŒç»´æ—‹è½¬ 10 åº¦çš„æ—‹è½¬çŸ©é˜µåŠ äºŒç»´æ—‹è½¬ 20 åº¦çš„æ—‹è½¬çŸ©é˜µæ±‚å¹³å‡ï¼Œä¸èƒ½å¾—åˆ°äºŒç»´æ—‹è½¬ 15 åº¦çš„æ—‹è½¬çŸ©é˜µã€‚å››å…ƒæ•°åœ¨è¿™æ–¹é¢æ–¹ä¾¿å¾ˆå¤šã€‚</p><h2 id="View-Camera-Transformation-è§†å›¾å˜æ¢">View/Camera Transformation è§†å›¾å˜æ¢</h2><h3 id="å®šä¹‰ç›¸æœº">å®šä¹‰ç›¸æœº</h3><p><img src="http://img.frankorz.com/perform-view-transformation.png" alt="2014.png"></p><p>å®šä¹‰ä¸€ä¸ªç›¸æœºéœ€è¦ä¸‰ä¸ªå˜é‡ï¼Œä½ç½®ï¼Œæœå‘ï¼Œå’Œä¸€ä¸ªå‘ä¸Šçš„æ–¹å‘ã€‚</p><h3 id="è§†å›¾å˜æ¢">è§†å›¾å˜æ¢</h3><p><img src="http://img.frankorz.com/perform-view-transformation-2.png" alt="2015.png"></p><p>å½“ç›¸æœºå’Œè¦æ‹çš„ä¸œè¥¿ä¸€èµ·ç§»åŠ¨çš„æ—¶å€™ï¼Œé‚£æ‹å‡ºæ¥çš„ç›¸ç‰‡æ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬ç§»åŠ¨ç‰©ä½“æ—¶ï¼Œåªè¦åŒæ—¶ä»¥ç›¸åŒçš„æ–¹å¼ç§»åŠ¨ç›¸æœºï¼Œæ²¡æœ‰ç›¸å¯¹ä½ç½®ï¼Œé‚£ä¹ˆå¾—å‡ºæ¥çš„ç»“æœå°±æ˜¯ä¸€æ ·çš„ã€‚</p><p>å¦‚æœæˆ‘ä»¬å°†ç›¸æœºæ”¾åœ¨ä¸€ä¸ªå›ºå®šçš„ä½ç½®ä¸Šï¼Œé‚£ä¹ˆæ‰€æœ‰ä¸œè¥¿åœ¨ç§»åŠ¨æ—¶ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯å…¶ä»–ä¸œè¥¿åœ¨ç§»åŠ¨ï¼Œè€Œç›¸æœºä¸€ç›´åœ¨åŸç‚¹ä¸åŠ¨ã€‚ç›¸æœºæ°¸è¿œå¾€ -z æ–¹å‘çœ‹ï¼Œä»¥ y è½´ä¸ºå‘ä¸Šæ–¹å‘ï¼ˆå³æ‰‹åæ ‡ç³»ï¼Œç¬¦åˆ OpenGL ä¼ ç»Ÿï¼‰ã€‚è¿™æ˜¯çº¦å®šä¿—æˆçš„ã€‚ç›¸æœºæ”¾åœ¨åŸç‚¹æœ‰å¾ˆå¤šå¥½å¤„ï¼Œèƒ½ç®€åŒ–è®¡ç®—ã€‚</p><p>ä»åæ ‡ç©ºé—´çš„è§’åº¦æ¥çœ‹ï¼Œå°±æ˜¯å°†ç‰©ä½“å’Œç›¸æœºä»ä¸–ç•Œç©ºé—´è½¬åˆ°è§‚å¯Ÿç©ºé—´ï¼ˆæ‘„åƒæœºç©ºé—´ï¼‰ã€‚</p><p><img src="http://img.frankorz.com/perform-view-transformation-3.png" alt="2016.png"></p><p>æˆ‘ä»¬è¦å°†ç›¸æœºç§»åˆ°åŸç‚¹ï¼Œå°±éœ€è¦å…ˆæŠŠç›¸æœºä¸­å¿ƒ e å¹³ç§»åˆ°åŸç‚¹ï¼Œè¿˜å¾—æŠŠè§‚å¯Ÿçš„æ–¹å‘ g ç§»åˆ° -z ä¸Šï¼Œå†æŠŠå‘ä¸Šæ–¹å‘ t æ—‹è½¬åˆ° y æ–¹å‘ä¸Šï¼ŒæŠŠ g X t çš„æ–¹å‘ç§»åˆ° x æ–¹å‘ä¸Šã€‚</p><p>ä¸‹é¢å°†è¿™ç³»åˆ—æ“ä½œè½¬ä¸ºçŸ©é˜µæ“ä½œã€‚</p><h3 id="æ±‚è§†å›¾å˜æ¢çŸ©é˜µ">æ±‚è§†å›¾å˜æ¢çŸ©é˜µ</h3><ol><li><strong>å…ˆæŠŠç›¸æœºä¸­å¿ƒ e å¹³ç§»åˆ°åŸç‚¹</strong></li></ol><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>T</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>x</mi><mi>e</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>y</mi><mi>e</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><msub><mi>z</mi><mi>e</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">T_{v i e w}=\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -x_{e} \\\ 0 &amp; 1 &amp; 0 &amp; -y_{e} \\\ 0 &amp; 0 &amp; 1 &amp; -z_{e} \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>å¹³ç§»çŸ©é˜µå†™å¥½åï¼Œæ¥ä¸‹æ¥å†™æ—‹è½¬çŸ©é˜µã€‚</p><ol start="2"><li><strong>æŠŠè§‚å¯Ÿçš„æ–¹å‘ g æ—‹è½¬åˆ° -z ä¸Šï¼ŒæŠŠå‘ä¸Šæ–¹å‘ t æ—‹è½¬åˆ° y æ–¹å‘ä¸Šï¼Œg X t (g å‰ä¹˜ t)çš„æ–¹å‘æ—‹è½¬åˆ° x æ–¹å‘ä¸Š</strong></li></ol><ul><li>Rotate g to -z , t to y,  g X t To x ï¼ˆä¸–ç•Œç©ºé—´åˆ°è§‚å¯Ÿç©ºé—´ï¼‰</li><li>Consider its inverse rotation: x to  g X t , y to t, z to -g ï¼ˆè§‚å¯Ÿç©ºé—´åˆ°ä¸–ç•Œç©ºé—´ï¼‰</li></ul><p>æˆ‘ä»¬å¯ä»¥åè¿‡æ¥å†™ï¼Œä¾‹å¦‚æŠŠ x è½´ (1,0,0 ) æ—‹è½¬åˆ° g X t æ–¹å‘ä¸Šçš„æ—‹è½¬çŸ©é˜µï¼Œå°±æ¯” g X t ç§»åˆ° x è½´çš„æ—‹è½¬çŸ©é˜µè¦å¥½å†™å¾ˆå¤šï¼Œè€Œè¿™ä¸¤ä¸ªæ—‹è½¬çŸ©é˜µæ˜¯äº’é€†çš„ã€‚å†™å‡º x è½´æ—‹è½¬åˆ° g X t æ–¹å‘çš„æ—‹è½¬çŸ©é˜µåï¼Œå†æ±‚å…¶é€†å˜æ¢å°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ g X t ç§»åˆ° x è½´çš„æ—‹è½¬çŸ©é˜µã€‚</p><p>x to g X t , y to t, z to -g çš„æ—‹è½¬çŸ©é˜µå°±æ˜¯ï¼š</p><p>è¿™é‡Œ z to -g æ˜¯å› ä¸ºæˆ‘ä»¬å®šä¹‰ç›¸æœºçš„åæ ‡ç©ºé—´ä¸ºå³æ‰‹åæ ‡ç³»ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>R</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msubsup><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>y</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>z</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">R_{v i e w}^{-1}=\left[\begin{array}{cccc}x_{\hat{g} \times \hat{t}} &amp; x_{t} &amp; x_{-g} &amp; 0 \\\ y_{\hat{g} \times \hat{t}} &amp; y_{t} &amp; y_{-g} &amp; 0 \\\ z_{\hat{g} \times \hat{t}} &amp; z_{t} &amp; z_{-g} &amp; 0 \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1311em;vertical-align:-0.267em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.433em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.267em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.9388em;vertical-align:-2.2194em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7194em;"><span style="top:-4.8794em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.6331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1406em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.2194em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>è¦éªŒè¯ä¹Ÿå¾ˆç®€å•ï¼Œç”¨è¯¥æ—‹è½¬çŸ©é˜µå˜æ¢ x è½´å°±èƒ½å¾—åˆ° g X t çš„æ–¹å‘ã€‚</p><!-- ![](http://img.frankorz.com/MommyTalk1596544303744.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544303744.svg"/></div><p>é‚£ä¹ˆæˆ‘ä»¬çš„æ—‹è½¬çŸ©é˜µå°±èƒ½é€šè¿‡å¯¹ä¸Šé¢çš„çŸ©é˜µæ±‚é€†å¾—å‡ºï¼š</p><p>å› ä¸ºæ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œå› æ­¤è¦æ±‚é€†çŸ©é˜µï¼Œå¯¹å…¶è½¬ç½®å³å¯ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>R</mi><mrow><mi>v</mi><mi>i</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mover accent="true"><mi>g</mi><mo>^</mo></mover><mo>Ã—</mo><mover accent="true"><mi>t</mi><mo>^</mo></mover></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>x</mi><mi>t</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mi>t</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><msub><mi>x</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>y</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>z</mi><mrow><mo>âˆ’</mo><mi>g</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">R_{v i e w}=\left[\begin{array}{cccc}x_{\hat{g} \times \hat{t}} &amp; y_{\hat{g} \times \hat{t}} &amp; z_{\hat{g} \times \hat{t}} &amp; 0 \\\ x_{t} &amp; y_{t} &amp; z_{t} &amp; 0 \\\ x_{-g} &amp; y_{-g} &amp; z_{-g} &amp; 0 \\\ 0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8463em;vertical-align:-2.1731em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.4298em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mbin mtight">Ã—</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8785em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">t</span></span><span style="top:-2.8841em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4063em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6731em;"><span style="top:-4.8331em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.5869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.3869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.1869em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.1731em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>è¿™æ ·æˆ‘ä»¬ä¸–ç•Œç©ºé—´åˆ°è§‚å¯Ÿç©ºé—´çš„å˜æ¢çŸ©é˜µå°±èƒ½å¾—å‡ºæ¥äº†ï¼šM_view=R_viewÂ·T_view</p><!-- ![](http://img.frankorz.com/MommyTalk1596544270087.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544270087.svg"/></div><p>å…¶ä¸­ V_gÃ—t ä¸º gÃ—t çš„å‘é‡ï¼ŒV_e ä¸ºç›¸æœºåŸç‚¹ã€‚</p><p>ç›¸æœºéœ€è¦è¿›è¡Œè¿™ç§å˜æ¢ï¼Œå˜æ¢åˆ°çº¦å®šä¿—æˆçš„ä½ç½®ï¼ˆåŸç‚¹ï¼‰ä¸Šå»ï¼Œé‚£ä¹ˆå…¶ä»–æ‰€æœ‰ç‰©ä½“ä¹Ÿéœ€è¦åšè¿™æ ·çš„å˜æ¢ï¼Œè¿™æ ·ç›¸å¯¹è¿åŠ¨ä¸å˜ã€‚è¿™ä¸ªå°±æ˜¯<strong>è§†å›¾å˜æ¢</strong>ã€‚</p><p>æ¨¡å‹å˜æ¢å’Œè§†å›¾å˜æ¢ç»å¸¸ä¸€èµ·è¢«ç§°ä¸º<strong>æ¨¡å‹è§†å›¾å˜æ¢ï¼ˆModelView Transformationï¼‰</strong>ã€‚</p><h2 id="Projection-Transformation-æŠ•å½±å˜æ¢">Projection Transformation æŠ•å½±å˜æ¢</h2><p>Projection in Computer Graphics</p><ul><li>3D to 2D</li><li>Orthographic projection</li><li>Perspective projection</li></ul><p><img src="http://img.frankorz.com/projection-transformation.png" alt="2017.png"></p><h3 id="Perspective-projection-vs-orthographic-projection">Perspective projection vs. orthographic projection</h3><p><img src="http://img.frankorz.com/vs-two-projection.png" alt="2018.png"></p><h3 id="Orthographic-Projection-æ­£äº¤æŠ•å½±">Orthographic Projection æ­£äº¤æŠ•å½±</h3><h4 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h4><p>A simple way of understanding</p><ul><li>Camera located at origin, looking at -Z, up at Y (looks familiar?)</li><li>Drop Z coordinate</li><li>Translate and scale the resulting rectangle to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">]</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">[-1,1]^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></li></ul><p><img src="http://img.frankorz.com/remove-z.png" alt="2019.png"></p><p>å°†åæ ‡ä¸­çš„ z æ‰”æ‰ï¼Œå¦‚ä½•åŒºåˆ†ç‰©ä½“çš„å‰å’Œåï¼Ÿ</p><p>æ„Ÿå…´è¶£å¯ä»¥å‚è€ƒ <a href="https://catlikecoding.com/unity/tutorials/rendering/part-1/">Catlikecoding Render 1</a> ä¸­ Orthographic Camera éƒ¨åˆ†ã€‚</p><h4 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h4><p>In general, we want to map a cuboid [l, r] x [b, t] x [<strong>f, n</strong>] to the â€œcanonical (æ­£åˆ™ã€è§„èŒƒã€æ ‡å‡†)â€ cube [-1,1]^3</p><p>æˆ‘ä»¬åœ¨ x è½´ä¸Šå®šä¹‰å·¦å’Œå³ [l, r] ï¼ˆå·¦æ¯”å³å°ï¼‰ï¼Œy è½´ä¸Šå®šä¹‰ä¸‹å’Œä¸Š [b, t]ï¼ˆä¸‹æ¯”ä¸Šå°ï¼‰ï¼Œz è½´ä¸Šå®šä¹‰è¿œå’Œè¿‘ [f, n]ï¼ˆè¿œæ¯”è¿‘å°ï¼‰ã€‚</p><p>ä¸ç®¡ x, y å¤šå¤§ï¼Œéƒ½å°†å…¶æ˜ å°„åˆ° [-1, 1] ä¹‹é—´ã€‚è¿™ä¹Ÿæ˜¯ä¸ªçº¦å®šä¿—æˆçš„äº‹æƒ…ï¼Œèƒ½æ–¹ä¾¿è®¡ç®—ã€‚è¿™æ ·ä»»ä½•ç©ºé—´ä¸­çš„é•¿æ–¹ä½“ï¼Œéƒ½å¯ä»¥æ˜ å°„æˆä¸€ä¸ªæ ‡å‡†çš„ç«‹æ–¹ä½“ã€‚</p><p>è¿™ä¹Ÿæ˜¯**æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ï¼ˆNDCï¼‰**çš„å®šä¹‰ã€‚</p><p>ä¸Šé¢çš„å·¦æ¯”å³å°æ˜¯ç›¸å¯¹äº x è½´æ¥è¯´çš„ï¼Œä¸‹æ¯”ä¸Šå°æ˜¯ç›¸å¯¹äº y è½´è¯´çš„ï¼Œä½† z è½´ä¸Šä¸å¤ªç›´è§‚ï¼Œå› ä¸ºæˆ‘ä»¬æ¨å¯¼çš„ NDC æ˜¯å³æ‰‹åæ ‡ç³»ï¼Œï¼ˆç›¸æœºï¼‰çœ‹çš„æ˜¯ -z æ–¹å‘ï¼Œå› æ­¤ä¸€ä¸ªé¢ç¦»æˆ‘ä»¬è¿œï¼Œè¯´æ˜ z å€¼æ›´å°ã€‚ç¦»æˆ‘ä»¬è¿‘ï¼Œè¯´æ˜ z å€¼æ›´å¤§ã€‚</p><p><img src="http://img.frankorz.com/ndc.png" alt="2020.png"></p><p>åœ¨æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»ä¸­ OpenGL ä½¿ç”¨çš„æ˜¯å·¦æ‰‹åæ ‡ç³»ï¼Œå› ä¸ºå·¦æ‰‹ç³»åœ¨è¿™ä¸€ç‚¹ä¸Šä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½†ä¹Ÿä¼šé€ æˆåˆ«çš„é—®é¢˜ï¼šx Ã— y â‰  zã€‚</p><p>è¿™é‡Œå¯ä»¥å‚è€ƒï¼šLearnOpenGL è¿›å…¥3D çš„ <a href="https://learnopengl-cn.github.io/01%20Getting%20started/08%20Coordinate%20Systems/#3d">å³æ‰‹åæ ‡ç³»</a> éƒ¨åˆ†ã€‚</p><p>Slightly different orders (to the â€œsimple wayâ€)</p><ul><li>Center cuboid by translating ç§»åˆ°åŸç‚¹</li><li>Scale into â€œcanonicalâ€ cube æ˜ å°„åˆ° [-1, 1]ï¼Œä¹Ÿå°±æ˜¯ç¼©æ”¾</li></ul><p>Translate (<strong>center</strong> to origin) first, then scale (length/width/height to <strong>2</strong>) å› ä¸º -1 åˆ° 1 çš„é•¿åº¦å°±æ˜¯ 2ã€‚</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå¹³ç§»çŸ©é˜µå’Œç¼©æ”¾çŸ©é˜µæ¥æ±‚å‡ºæ­£äº¤æŠ•å½±çŸ©é˜µï¼Œå…ˆå¹³ç§»ï¼Œå†ç¼©æ”¾ï¼š</p><!-- ![](http://img.frankorz.com/MommyTalk1596544157453.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544157453.svg"/></div><p>å¦‚æœæŠŠé•¿æ–¹ä½“èŒƒå›´ç¼©æˆç«‹æ–¹ä½“ï¼Œç‰©ä½“ä¸ä¼šè¢«æ‹‰ä¼¸å—ï¼Ÿ<br>ä¼šï¼Œè¿™å°±æ¶‰åŠåˆ°å¦å¤–ä¸€ä¸ªå˜æ¢ã€‚åœ¨æ‰€æœ‰å˜æ¢åšå®Œä¹‹åï¼Œè¿˜è¦åšä¸€ä¸ªè§†å£å˜æ¢ï¼Œè¿˜è¦åšä¸€æ¬¡æ‹‰ä¼¸ã€‚</p><h3 id="Perspective-Projection-é€è§†æŠ•å½±">Perspective Projection é€è§†æŠ•å½±</h3><ul><li>Most common in Computer Graphics, art, visual system</li><li>Further objects are smaller</li><li>Parallel lines not parallel; converge to single point</li></ul><p><img src="http://img.frankorz.com/image-plane.png" alt="2021.png"></p><p><img src="http://img.frankorz.com/projection-wiki.png" alt="2022.png"></p><p>å¹³è¡Œçº¿å°±æ˜¯æ°¸ä¸ç›¸äº¤çš„ä¸¤æ¡çº¿ï¼Œä½†ç…§ç‰‡ä¸Šé“è½¨æ˜¯å¹³è¡Œçš„ï¼Œå´äº¤äºä¸€ç‚¹ã€‚é€è§†æŠ•å½±çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå¹³é¢ç›¸å½“äºè¢«æŠ•å½±åˆ°äº†å¦å¤–ä¸€ä¸ªå¹³é¢ä¸Šï¼Œè¿™ç§æƒ…å†µä¸‹å°±ä¸æ˜¯å¹³è¡Œçº¿äº†ã€‚</p><h4 id="Recall">Recall</h4><ul><li>Before we move on</li><li>Recall: property of homogeneous coordinates<ul><li>(x, y, z, 1),(k x, k y, k z, k !=0), (x z, y z, z^2, z !=0) all represent the same point (x, y, z) in 3D<ul><li>åªè¦ä¸€ä¸ªç‚¹ä¹˜äºä¸€ä¸ªä¸ä¸ºé›¶çš„ kï¼Œé‚£ä¹ˆå®ƒä»¬è¿˜æ˜¯ä¸€ä¸ªç‚¹ã€‚é‚£ä¹ˆæˆ‘ä»¬è¿˜å¯ä»¥å°†å…¶ä¹˜ä»¥ zï¼Œå…¶è¡¨ç¤ºçš„ç‚¹è¿˜æ˜¯ç©ºé—´ä¸­åŒæ ·çš„ç‚¹ã€‚ä¸‹é¢æˆ‘ä»¬ä¼šç”¨åˆ°ã€‚</li></ul></li><li>e.g. (1, 0, 0, 1) and (2, 0, 0, 2) both represent (1, 0, 0)</li></ul></li><li>Simple, but useful</li></ul><h4 id="æ€ä¹ˆåšé€è§†æŠ•å½±">æ€ä¹ˆåšé€è§†æŠ•å½±</h4><p>How to do perspective projection</p><ul><li>First â€œsquishâ€ the frustum into a cuboid (nâ†’n, fâ†’f) (M_perspâ†’ortho)</li><li>Do orthographic projection ( M_ortho, already known!)</li></ul><p><img src="http://img.frankorz.com/frustum-and-cuboid.png" alt="2023.png"></p><p>é€è§†æŠ•å½±çš„è§†é”¥ä½“ä¸­ï¼Œè¿œçš„å¹³é¢æ¯”è¿‘çš„å¹³é¢è¦å¤§ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠè¿œçš„å¹³é¢å¾€é‡Œâ€œæŒ¤â€ï¼Œâ€œæŒ¤â€åˆ°åŒä¸€é«˜åº¦ä¸”åŒè¿‘å¹³é¢å¤§å°ï¼Œâ€œæŒ¤â€æˆç©ºé—´ä¸­çš„é•¿æ–¹ä½“ï¼Œå†åšæ­£äº¤æŠ•å½±å°±è§£å†³äº†ã€‚</p><p>æˆ‘ä»¬å·²ç»çŸ¥é“æ­£äº¤æŠ•å½±æ€ä¹ˆåšäº†ï¼Œå› æ­¤å‰©ä¸‹çš„å°±æ˜¯â€œæŒ¤â€è¿™ä¸ªæ“ä½œã€‚</p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è§„å®šï¼š</p><ul><li>è¿‘å¹³é¢ä¸Šä»»ä½•ä¸€ä¸ªç‚¹ä¸å˜ã€‚</li><li>Z å€¼ä¸å˜</li><li>è¿œå¹³é¢çš„ä¸­å¿ƒä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–</li></ul><h4 id="æ±‚å‡ºä»»ä½•ä¸€ä¸ªç‚¹æŒ¤å‹åçš„-xâ€™-yâ€™-å€¼">æ±‚å‡ºä»»ä½•ä¸€ä¸ªç‚¹æŒ¤å‹åçš„ xâ€™, yâ€™ å€¼</h4><p>è¦åšâ€œæŒ¤â€çš„æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“ä»»ä½•ä¸€ä¸ªç‚¹çš„ x, y å€¼æ˜¯æ€ä¹ˆå˜åŒ–çš„ã€‚å› ä¸ºæˆ‘ä»¬ä»»ä½•ä¸€ä¸ªé¢éƒ½è¦æŒ¤æˆè¿‘å¹³é¢å¤§å°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°† (x,y,z) æŠ•å½±åˆ°è¿‘å¹³é¢ä¸Šæ±‚å‡ºå˜æ¢åçš„ xâ€™, yâ€™ å€¼ã€‚å¯¹äº x, y å€¼æ¥è¯´ï¼Œè¿™ç§å˜æ¢æ˜¯çº¿æ€§çš„ã€‚</p><p>å› æ­¤ï¼Œåœ¨è§†é”¥ä½“çš„ä¸Šé¢ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›¸ä¼¼ä¸‰è§’å½¢æ±‚å‡ºå˜æ¢åçš„ xâ€™, yâ€™ å€¼ã€‚ï¼ˆzâ€™ å€¼ä¸æ˜¯çº¿æ€§å˜åŒ–çš„ï¼Œåé¢ä¼šæåˆ°ï¼‰</p><p><img src="http://img.frankorz.com/projection-similar-triangle.png" alt="2024.png"></p><p>ä¸Šå›¾ä¸­ï¼Œn ä¸ºè¿‘å¹³é¢çš„ z å€¼ï¼Œz ä¸ºä»»ä½•ä¸€ä¸ªç‚¹(x,y,z)ä¸­çš„ z å€¼ã€‚</p><p>æŒ¤å‹åçš„ yâ€™ å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›¸ä¼¼ä¸‰è§’å½¢åŸç†å¾—å‡ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mfrac><mi>n</mi><mi>z</mi></mfrac><mi>y</mi></mrow><annotation encoding="application/x-tex">y^{\prime}=\frac{n}{z} y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9963em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span></p><p>åŒç†å¯å¾—æŒ¤å‹åçš„ xâ€™ å€¼ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mfrac><mi>n</mi><mi>z</mi></mfrac><mi>x</mi></mrow><annotation encoding="application/x-tex">x^{\prime}=\frac{n}{z} x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">x</span></span></span></span></span></p><p>åœ¨é½æ¬¡åæ ‡ç³»ä¸­ï¼Œå¯¹äºå˜æ¢åçš„ (xâ€™, yâ€™, zâ€™)  æˆ‘ä»¬åªå‰©ä¸‹ zâ€™ æœªçŸ¥ã€‚</p><p>è¿™é‡Œç»™çŸ©é˜µä¹˜äº† zï¼Œå…¶è¡¨ç¤ºçš„ç‚¹è¿˜æ˜¯ç©ºé—´ä¸­åŒæ ·çš„ç‚¹ã€‚</p><!-- ![](http://img.frankorz.com/MommyTalk1596544132635.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544132635.svg"/></div><p>ä¹Ÿå°±æ˜¯è¯´ (x,y,z,1) ç»è¿‡ Mperspâ†’ortho çŸ©é˜µâ€œæŒ¤å‹â€åï¼Œä¼šè¢«æ˜ å°„åˆ° (nx,ny,??,z)ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>M</mi><mrow><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>p</mi><mo>â†’</mo><mi>o</mi><mi>r</mi><mi>t</mi><mi>h</mi><mi>o</mi></mrow><mrow><mo stretchy="false">(</mo><mn>4</mn><mo>Ã—</mo><mn>4</mn><mo stretchy="false">)</mo></mrow></msubsup><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>z</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>n</mi><mi>x</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>n</mi><mi>y</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>Â Â unknownÂ </mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mi>z</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M_{p e r s p \rightarrow o r t h o}^{(4 \times 4)}\left(\begin{array}{c}x \\\ y \\\ z \\\ 1\end{array}\right)=\left(\begin{array}{c}n x \\\ n y \\\ \text { unknown } \\\ z\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.3987em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ers</span><span class="mord mathnormal mtight">p</span><span class="mrel mtight">â†’</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">o</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">4</span><span class="mbin mtight">Ã—</span><span class="mord mtight">4</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4374em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord text"><span class="mord">Â unknownÂ </span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>æ ¹æ®ä¸Šå¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºéƒ¨åˆ†çš„ Mperspâ†’ortho çŸ©é˜µï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>M</mi><mrow><mi>p</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>p</mi><mo>â†’</mo><mi>o</mi><mi>r</mi><mi>t</mi><mi>h</mi><mi>o</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="left left left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>n</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mo stretchy="false">?</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo stretchy="false" lspace="0em" rspace="0em">?</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo stretchy="false" lspace="0em" rspace="0em">?</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo stretchy="false" lspace="0em" rspace="0em">?</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>Â </mtext><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">M_{p e r s p \rightarrow o r t h o}=\left(\begin{array}{llll}n &amp; 0 &amp; 0 &amp; 0 \\\ 0 &amp; n &amp; 0 &amp; 0 \\\ ? &amp; ? &amp; ? &amp; ? \\\ 0 &amp; 0 &amp; 1 &amp; 0\end{array}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">ers</span><span class="mord mathnormal mtight">p</span><span class="mrel mtight">â†’</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">or</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">o</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,1284c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-1292c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mclose">?</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace">Â </span><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mclose">?</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mclose">?</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mclose">?</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.875em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='4.800em' viewBox='0 0 875 4800'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,1209c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-1344c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>å¯¹äº zï¼Œæˆ‘ä»¬ä¸çŸ¥é“ z ä¼šæ€ä¹ˆå˜ï¼Œæˆ‘ä»¬åªè§„å®šäº†è¿‘çš„å¹³é¢ä¸Šå’Œè¿œçš„å¹³é¢ä¸Š z ä¸å˜ã€‚</p><p>Observation: the third row is responsible for zâ€™</p><ul><li>Any point on the near plane will not change<ul><li>è¿‘å¹³é¢çš„ç‚¹ä¸å˜ï¼Œå¯¹äºä»»ä½• (x,y,n,1) è¿ç®—å®Œäº†ä¸€å®šè¿˜æ˜¯ (x,y,n,1)</li></ul></li><li>Any pointâ€™s z on the far plane will not change<ul><li>è¿œå¹³é¢çš„ç‚¹ï¼Œè™½ç„¶ x, y ä¼šå˜åŒ–ï¼Œä½†æ˜¯ z æ²¡æœ‰å˜ã€‚</li></ul></li></ul><h4 id="æ±‚å‡ºä»»ä½•ä¸€ä¸ªç‚¹æŒ¤å‹åçš„-zâ€™-å€¼">æ±‚å‡ºä»»ä½•ä¸€ä¸ªç‚¹æŒ¤å‹åçš„ zâ€™ å€¼</h4><p>ç”±â€œè¿‘å¹³é¢çš„ç‚¹ä¸å˜ï¼Œå¯¹äºä»»ä½• (x,y,n,1) è¿ç®—å®Œäº†ä¸€å®šè¿˜æ˜¯ (x,y,n,1)â€å¯å¾—ï¼š</p><p>è¿™é‡Œç»™çŸ©é˜µä¹˜äº† nï¼Œå…¶è¡¨ç¤ºçš„ç‚¹è¿˜æ˜¯ç©ºé—´ä¸­åŒæ ·çš„ç‚¹ã€‚</p><!-- ![](http://img.frankorz.com/MommyTalk1596544077215.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544077215.svg"/></div><p>å› æ­¤ Mperspâ†’ortho ç¬¬ä¸‰è¡Œä¸€å®šæ˜¯ (0,0,A,B) çš„å½¢å¼ï¼Œå› ä¸ºï¼š</p><!-- ![](http://img.frankorz.com/MommyTalk1596544091556.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544091556.svg"/></div><p>ç”±ä¸Šå¼å¯å¾—ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>n</mi><mo>+</mo><mi>B</mi><mo>=</mo><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">A n+B=n^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“ç¬¬ä¸‰è¡Œå‰ä¸¤ä¸ªæ•°æ˜¯ 0ã€‚</p><p>æˆ‘ä»¬å‰é¢å·²ç»è§„å®šäº†è¿œå¹³é¢çš„ä¸­å¿ƒç»è¿‡ Mperspâ†’ortho å˜æ¢åä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p><p>å¦å¤–ä¸€ä¸ªç­‰å¼å¯ä»¥ç”¨è¿œå¹³é¢å¯ä»¥ç”¨å…¶ç‰¹æ®Šçš„ä¸­å¿ƒç‚¹å¾—å‡ºï¼Œç»™ä¸­å¿ƒç‚¹å†ä¹˜ä¸ª f å¯å¾—ï¼š</p><!-- ![](http://img.frankorz.com/MommyTalk1596544046146.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544046146.svg"/></div><p>å¹³æˆªå¤´ä½“ï¼ˆFrustumï¼‰è¢«å‹ç¼©æˆé•¿æ–¹ä½“ä»¥åï¼Œå†…éƒ¨çš„ç‚¹çš„ z å€¼æ˜¯æ›´åå‘äºè¿‘å¹³é¢è¿˜æ˜¯æ›´åå‘äºè¿œå¹³é¢ï¼Ÿ</p><p>å¯ä»¥å‚è€ƒ ScratchAPixel çš„ <a href="https://www.scratchapixel.com/lessons/3d-basic-rendering/perspective-and-orthographic-projection-matrix/building-basic-perspective-projection-matrix">The Perspective and Orthographic Projection Matrix</a></p><p><img src="http://img.frankorz.com/z-fighting.png" alt="2025.png"></p><p><a href="https://developer.nvidia.com/content/depth-precision-visualized">Depth Precision Visualized</a></p><h3 id="å®šä¹‰è§†é”¥">å®šä¹‰è§†é”¥</h3><p>å‰é¢æåˆ°äº†é•¿æ–¹ä½“è¿‘å¹³é¢çš„ l, r, b, tï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•å»å®šä¹‰è¿™äº›å‘¢ï¼Ÿ</p><p>vertical <strong>field-of-view (fovY)</strong> and <strong>aspect ratio</strong></p><p>æˆ‘ä»¬ç°å®ä¸­ç›¸æœºæœ‰è§†è§’çš„å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥çœ‹åˆ°çš„è§’åº¦çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯ field of viewã€‚å¹¿è§’ç›¸æœºå°±æ˜¯å¯è§†è§’åº¦æ¯”è¾ƒå¤§ï¼Œå¯¹äºè§†é”¥ä½“æ¥è¯´ï¼Œå°±æ˜¯å¼ çš„æ¯”è¾ƒå¼€ã€‚</p><p>å‚ç›´çš„å¯è§†è§’åº¦å°±æ˜¯ fovYã€‚è€Œç›¸æœºçš„é•¿å®½æ¯”å°±æ˜¯ aspect ratioã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ fovY å’Œ aspect ratioï¼Œæ¥æ¨å‡ºæ°´å¹³çš„å¯è§†è§’åº¦ã€‚</p><p><img src="http://img.frankorz.com/fovY.png" alt="2026.png"></p><p>How to convert from fovY and aspect to l, r, b, t?</p><p><img src="http://img.frankorz.com/fovY-2.png" alt="2027.png"></p><!-- ![](http://img.frankorz.com/MommyTalk1596544012560.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596544012560.svg"/></div><h3 id="å®Œæˆæ¨å¯¼æ­£äº¤æŠ•å½±çŸ©é˜µ">å®Œæˆæ¨å¯¼æ­£äº¤æŠ•å½±çŸ©é˜µ</h3><p><img src="http://img.frankorz.com/unity-camera-property.png" alt="2028.png"></p><p>æ­£äº¤æŠ•å½±æ²¡æœ‰ fovYï¼Œåœ¨ Unity ä¸­ï¼Œæ­£äº¤æŠ•å½±çš„å‚æ•°ç”± Camera ç»„ä»¶ä¸­çš„å‚æ•° Size, Near, Farï¼ˆViewport Rect æš‚æ—¶å¿½ç•¥ï¼‰å’Œ Game è§†å›¾çš„æ¨ªçºµæ¯”ï¼ˆaspect ratioï¼‰å…±åŒå†³å®šã€‚</p><p>è¿™é‡Œçš„ Near æ˜¯è¿‘è£é¢çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯ -nï¼ŒFar åŒç†ï¼Œç­‰äº -fã€‚</p><p>Size å±æ€§ç”¨æ¥æ›´æ”¹è§†é”¥ä½“ç«–ç›´æ–¹å‘ä¸Šé«˜åº¦çš„ä¸€åŠï¼Œä¹Ÿå°±æ˜¯å‰é¢è¿‘å¹³é¢çš„é«˜åº¦ tã€‚</p><p>ç”±æ­¤å¯å¾—æ­£äº¤æŠ•å½±è¿‘è¿œå¹³é¢çš„é«˜åº¦ t-b ä¸ºï¼š2Â·Size=2Â·t</p><p>æ­£äº¤æŠ•å½±è¿‘è¿œå¹³é¢çš„å®½åº¦ r-l ä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo>â‹…</mo><mtext>è¿‘è¿œå¹³é¢çš„é«˜åº¦</mtext><mo>=</mo><mn>2</mn><mo>â‹…</mo><mi>A</mi><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo>â‹…</mo><mi>S</mi><mi>i</mi><mi>z</mi><mi>e</mi><mo>=</mo><mn>2</mn><mo>â‹…</mo><mi>A</mi><mi>s</mi><mi>p</mi><mi>e</mi><mi>c</mi><mi>t</mi><mo>â‹…</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">Aspect\cdot \text{è¿‘è¿œå¹³é¢çš„é«˜åº¦}=2\cdot Aspect\cdot Size=2\cdot Aspect\cdot t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord text"><span class="mord cjk_fallback">è¿‘è¿œå¹³é¢çš„é«˜åº¦</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ze</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">s</span><span class="mord mathnormal">p</span><span class="mord mathnormal">ec</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span></span></p><p><img src="http://img.frankorz.com/projection-property.png" alt="2029.png"></p><p><img src="http://img.frankorz.com/MommyTalk1596543978233.svg" alt=""></p><p>æ³¨æ„ï¼šè¿™é‡Œçš„ n å’Œ f æ˜¯ -z è½´ä¸Šçš„ï¼Œä»£è¡¨è¿‘è£é¢å’Œè¿œè£é¢çš„ z å€¼ï¼Œå€¼ä¸ºè´Ÿæ•°ã€‚</p><h3 id="å®Œæˆæ¨å¯¼é€è§†æŠ•å½±çŸ©é˜µ">å®Œæˆæ¨å¯¼é€è§†æŠ•å½±çŸ©é˜µ</h3><p>å‰é¢å·²ç»å¾—å‡ºï¼š</p><!-- ![](http://img.frankorz.com/1596543733403.svg) --><div align="center"><img src="http://img.frankorz.com/1596543733403.svg"/></div><!-- ![](http://img.frankorz.com/MommyTalk1596543871566.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596543871566.svg"/></div><p>æ³¨æ„ï¼šè¿™é‡Œçš„ n å’Œ f æ˜¯ -z è½´ä¸Šçš„ï¼Œä»£è¡¨è¿‘è£é¢å’Œè¿œè£é¢çš„ z å€¼ï¼Œå€¼ä¸ºè´Ÿæ•°ã€‚</p><p>é€šå¸¸æˆ‘ä»¬é€è§†æŠ•å½±çš„å‚æ•°é™¤äº†è¿‘è£é¢è¿œè£é¢çš„è·ç¦»å¤–ï¼Œè¿˜ä¼šæœ‰ fov å’Œ Aspectï¼Œä¸” r+l=0ï¼Œå› æ­¤æ•´ç†å…¬å¼å¯å¾—ï¼š</p><!-- ![](http://img.frankorz.com/MommyTalk1596543953726.svg) --><div align="center"><img src="http://img.frankorz.com/MommyTalk1596543953726.svg"/></div><h2 id="åè®°">åè®°</h2><p>åœ¨é•¿æ–‡çš„æœ€åï¼Œæˆ‘å¼ºçƒˆæ¨èå¤§å®¶ä¹Ÿæ‰‹æ¨ä¸€ä¸‹å„ç§å˜æ¢ï¼Œn, f å– -z è½´ä¸Šçš„ z å€¼æˆ–ç»å¯¹å€¼ï¼ˆä¹Ÿå°±æ˜¯è·ç¦»ï¼‰å¾—å‡ºæ¥çš„å˜æ¢çŸ©é˜µä¹Ÿä¸ä¸€æ ·ï¼Œéƒ½æ¨å¯¼ä¸€éå¯ä»¥ç†è§£æ›´æ·±åˆ»ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¼€å§‹å®ç°ä¸€ä¸ªç®€å•çš„ CPU è½¯å…‰æ …æ¸²æŸ“å™¨ï¼Œæˆ‘è¿‘æœŸä¹Ÿåœ¨å‡†å¤‡å†™ä¸€ä¸ªè½¯å…‰æ …ï¼ŒæŠŠå¿…è¦çš„è¿‡ç¨‹éƒ½æ¨å¯¼ä¸€éï¼Œåˆ°æ—¶å€™å†å†™åšæ–‡åˆ†äº«ä¸€ä¸‹ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ³¨æ„ï¼šç”±äºè¿™ä¸ªåšå®¢ä¸»é¢˜å¯¹ MathJax æ”¯æŒä¸å¥½ï¼Œéƒ¨åˆ†æ¨å¯¼è½¬ç”¨å›¾ç‰‡ä»£æ›¿ï¼Œæˆ–è€…å¯ä»¥ç§»æ­¥æˆ‘çš„ Notion ç¬”è®°ï¼š&lt;a href=&quot;https://www.notion.so/frankorz/ce300124a4444c2cacc90a5ea0a5a19b&quot;&gt;Transformation&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡æ˜¯ Games101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨ ç¬¬ä¸‰å’Œç¬¬å››èŠ‚è¯¾çš„ç¬”è®°ï¼Œæ–‡ä¸­å¯¹äºŒç»´å˜æ¢ã€ä¸‰ç»´å˜æ¢ã€è§†å›¾å˜æ¢ã€æ­£äº¤æŠ•å½±å’Œé€è§†æŠ•å½±åšäº†æ¨å¯¼ï¼Œç›¸å…³è§†é¢‘åœ¨ä¸‹æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1X7411F744?p=3&quot;&gt;GAMES101-Lecture03 Transformation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1X7411F744?p=4&quot;&gt;GAMES101-Lecture04 Transformation Cont.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡åŒæ—¶å‚è€ƒäº†ã€ŠUnity Shader å…¥é—¨ç²¾è¦ã€‹çš„ç¬¬å››ç« ï¼Œä½œè€…å…¬å¼€äº†ç¬¬å››ç« çš„ PDFï¼Œå¯ä»¥åœ¨ä¸‹é¢ä¸‹è½½åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/candycat1992/Unity_Shaders_Book#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%8B%98%E8%AF%AF&quot;&gt;candycat1992/Unity_Shaders_Book&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é—«è€å¸ˆçš„æ¨å¯¼ååˆ†ç®€æ´æ˜“æ‡‚ï¼Œæˆ‘ä¹Ÿå°½é‡æŠŠè¿‡ç¨‹è¡¥å……åˆ°æ–‡ç« ä¸­ï¼Œè¯»è€…çœ‹äº†æˆ‘ç›¸ä¿¡è‚¯å®šä¹Ÿèƒ½è·Ÿç€æ€è·¯æŠŠå˜æ¢å…¬å¼æ¨å¯¼å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¯»æœ¬æ–‡çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ¨èå‚è€ƒä¸Šé¢æåˆ°çš„è§†é¢‘å’Œ pdf äº’ç›¸å‚è€ƒï¼Œæœ¬æ–‡æ˜¯è§†é¢‘ä¸­æ¨å¯¼çš„è¯¦ç»†ç¬”è®°ï¼Œå†¯ä¹ä¹çš„ pdf ä¸­è™½ç„¶æ²¡æœ‰æŠ•å½±å˜æ¢çš„æ¨å¯¼ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šåœ°æ–¹éƒ½æŠŠç†è®ºè®²çš„ååˆ†æ¸…æ™°ï¼Œä¾‹å¦‚å¿…è¦çš„æ•°å­¦åŸºç¡€å’Œå„ç§å›¾å½¢å­¦æ¦‚å¿µçš„è®²è§£ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å›¾å½¢å­¦" scheme="http://frankorz.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="3Dæ•°å­¦" scheme="http://frankorz.com/tags/3D%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>2020å¹´5æœˆæŠ€æœ¯å¯¼è¯»</title>
    <link href="http://frankorz.com/2020/05/23/2020-05-tech-reading/"/>
    <id>http://frankorz.com/2020/05/23/2020-05-tech-reading/</id>
    <published>2020-05-23T16:05:35.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä¸€ç›´åœ¨æ€è€ƒè‡ªå·±åœ¨æŠ€æœ¯å­¦ä¹ ä¸Šæ˜¯å¦è¿‡äºä½æ•ˆçš„é—®é¢˜ã€‚å‡ºç°è¿™ä¸ªé—®é¢˜çš„ç¼˜ç”±æ˜¯ï¼Œè‡ªå·±å·¥ä½œä¸‹ç­ä¹‹åæ²¡å¤šå°‘ç²¾åŠ›å’Œæ—¶é—´å»ç•™ç»™è‡ªå·±å­¦ä¹ ã€‚æœ¬æ¥å°±æœ‰é™çš„æ—¶é—´ï¼Œå¦‚æœè¿˜æ²¡æœ‰åˆé€‚çš„å­¦ä¹ è®¡åˆ’ï¼Œè€Œæ˜¯ä¸€æ˜§å‡­å…´è¶£å»å­¦ä¸€äº›ç¦»è‡ªå·±ç›®æ ‡æ–¹å‘æ¯”è¾ƒè¿œçš„ä¸œè¥¿ï¼Œå¯èƒ½ä¼šäº‹å€åŠŸåŠã€‚</p><p>å°±æˆ‘è€Œè¨€ï¼Œè‡ªå·±ç›®å‰çš„æ°´å¹³æ›´åƒæ˜¯â€œç£¨â€å‡ºæ¥çš„ï¼Œä¸œå­¦å­¦è¥¿å­¦å­¦ï¼Œä»€ä¹ˆéƒ½æœ‰ç‚¹å°è±¡ï¼Œä½†æ˜¯ä¸“ä¸šæ–¹å‘çš„çŸ¥è¯†ä¹‹é—´çš„è¿æ¥å´éå¸¸ç¦»æ•£ã€‚è¯»ç ”çš„æ—¶å€™æœ‰å¤§é‡æ—¶é—´ç»™æˆ‘â€œç£¨â€ï¼Œæ€»å½’èƒ½å­¦ä¼šç‚¹ä»€ä¹ˆï¼Œä½†å·¥ä½œåˆ™ä¸ä¸€æ ·ã€‚</p><span id="more"></span><p>ä¾‹å¦‚ä¸€æœ¬ã€ŠShader å…¥é—¨ç²¾è¦ã€‹ç›®å‰çœ‹äº†ä¸¤æ¬¡ï¼Œä½†ä»ç„¶å®³æ€•ç¦»å¼€ä¹¦æ¥å†™ Shaderã€‚å†è€…ï¼Œä¸€é—¨æŠ€æœ¯å¾ˆä¹…ä¸ç”¨ï¼Œå†æ‹¿èµ·æ¥ä¹Ÿéœ€è¦æ—¶é—´ã€‚ä¸ºæ­¤ï¼Œæˆ‘æ€»ç»“äº†ä¸‰ç‚¹åŸå› ï¼š</p><ol><li>å·¥ä½œä¸­å¾ˆå°‘ç”¨åˆ°ï¼Œæ¸¸æˆæœ‰ç‰¹æ•ˆå¸ˆï¼Œè‡ªå·±ä¹Ÿä¸ä¼šä¸»åŠ¨åœ°æ€è€ƒæ€æ ·çš„ Shader èƒ½ä¸ºæ¸¸æˆå¸¦æ¥æ›´å¥½çš„æ•ˆæœã€‚</li><li>å­¦çš„æ—¶å€™åªå…‰çœ‹äº†ï¼Œè·Ÿç€ä¹¦æ•²äº†ï¼Œä½†ä¸€ç›´æ²¡æœ‰èµ°å‡ºä¹¦æœ¬ï¼Œå»è‡ªå·±å®ç°è‡ªå·±æƒ³è¦çš„åŠŸèƒ½ã€‚</li><li>è§‰å¾— Shader åƒ CSS ä¸€æ ·ï¼Œè¦è®°å„ç§ä¸œè¥¿ï¼Œå‡­ç»éªŒå®ç°æ•ˆæœï¼Œè€Œè¿™ç§çŸ¥è¯†è‡ªå·±æœ€å®¹æ˜“ä¸ç”¨å°±å¿˜ã€‚ï¼ˆå½“ç„¶è¿™æ˜¯é”™çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨ä¸ŠæœŸå¯¼è¯»é€‰æ‹©è·Ÿ Games101 å›¾å½¢å­¦è¯¾ç¨‹æ‰“åŸºç¡€ï¼‰</li></ol><p>åŸºäºä¸Šé¢çš„åŸå› ï¼Œå¯¼è¯»ä¹Ÿæ˜¯åå‘è‡ªå·±æ‰“åŸºç¡€çš„æ–¹é¢ã€‚</p><p>ä¸Šä¸€æœŸçš„åšæ–‡åœ¨ï¼š<a href="http://frankorz.com/2020/04/13/2020-04-tech-reading/">ã€Š2020å¹´4æœˆæŠ€æœ¯å¯¼è¯»ã€‹</a></p><h1>ä¹¦ç±</h1><h2 id="ã€Šè½¯æŠ€èƒ½2ï¼šè½¯ä»¶å¼€å‘è€…èŒä¸šç”Ÿæ¶¯æŒ‡å—ã€‹">ã€Šè½¯æŠ€èƒ½2ï¼šè½¯ä»¶å¼€å‘è€…èŒä¸šç”Ÿæ¶¯æŒ‡å—ã€‹</h2><p><a href="https://book.douban.com/subject/35043940/">è±†ç“£åœ°å€</a></p><p>å…¶å®æ­£å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œæˆ‘å­¦ä¸œè¥¿é çš„æ˜¯â€œç£¨â€ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä»€ä¹ˆå¥½çš„å­¦ä¹ æ–¹å¼ã€‚è€Œä¸”é™¤å»ç¼–ç¨‹ï¼Œä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰å¾ˆå¤šâ€œè½¯æŠ€èƒ½â€éœ€è¦æ³¨æ„ï¼Œä¾‹å¦‚è‡ªå·±çš„èŒä¸šè§„åˆ’ã€å¦‚ä½•å‘ç°æŠ€èƒ½çŸ­æ¿ã€å¦‚ä½•æ¨è¿›èŒä¸šç”Ÿæ¶¯ç­‰ç­‰ã€‚</p><p>æˆ‘ç›¸ä¿¡ä¸æ­¢æ˜¯æˆ‘ï¼Œå¾ˆå¤šå¼€å‘è€…ä¹Ÿåœ¨ä¸æ–­åœ°æ‘¸ç´¢å¦‚ä½•æˆä¸ºä¸€ä¸ªç›®æ ‡ä¸­èµ„æ·±ä¸”ä¸“ä¸šçš„å¼€å‘è€…ã€‚è€Œæœ¬æœˆå‡ºç‰ˆçš„è¿™æœ¬ä¹¦å°±æ˜¯ä¸ºè¿™æ–¹é¢è€Œé‡èº«å®šåšçš„ï¼Œæ˜¯è‘—åçš„ã€Šè½¯æŠ€èƒ½ã€‹çš„ç¬¬äºŒç‰ˆã€‚è¿™æœ¬ä¹¦ç›®å‰çœ‹åˆ°çš„ç¿»è¯‘éƒ½ååˆ†ä¼˜ç§€ï¼Œæ¯æ¬¡å¼€å·éƒ½æœ‰ç›Šã€‚å¦‚æœä½ ä¹Ÿæƒ³ä¸“æ³¨äºè‡ªå·±çš„èŒä¸šå‘å±•ï¼Œæˆ‘ååˆ†æ¨èè¿™æœ¬ä¹¦ã€‚</p><p>ä¸‹é¢æ˜¯ä¹¦ä¸­ä»‹ç»çš„åæ­¥å­¦ä¹ æ³•ï¼Œè‡ªå·±æ ¹æ®å®ƒæ¥è°ƒæ•´äº†ä¸‹å­¦ä¹ è®¡åˆ’ï¼š</p><p><img src="http://img.frankorz.com/study-method.png" alt="åæ­¥å­¦ä¹ æ³•"></p><h1>å…¬å¼€è¯¾</h1><h2 id="Games101-å›¾å½¢å­¦å…¥é—¨">Games101 å›¾å½¢å­¦å…¥é—¨</h2><p>è¿™é—¨å…¬å¼€è¯¾æˆ‘å·²ç»åœ¨ä¸ŠæœŸå¯¼è¯»ä¸­æåˆ°ï¼š<a href="http://frankorz.com/2020/04/13/2020-04-tech-reading/#%E5%9B%BE%E5%BD%A2%E5%AD%A6">ã€Š2020å¹´4æœˆæŠ€æœ¯å¯¼è¯»ã€‹</a>ï¼Œå†æ¬¡æåˆ°æ˜¯å› ä¸ºç»è¿‡å­¦ä¹ ï¼Œæˆ‘è®¤ä¸ºè¯¾ç¨‹ä¸­ç†è®ºéƒ¨åˆ†è®²çš„æ·±å…¥æµ…å‡ºï¼Œè€Œä¸”ä¹Ÿèƒ½äº†è§£åˆ°å½“ä¸‹æµè¡Œçš„å›¾å½¢æŠ€æœ¯å’Œå®ƒä»¬æ˜¯æ€ä¹ˆè·Ÿæˆ‘ä»¬æ‰€å­¦çš„è”ç³»åœ¨ä¸€èµ·ã€‚</p><p>é—«è€å¸ˆæåˆ°ä»–çš„å­¦ä¹ æ–¹å¼æ˜¯ï¼šWhy, What then Howï¼Œè¯¾ç¨‹ä¹Ÿæ˜¯æŒ‰ç…§è¿™ç§æ€è·¯æ¥è®¾è®¡çš„ã€‚å…ˆé—®ä¸ºä»€ä¹ˆè¦å­¦è¿™ä¸ªä¸œè¥¿ï¼Œç„¶åé—®å­¦çš„æ˜¯ä»€ä¹ˆï¼Œæœ€åäº†è§£è¿™ä¸œè¥¿å…·ä½“æ˜¯æ€ä¹ˆè¿ä½œçš„ã€æ€ä¹ˆç”¨ã€‚How éƒ¨åˆ†æ˜¯æœ€ä¸é‡è¦çš„ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å¿˜çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åªéœ€æŠŠæ¡å¥½ Why å’Œ What éƒ¨åˆ†å³å¯ã€‚</p><p>é‚£è¯¾ç¨‹æ˜¯æ€ä¹ˆæŠŠçŸ¥è¯†ç‚¹è”ç³»èµ·æ¥çš„å‘¢ï¼Œå°±å‡­å€Ÿä¸€ä¸ªä¸ª Why æ¥è¿æ¥ã€‚æ‹¿å…‰çº¿è¿½è¸ªæ¥ä¸¾ä¾‹ï¼Œä¸‹é¢æ˜¯æˆ‘åšçš„ç¬”è®°ï¼š</p><p><img src="http://img.frankorz.com/ray-tracing-note.jpg" alt="å…‰çº¿è¿½è¸ªç¬”è®°æˆªå›¾"></p><p>å¦‚æœä½ å¯¹ç¬”è®°æ„Ÿå…´è¶£ï¼Œæˆ‘ä¹Ÿå°†å…¶åˆ†äº«äº†å‡ºæ¥ï¼š<a href="https://www.notion.so/frankorz/2cbfd6f8e62f40b5abb0b236b045d6b4">ã€Šå…‰çº¿è¿½è¸ªã€‹</a>ã€‚</p><h2 id="The-Cherno-çš„æ¸¸æˆå¼•æ“æ•™ç¨‹">The Cherno çš„æ¸¸æˆå¼•æ“æ•™ç¨‹</h2><p><a href="https://www.youtube.com/playlist?list=PLlrATfBNZ98dC-V-N3m0Go4deliWHPFwT">æ²¹ç®¡åœ°å€</a></p><p><a href="https://www.bilibili.com/video/BV1KE41117BD">Bç«™æ¬è¿åœ°å€</a></p><p><a href="https://github.com/TheCherno/Hazel">æ•™å­¦ç‰ˆå¼•æ“ä»“åº“åœ°å€</a></p><p>Up ä¸» The Cherno åœ¨è‡ªå·±çš„ CPP å’Œ OpenGL æ•™ç¨‹ä¹‹åï¼Œå†åŸºäºä¸¤è€…æ¨å‡ºäº†æ¸¸æˆå¼•æ“æ•™ç¨‹ã€‚å¼•æ“çš„ä»“åº“æ˜¯è·Ÿç€è§†é¢‘æ•™ç¨‹çš„è¿›åº¦è€Œæ¨è¿›çš„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥äº†è§£ä¸‹ã€‚</p><h2 id="The-Missing-Semester-of-Your-CS-Education">The Missing Semester of Your CS Education</h2><p><a href="https://missing.csail.mit.edu/">è¯¾ç¨‹åœ°å€</a></p><p><a href="https://www.bilibili.com/video/BV1x7411H7wa">Bç«™æ¬è¿åœ°å€</a></p><p>è¿™é—¨å…¬å¼€è¯¾æ˜¯é€šè¿‡çŸ¥ä¹ä¸“æ <a href="https://zhuanlan.zhihu.com/p/139361685">ã€Š6.NULLï¼šæ¨ä¸ç›¸é€¢â€œæœªå«æ—¶â€ã€‹</a>äº†è§£åˆ°çš„ã€‚</p><blockquote><p>Classes teach you all about advanced topics within CS, from operating systems to machine learning, but thereâ€™s one critical subject thatâ€™s rarely covered, and is instead left to students to figure out on their own: proficiency with their tools. Weâ€™ll teach you how to master the command-line, use a powerful text editor, use fancy features of version control systems, and much more!</p></blockquote><p>ç®€è€Œè¨€ä¹‹ï¼Œè¿™é—¨è¯¾ä¸æ˜¯æ•™è®¡ç®—æœºçš„ç†è®ºï¼Œè€Œæ˜¯ä»‹ç»ä¸€äº›å¸¸ç”¨çš„å·¥å…·ï¼Œè®©ä½ åœ¨é¢å¯¹é—®é¢˜çš„æ—¶å€™æœ‰æ›´å¤šçš„æ‰‹æ®µã€‚è‡ªå·±å¯ä»¥çœ‹çœ‹ä¸€äº›ä¸ç†Ÿæ‚‰çš„ä¸»é¢˜æŸ¥æ¼è¡¥ç¼ºã€‚</p><h2 id="MIT-æ•™æˆ-Gilbert-Strang-ã€Œçº¿æ€§ä»£æ•°ã€è¯¾ç¨‹">MIT æ•™æˆ Gilbert Strang ã€Œçº¿æ€§ä»£æ•°ã€è¯¾ç¨‹</h2><p><a href="https://ocw.mit.edu/resources/res-18-010-a-2020-vision-of-linear-algebra-spring-2020/index.htm">è¯¾ç¨‹åœ°å€</a></p><p>è¿™é—¨å…¬å¼€è¯¾æ˜¯é€šè¿‡çŸ¥ä¹ä¸“æ <a href="https://zhuanlan.zhihu.com/p/139045147">ã€Š86å²è¿˜åœ¨å½•ç½‘è¯¾ï¼šMITæ•™æˆGilbert Strangæœ€æ–°ã€Œçº¿æ€§ä»£æ•°ã€è¯¾ç¨‹ä¸Šçº¿ã€‹</a>äº†è§£åˆ°çš„ã€‚</p><p>è¿™é—¨è¯¾ç¨‹åœ¨ä»Šå¹´å½•åˆ¶ï¼Œç›®å‰æœ‰ 6 ä¸ªè§†é¢‘è®²åº§ï¼Œå¯¹äºä¹‹å‰å½•åˆ¶çš„è¯¾ç¨‹ä¹Ÿå¯ä»¥åœ¨ B ç«™æ‰¾å½•æ’­ï¼Œä¾‹å¦‚ï¼š<a href="https://www.bilibili.com/video/av6951511">éº»çœç†å·¥å…¬å¼€è¯¾ï¼šçº¿æ€§ä»£æ•°</a>ã€‚</p><p>å…·ä½“ä»‹ç»å¯ä»¥çœ‹çŸ¥ä¹ä¸“æ ï¼Œè‡ªå·±å¯¹äºè¿™é—¨è¯¾ç¨‹ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œçº¿ä»£é‡åå„¿äº†å†å­¦ã€‚</p><h2 id="å…¶ä»–è®¡ç®—æœºå…¬å¼€è¯¾">å…¶ä»–è®¡ç®—æœºå…¬å¼€è¯¾</h2><p>æœ‰ç½‘å‹æ€»ç»“äº†å›½å¤–çš„è®¡ç®—æœºè¯¾ç¨‹ï¼Œè¿˜é™„ä¸Šäº†è§†é¢‘é“¾æ¥ï¼Œå¯ä»¥å‚è€ƒ<a href="https://www.yuque.com/guigumentor/guigu/computer">ã€Šç”µå­å·¥ç¨‹å’Œè®¡ç®—æœºç§‘å­¦ç³»ã€‹</a>ã€‚</p><h2 id="æ–‡ç« ">æ–‡ç« </h2><ul><li><a href="https://zhuanlan.zhihu.com/p/142992185">å›¾å½¢ç¨‹åºå­¦ä¹ ç»å†</a><ul><li>æ–‡ç« ä½œè€…è®¤ä¸ºä»å›¾å½¢ API å¼€å§‹ä»åº•å‘ä¸Šäº†è§£ç¡¬ä»¶åšçš„äº‹æƒ…åˆ°æ‘¸é€ä¸€æ•´ä¸ªæµç¨‹æ˜¯ä¸ªå¥½çš„å­¦ä¹ è¿‡ç¨‹ï¼Œå…¶ä¸­ä¹Ÿç»™å‡ºäº†å¾ˆå¤šæœ‰ä»·å€¼çš„å‚è€ƒèµ„æ–™ã€‚ä½œè€…å£°ç§°èƒ½ä»¥è¾ƒå¿«é€Ÿåº¦åœ¨ä¸¤ä¸ªæœˆæ»¡è¶³å·¥ä½œè¦æ±‚ï¼Œå®Œæˆå›¾å½¢ç¨‹åºå…¥é—¨çš„çŸ¥è¯†ä½“ç³»ã€‚</li></ul></li><li><a href="https://www.raywenderlich.com/7630142-entity-component-system-for-unity-getting-started">Entity Component System for Unity: Getting Started</a><ul><li>Ray Wenderlich çš„æ•™ç¨‹é€šå¸¸ä¼šæä¾›åˆå§‹é¡¹ç›®ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä»£ç ï¼ŒåŠ ä¸Šç‹¬ç‰¹é£æ ¼çš„é…å›¾ï¼Œå¾ˆé€‚åˆç”¨æ¥å…¥é—¨æŸä¸ªæŠ€æœ¯ã€‚è¿™æ¬¡å¸¦æ¥çš„æ˜¯ Unity ECS çš„å…¥é—¨ï¼Œç”¨ Entities åŒ…å®ç°ä¸€ä¸ªå¦å…‹å°„å‡»æ¸¸æˆã€‚</li></ul></li><li><a href="https://learn.unity.com/tutorial/fixing-performance-problems-2019-3">Fixing Performance Problems - 2019.3</a><ul><li>Unity å‘è¡¨çš„å…³äºè§£å†³æ€§èƒ½é—®é¢˜çš„æ•™ç¨‹ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå°çŸ¥è¯†ç‚¹ï¼Œå¯¹åˆå­¦è€…å¯èƒ½æœ‰å¸®åŠ©ã€‚è™½ç„¶ä¹‹å‰å¥½åƒçœ‹è¿‡ï¼Œä½†è¿™æ˜¯ 2019.3 ç‰ˆæœ¬çš„ã€‚</li></ul></li><li><a href="https://zhuanlan.zhihu.com/p/102293437">Cacheçš„åŸºæœ¬åŸç†</a><ul><li>ä½œè€…å›¾æ–‡å¹¶èŒ‚åœ°è®²è§£äº†ç¼“å­˜å†…éƒ¨æ˜¯å¦‚ä½•è¿ä½œçš„ï¼ŒVisio æ‰‹ç»˜é£æ ¼çš„å›¾ç”»ä¹Ÿå¾ˆæ¸…æ™°æ˜äº†ã€‚å¯¹ç¼“å­˜æ„Ÿå…´è¶£çš„è¿˜å¯ä»¥è¿›ä¸€æ­¥å…³æ³¨ä½œè€…çš„ä¸“æ ã€‚</li></ul></li><li><a href="https://refactoringguru.cn/design-patterns">Refactoring.Guru</a><ul><li>è¿™ç½‘ç«™ä¹Ÿå›¾æ–‡å¹¶èŒ‚åœ°ä»‹ç»äº†é‡æ„ã€ è®¾è®¡æ¨¡å¼ã€ SOLID åŸåˆ™ ï¼ˆå•ä¸€èŒè´£ã€ å¼€é—­åŸåˆ™ã€ é‡Œæ°æ›¿æ¢ã€ æ¥å£éš”ç¦»ä»¥åŠä¾èµ–åè½¬ï¼‰ ä»¥åŠå…¶ä»–å’Œæ™ºèƒ½ç¼–ç¨‹ä¸»é¢˜ç›¸å…³çš„å†…å®¹ã€‚</li></ul></li><li><a href="https://jason2506.gitbooks.io/cpumemory/content/">æ¯ä½ç¨‹å¼è¨­è¨ˆå¸«éƒ½è©²çŸ¥é“çš„è¨˜æ†¶é«”çŸ¥è­˜</a><ul><li>è¿™ç³»åˆ—æ–‡ç« æ˜¯ Ulrich Drepper æ–¼ 2007 å¹´å†™çš„è®ºæ–‡<a href="https://people.freebsd.org/~lstewart/articles/cpumemory.pdf">ã€ŠWhat Every Programmer Should Know About Memoryã€‹</a>çš„ä¸­æ–‡ç¹ä½“ç¿»è¯‘ï¼Œè¿™ç¯‡è®ºæ–‡ååˆ†æœ‰åï¼Œæ¸¸æˆå¼€å‘è€…éƒ½åº”è¯¥çœ‹çœ‹äº†è§£å†…å­˜çš„ç»†èŠ‚ã€‚</li></ul></li><li><a href="http://www.sebaslab.com/zero-allocation-code-in-unity/">Zero allocation code in C# and Unity</a><ul><li>æ–‡ç« ä½œè€…å¼€æºè¿‡å« Svelto çš„ ECS æ¡†æ¶ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯ä»–å¯¹ Zero allocation ä»£ç ï¼ˆä¹Ÿå°±æ˜¯è‡ªå·±ç®¡ç†å†…å­˜ï¼‰çš„ç†è§£ï¼Œä¹Ÿä»‹ç»äº†ç›¸å…³çš„æ¦‚å¿µã€ä¹¦ç±å’Œå¾ˆå¤šæŸ¥çœ‹å†…å­˜åˆ†é…çš„å·¥å…·ï¼Œå¯¹æƒ³äº†è§£ DOTS çš„åŒå­¦å¯ä»¥é˜…è¯»ä¸€ä¸‹ã€‚</li></ul></li></ul><h2 id="æœ€å">æœ€å</h2><p>å…¶å®æœ¬ç¯‡å¯¼è¯»ç›¸å½“ä¸€éƒ¨åˆ†åœ¨è®²çš„æ˜¯æˆ‘ä¸ªäººæ€ä¹ˆæ ·çœ‹å¾…è‡ªå·±ç›®å‰å­¦ä¹ æƒ…å†µï¼Œæ¯æ¬¡å¯¼è¯»ä¸­æ‰€æœ‰çš„å†…å®¹æˆ‘å…¶å®åªèƒ½çœ‹å®Œä¸€éƒ¨åˆ†ï¼Œæ€ä¹ˆæ ·æ›´é«˜æ•ˆåœ°å­¦å’Œæ€ä¹ˆæ ·æ›´å¥½åœ°å¹³è¡¡ç”Ÿæ´»æ˜¯æˆ‘æœ€è¿‘ä¸æ–­æ€è€ƒçš„é—®é¢˜ã€‚å½“ç„¶äº†ï¼Œæˆ‘ä¸ä¼šæ”¾å¼ƒã€‚</p><p>è¿™æ¬¡å¯¼è¯»åˆ†äº«çš„å¤šæ˜¯æ¸¸æˆå†…å­˜ã€ç¼“å­˜ã€å›¾å½¢å­¦ç›¸å…³çš„å†…å®¹ï¼Œè‡ªå·±æ²¡åˆ†äº«è¿‡æŸç§å…·ä½“å®ç°çš„ Shader çš„æ–‡ç« ï¼Œæ˜¯å› ä¸ºæˆ‘è®¤ä¸ºè‡ªå·±åŸºç¡€è¦å…ˆæ‰“å¥½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å¯¹å…¶ä»– Shader è¯¾ç¨‹çš„æ€åº¦ã€‚å¸Œæœ›è¿™æ¬¡åˆ†äº«èƒ½å¯¹è¯»è€…æœ‰å¸®åŠ©ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨æ€è€ƒè‡ªå·±åœ¨æŠ€æœ¯å­¦ä¹ ä¸Šæ˜¯å¦è¿‡äºä½æ•ˆçš„é—®é¢˜ã€‚å‡ºç°è¿™ä¸ªé—®é¢˜çš„ç¼˜ç”±æ˜¯ï¼Œè‡ªå·±å·¥ä½œä¸‹ç­ä¹‹åæ²¡å¤šå°‘ç²¾åŠ›å’Œæ—¶é—´å»ç•™ç»™è‡ªå·±å­¦ä¹ ã€‚æœ¬æ¥å°±æœ‰é™çš„æ—¶é—´ï¼Œå¦‚æœè¿˜æ²¡æœ‰åˆé€‚çš„å­¦ä¹ è®¡åˆ’ï¼Œè€Œæ˜¯ä¸€æ˜§å‡­å…´è¶£å»å­¦ä¸€äº›ç¦»è‡ªå·±ç›®æ ‡æ–¹å‘æ¯”è¾ƒè¿œçš„ä¸œè¥¿ï¼Œå¯èƒ½ä¼šäº‹å€åŠŸåŠã€‚&lt;/p&gt;
&lt;p&gt;å°±æˆ‘è€Œè¨€ï¼Œè‡ªå·±ç›®å‰çš„æ°´å¹³æ›´åƒæ˜¯â€œç£¨â€å‡ºæ¥çš„ï¼Œä¸œå­¦å­¦è¥¿å­¦å­¦ï¼Œä»€ä¹ˆéƒ½æœ‰ç‚¹å°è±¡ï¼Œä½†æ˜¯ä¸“ä¸šæ–¹å‘çš„çŸ¥è¯†ä¹‹é—´çš„è¿æ¥å´éå¸¸ç¦»æ•£ã€‚è¯»ç ”çš„æ—¶å€™æœ‰å¤§é‡æ—¶é—´ç»™æˆ‘â€œç£¨â€ï¼Œæ€»å½’èƒ½å­¦ä¼šç‚¹ä»€ä¹ˆï¼Œä½†å·¥ä½œåˆ™ä¸ä¸€æ ·ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å¯¼è¯»" scheme="http://frankorz.com/categories/%E5%AF%BC%E8%AF%BB/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>2020å¹´4æœˆæŠ€æœ¯å¯¼è¯»</title>
    <link href="http://frankorz.com/2020/04/13/2020-04-tech-reading/"/>
    <id>http://frankorz.com/2020/04/13/2020-04-tech-reading/</id>
    <published>2020-04-13T21:14:49.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆï¼Œæ„Ÿè°¢æ‰€æœ‰å°†è‡ªå·±æ—¶é—´è´¡çŒ®åœ¨çŸ¥è¯†åˆ†äº«çš„äººä»¬ã€‚</p><p>æœ¬æ–‡å°†ç®€å•åœ°ä»‹ç»ä¸‹æœ€è¿‘æˆ‘çœ‹åˆ°çš„æƒ³å­¦çš„ã€æœ‰æ„æ€çš„æ•™ç¨‹ã€è§†é¢‘ç­‰ï¼Œå†…å®¹ä¸ä»…é™äºæ¸¸æˆå¼€å‘ã€‚å¤§å®¶å¯ä»¥åšä¸ªå‚è€ƒï¼Œè¯´ä¸å®šå…¶ä¸­å°±èƒ½æ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ•™ç¨‹ï¼Œè¿›ä¸€æ­¥æ‰“ç®—æ¥ä¸‹æ¥çš„å­¦ä¹ ã€‚</p><p>è¿™ä¸ªæ–‡ç« ç±»å‹å’Œä¹‹å‰å†™çš„éƒ½ä¸ä¸€æ ·ï¼Œä¸€æ–¹é¢æœ‰è‡ªå·±æ—¶é—´å°‘ã€æ²‰æ·€ä¸å¤Ÿã€ä¸èƒ½æŒç»­è¾“å‡ºçš„åŸå› ï¼Œå¦ä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™äº›ä¸œè¥¿éƒ½æ¯”è¾ƒç¢ï¼Œä¹Ÿä¸å¥½åœ¨è®°å½•ç”Ÿæ´»çš„å¾®åšä¸Šå‘å¸ƒä¸€äº›ä¸“ä¸šçš„ä¸œè¥¿ã€‚è‡³äºè¿™ä¸ªå¯¼è¯»ä¼šä¸ä¼šæˆä¸ºä¸€ä¸ªç³»åˆ—æ¥æ›´æ–°ï¼Œè¿˜è¦çœ‹çœ‹æˆ‘æœ‰æ²¡æœ‰è¶³å¤Ÿä¸œè¥¿æ¥åˆ†äº«å•¦ã€‚</p><span id="more"></span><h1>ä¹¦ç±</h1><h2 id="ã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹">ã€Šç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹</h2><p><a href="https://book.douban.com/subject/35006892/">è±†ç“£åœ°å€</a></p><p>åœ¨æˆ‘ç»è¿‡äº†å…¥é—¨é˜¶æ®µä¹‹åï¼Œå‘ç°å¾ˆå¤šä»¥å‰å­¦çš„å¾ˆå¤šæ•™ç¨‹ï¼Œéƒ½å¾ˆéš¾åœ¨å·¥ä½œä¸­è¿›è¡Œå‚è€ƒã€‚æ°å·§äº‘é£ç¿»è¯‘çš„ç¬¬äºŒç‰ˆå·²ç»å‡ºç‰ˆäº†ï¼Œé‡Œé¢çš„å†…å®¹è®©æˆ‘å¯¹ç¼–ç¨‹â€œä¿®ç‚¼â€æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚</p><blockquote><p>æŠ•èµ„çŸ¥è¯†ï¼Œæ”¶ç›Šæœ€ä½³ã€‚<br>â€”â€”æœ¬æ°æ˜Â·å¯Œå…°å…‹æ—</p></blockquote><p><img src="http://img.frankorz.com/invest-knowledge.png" alt="http://img.frankorz.com/invest-knowledge.png"></p><p>å­¦ä¹ å­¦ä¹ å†å­¦ä¹ ï¼</p><h2 id="æ¸¸æˆå¼€å‘ï¼šä¸–å˜‰æ–°äººåŸ¹è®­æ•™æ">æ¸¸æˆå¼€å‘ï¼šä¸–å˜‰æ–°äººåŸ¹è®­æ•™æ</h2><p><a href="https://book.douban.com/subject/34996720/">è±†ç“£åœ°å€</a></p><p>è¿™æœ¬ä¹¦æˆ‘ä» 17 å¹´ç­‰åˆ°ç°åœ¨ï¼Œä¸‰å¹´äº†ï¼Œæ‹¿åˆ°æ‰‹ä¹‹åè§‰å¾—æ‰€æœ‰çš„ç­‰å¾…éƒ½æ˜¯å€¼å¾—çš„ã€‚</p><p>ä»ç¬¬ä¸€ç« å°±èƒ½çœ‹å‡ºä½œè€…è¸å®çš„ç¼–ç¨‹åŠŸåº•å’ŒåŠ›æ±‚å’Œå¯¹ä¼˜åŒ–çš„ä¸å€¦è¿½æ±‚ã€‚ä¸€ä¸ªå‘½ä»¤è¡Œæ¨ç®±å­æ¸¸æˆä»è¿‡ç¨‹å¼çš„å®ç°ï¼Œåˆ°è¿ç”¨ C++é£æ ¼çš„é¢å‘å¯¹è±¡çš„å®ç°ï¼Œåˆ°ç« èŠ‚æœ«ä¸ºäº†è®²è§£åº•å±‚å†…å­˜å­˜å‚¨ç»“æ„è€ŒæŠŠé¡¹ç›®ä¸­æ‰€æœ‰å˜é‡éƒ½å­˜åœ¨ä¸€ä¸ªå†…å­˜æ•°ç»„ä¸­çš„å®ç°ã€‚ä»ä¸­ä½œè€…è®²è§£åŸºç¡€çš„ C++ è¯­æ³•ã€ä½è¿ç®—ã€æŒ‡é’ˆå’Œå¼•ç”¨çš„å¼‚åŒç­‰æ¦‚å¿µã€‚</p><p>æ¥ä¸‹æ¥çš„ç« èŠ‚ï¼Œä½œè€…è¿˜è®²è§£ 2D å›¾å½¢å¤„ç†ã€çŠ¶æ€ã€ç¢°æ’ã€æ•°å­¦ç­‰ç­‰æ¸¸æˆå¯†ä¸å¯åˆ†çš„ç« èŠ‚ï¼Œç”±äºä½œè€…éƒ½ä¸ºç« èŠ‚æä¾›äº†ç±»åº“ï¼Œå› æ­¤ä¸å¿…æ‹…å¿ƒä¹¦æ˜¯å¦ä¼šè¿‡æ—¶ï¼Œè¯»è€…åªéœ€è¸è¸å®å®è·Ÿç€ä½œè€…æ‰“åŸºç¡€å³å¯ã€‚</p><p>è™½ç„¶æˆ‘å¾ˆå°‘å†™ C++ï¼Œä¹Ÿæ¸…æ¥šå­¦ C++ åœ¨æ¸¸æˆå¼€å‘ä¸­æ˜¯é€ƒä¸å¼€çš„ï¼Œå¹²è„†å°±å•ƒè¿™æœ¬ä¹¦çš„åŒæ—¶æŠŠ C++ ä¹Ÿç»™ä¸Šæ‰‹äº†ï¼Œä¸€ç®­åŒé›•ï¼</p><h2 id="Data-Oriented-Design">Data-Oriented Design</h2><p>ä¸€æœ¬æ·±åº¦è®²è§£é¢å‘æ•°æ®è®¾è®¡çš„ä¹¦ç±ï¼Œå½“ä½ ç†Ÿæ‚‰äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå¯ä»¥å°è¯•çœ‹çœ‹è¿™æœ¬ä¹¦ï¼Œç”¨ä¸€ç§ä¸åŒçš„æ€ç»´æ–¹å¼çœ‹å¾…ä½ çš„æ•°æ®ã€‚Unity å¼€å‘è€…åœ¨ ECS æ­£å¼ç‰ˆå…¬å¸ƒä¹‹å‰ï¼Œä¹Ÿå¯ä»¥å…ˆæ·±å…¥äº†è§£ä¸€ä¸‹é¢å‘æ•°æ®è®¾è®¡çš„æ¨¡å¼ã€‚</p><p>ä½œè€…åœ¨å…¶ç½‘ç«™å…¬å¼€äº†ä¹¦ç±å†…å®¹ï¼Œåœ°å€ä¸ºï¼š<a href="https://www.dataorienteddesign.com/dodbook/">Data-Oriented Design</a></p><p>åŒæ—¶ä¹Ÿå¯ä»¥å‚è€ƒè¿™ç¯‡å¯¼è¯»ï¼š<a href="http://dataorienteddesign.com/dodbook">Highly recommended read : dataorienteddesign.com/dodbook</a></p><h1>å…¬å¼€è¯¾</h1><h2 id="å›¾å½¢å­¦">å›¾å½¢å­¦</h2><p><a href="https://www.zhihu.com/question/41468803/answer/1040420856">é›¶åŸºç¡€å¦‚ä½•å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦ï¼Ÿâ€”â€”é—«ä»¤çªçš„å›ç­”</a></p><blockquote><p>æ¸¸æˆç¼–ç¨‹ç±»ä¹¦ç±æ¶‰åŠçš„å†…å®¹å¤ªæ‚ï¼Œä¸é€‚åˆç”¨ä½œä¸“é—¨å­¦ä¹ å›¾å½¢å­¦çš„å‚è€ƒèµ„æ–™ã€‚OpenGL / Shader ç¡®å®æ˜¯åº”è¯¥å­¦ä¹ çš„å†…å®¹ï¼Œä½†æ˜¯ä»¥æˆ‘çš„ç†è§£æ¥çœ‹ï¼Œæ›´é€‚åˆå…ˆå…¥é—¨å›¾å½¢å­¦åŸºç¡€ä¹‹åå†å»è¿›ä¸€æ­¥å­¦ä¹ ï¼Œè¿™æ ·ä¼šç®€å•å¾ˆå¤šã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä¸ªäººçš„ç†å¿µï¼šæˆ‘ä»¬è¦å­¦çš„æ˜¯å›¾å½¢å­¦ï¼Œè€Œä¸æ˜¯å›¾å½¢å­¦ APIï¼Œè¿™ä¸¤è€…åº”è¯¥å®Œå…¨åˆ†å¼€çœ‹å¾…ã€‚å¦å¤– OpenGL / Shader è¿™å—å­¦å¤šäº†ä¼šå®¹æ˜“è®©äººäº§ç”Ÿç†è§£åå·®ï¼Œè§‰å¾—å›¾å½¢å­¦å°±ç­‰äºå®æ—¶æ¸²æŸ“ï¼ˆå½“ç„¶æ˜¯é”™çš„ï¼Œä½†æ˜¯å¾ˆå¤šäººçœŸçš„è¿™ä¹ˆè®¤ä¸ºï¼ï¼‰ã€‚</p></blockquote><p>äºæ˜¯é—«è€å¸ˆå‘å¸ƒäº†ä¸€é—¨å…¬å¼€è¯¾ï¼šâ€œGAMES101: ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨â€ã€‚</p><blockquote><p>æœ¬è¯¾ç¨‹å°†å…¨é¢è€Œç³»ç»Ÿåœ°ä»‹ç»ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦çš„å››å¤§ç»„æˆéƒ¨åˆ†ï¼šï¼ˆ1ï¼‰å…‰æ …åŒ–æˆåƒï¼Œï¼ˆ2ï¼‰å‡ ä½•è¡¨ç¤ºï¼Œï¼ˆ3ï¼‰å…‰çš„ä¼ æ’­ç†è®ºï¼Œä»¥åŠï¼ˆ4ï¼‰åŠ¨ç”»ä¸æ¨¡æ‹Ÿã€‚æ¯ä¸ªæ–¹é¢éƒ½ä¼šä»åŸºç¡€åŸç†å‡ºå‘è®²è§£åˆ°å®é™…åº”ç”¨ï¼Œå¹¶ä»‹ç»å‰æ²¿çš„ç†è®ºç ”ç©¶ã€‚é€šè¿‡æœ¬è¯¾ç¨‹ï¼Œä½ å¯ä»¥å­¦ä¹ åˆ°è®¡ç®—æœºå›¾å½¢å­¦èƒŒåçš„æ•°å­¦å’Œç‰©ç†çŸ¥è¯†ï¼Œå¹¶é”»ç‚¼å®é™…çš„ç¼–ç¨‹èƒ½åŠ›ã€‚</p></blockquote><p>å®˜ç½‘ï¼š<a href="https://sites.cs.ucsb.edu/~lingqi/teaching/games101.html">GAMES101: ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨</a></p><p>Bç«™å½•æ’­ï¼š<a href="https://www.bilibili.com/video/av90798049">GAMES101-ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨-é—«ä»¤çª</a></p><p>è¯¾ç¨‹ä½œä¸šç³»ç»Ÿï¼š<a href="http://www.smartchair.org/GAMES2020Course-YLQ/">GAMES2020åœ¨çº¿è¯¾ç¨‹ï¼šè®¡ç®—æœºå›¾å½¢å­¦ï¼ˆé—«ä»¤çªï¼‰è¯¾ç¨‹ä½œä¸šç³»ç»Ÿ</a></p><h2 id="å›½å¤–-MIT-CMU-éƒ¨åˆ†è¯¾ç¨‹ç¿»è¯‘">å›½å¤– MIT CMU éƒ¨åˆ†è¯¾ç¨‹ç¿»è¯‘</h2><p><a href="https://www.simtoco.com/#/home">Simviso</a> æ˜¯ä¸€ä¸ªç¿»è¯‘å›½å¤–è¯¾ç¨‹çš„æ°‘é—´ç»„ç»‡ï¼Œç›®å‰å·²ç»ç¿»è¯‘äº†ï¼š<a href="https://www.bilibili.com/video/av75384920">MIT 6.004 è®¡ç®—æœºç»„æˆåŸç†</a>ã€<a href="https://www.bilibili.com/video/av91748150">MIT 6.824 åˆ†å¸ƒå¼ç³»ç»Ÿ 2020</a>ã€<a href="https://www.bilibili.com/video/BV1f7411z7dw">CMUæ•°æ®åº“15-445/645</a>ã€<a href="https://www.bilibili.com/video/BV1cE411f78c">æ–¯å¦ç¦ç¼–è¯‘åŸç†</a> ç­‰é¡¶çº§æ•™ç¨‹ã€‚ä»–ä»¬æ¥ä¸‹æ¥çš„ç¿»è¯‘è®¡åˆ’ä¹Ÿåœ¨ <a href="https://zhuanlan.zhihu.com/p/122550750">simviso å›½å¤–MIT CMU æ–¯å¦ç¦è®¡ç®—æœºç§‘ç­é¡¶çº§è¯¾ç¨‹ç¿»è¯‘ç³»åˆ—</a> ä¸­æåˆ°ã€‚ï¼ˆæˆ‘åœ¨æƒ³è¿™ä¸€æ®µå­—çš„çŸ¥è¯†æµ“åº¦å¾—æœ‰å¤šé«˜ Orzï¼‰</p><p>åŸç†æ€§çš„ä¸œè¥¿å‚è€ƒè¿™äº›æ•™ç¨‹æœ€å¥½ä¸è¿‡äº†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è·Ÿç€è¯¾ç¨‹æ‰‹å†™ä¸€ä¸ªæ•°æ®åº“ã€CPU ç­‰ç­‰ã€‚</p><h1>æ•™ç¨‹</h1><h2 id="Custom-SRP">Custom SRP</h2><p><a href="https://catlikecoding.com/unity/tutorials/custom-srp/">Catlike Coding &gt; Custom SRP</a></p><p>Catlike Coding çš„æ•™ç¨‹ä¸€å‘æ˜¯ä»åŸºç¡€è®²åˆ°è¿›é˜¶åº”ç”¨ï¼Œåœ¨ SRP çš„ä¸»é¢˜ä¸­ï¼Œä»–å†™äº†ä¸å°‘åŸºäº Unity 2019 ç‰ˆæœ¬çš„è‡ªå®šä¹‰æ¸²æŸ“æµæ°´çº¿çš„æ•™ç¨‹ï¼Œç›®å‰è¿˜åœ¨æŒç»­æ›´æ–°ã€‚</p><h2 id="Ray-Tracing-In-One-Week">Ray Tracing In One Week</h2><p>è·Ÿç€ <a href="https://raytracing.github.io/books/RayTracingInOneWeekend.html">Ray Tracing In One Week</a> ç³»åˆ—æ•™ç¨‹ä¸€æ­¥æ­¥æ¥åšä¸ªå…‰çº¿è¿½è¸ªå™¨ï¼Œä¹Ÿå¯ä»¥åœ¨å­¦å®Œä¸Šé¢å›¾å½¢å­¦å…¬å¼€è¯¾ä¸­çš„å…‰çº¿è¿½è¸ªéƒ¨åˆ†åæ¥çœ‹è¿™ä¸ªæ•™ç¨‹ä½œä¸ºè¡¥å……ã€‚è¿™ä¸ªæ•™ç¨‹ä¹Ÿå¯ä»¥ç”¨ Unity æ¥åšï¼Œä¾‹å¦‚æˆ‘çš„ <a href="https://github.com/Latias94/RayTracingInOneWeekWithUnity">Latias94/RayTracingInOneWeekWithUnity</a>ï¼Œè™½ç„¶åªè·Ÿåˆ°ç¬¬å…«ç«  = =ã€‚</p><p>è·Ÿå®Œè¿™ä¸ªæ•™ç¨‹ä¹‹åï¼Œå¦‚æœå¯¹è¿›ä¸€æ­¥çš„ DOTSã€ä¼˜åŒ–æ–¹é¢å­¦ä¹ æ„Ÿå…´è¶£çš„è¯ï¼Œæˆ‘è¿˜æä¾›äº†ä¸‹é¢å››ç¯‡æ–‡ç« /é¡¹ç›®ä½œä¸ºå‚è€ƒã€‚</p><ul><li><a href="https://aras-p.info/blog/2018/03/28/Daily-Pathtracer-Part-0-Intro/">Daily Pathtracer</a><ul><li>è·Ÿç€ aras-p åšä¸€ä¸ª C# + burst è·¯å¾„è¿½è¸ªå™¨ï¼Œè¿˜å¯ä»¥å‚è€ƒä¸€ä¸‹é™ˆå˜‰æ ‹è€å¸ˆçš„ä»‹ç»ï¼š<a href="https://zhuanlan.zhihu.com/p/37462611">ã€ŠDaily Pathtracerï¼å®‰åˆ©ä¸‹ä¸é”™çš„Pathtracerå­¦ä¹ èµ„æ–™ã€‹</a></li></ul></li><li><a href="http://theinstructionlimit.com/unity-toy-path-tracer">Unity Toy Path Tracer</a><ul><li>è·¯å¾„è¿½è¸ªå™¨çš„å¦ä¸€ä¸ªå®ç°ï¼Œè¯¥ä½œè€…æƒ³è¿›ä¸€æ­¥æ¢ç´¢ Unity çš„ DOTS æŠ€æœ¯æ ˆï¼Œå°¤å…¶æ˜¯ Burst + Job Systemï¼Œå¯¹è¿™æ–¹é¢æ„Ÿå…´è¶£çš„ä¸è¦é”™è¿‡ã€‚</li></ul></li><li><a href="https://github.com/stella3d/weekend-tracer">weekend-tracer</a><ul><li>åˆä¸€ä¸ª C# + burst çš„è·¯å¾„è·Ÿè¸ªå™¨å®ç°ã€‚</li></ul></li><li><a href="https://medium.com/@jcowles/gpu-ray-tracing-in-one-weekend-3e7d874b3b0f">GPU Ray Tracing in One Weekend</a><ul><li>ç”¨ Compute Shader å®ç°å…‰è¿½çš„åŸºäº GPU çš„å®ç°ã€‚</li></ul></li></ul><h2 id="Go-è¯­è¨€æ¢ç´¢ä¸‡ç‰©åŸç†">Go è¯­è¨€æ¢ç´¢ä¸‡ç‰©åŸç†</h2><p>äº†è§£äº†å½“å‰ä½¿ç”¨çš„æŠ€æœ¯ï¼Œå¯ä»¥æ‰©å®½é¢†åŸŸï¼Œå­¦ä¹ ä¸€äº›å’Œé¡¹ç›®ä¸ç›¸å…³çš„ä¸œè¥¿ï¼Œè¯´ä¸å®šä¼šå¸¦æ¥çµæ„Ÿã€‚</p><h3 id="è€å¸æœºå¸¦ä½ é£ç³»åˆ—">è€å¸æœºå¸¦ä½ é£ç³»åˆ—</h3><p>Github åœ°å€ï¼š<a href="https://github.com/happyer/distributed-computing">happyer/distributed-computing</a></p><ol><li><a href="https://github.com/happyer/distributed-computing/blob/master/src/mapreduce">ã€Šè€å¸æœºå¸¦ä½ ç”¨ Go è¯­è¨€å®ç° MapReduce æ¡†æ¶ã€‹</a></li><li><a href="https://github.com/happyer/distributed-computing/blob/master/src/raft">ã€Šè€å¸æœºå¸¦ä½ ç”¨ Go è¯­è¨€å®ç° Raft åˆ†å¸ƒå¼ä¸€è‡´æ€§åè®®ã€‹</a></li><li><a href="https://github.com/happyer/distributed-computing/blob/master/src/paxos">ã€Šè€å¸æœºå¸¦ä½ ç”¨ Go è¯­è¨€å®ç° Paxos ç®—æ³•ã€‹</a></li><li><a href="https://github.com/happyer/distributed-computing/blob/master/src/shardkv">ã€Šè€å¸æœºå¸¦ä½ ç”¨ Go è¯­è¨€å®ç°åˆ†å¸ƒå¼æ•°æ®åº“ã€‹</a></li></ol><h3 id="7-å¤©ç”¨-Go-åŠ¨æ‰‹å†™-ä»é›¶å®ç°ç³»åˆ—">7 å¤©ç”¨ Go åŠ¨æ‰‹å†™/ä»é›¶å®ç°ç³»åˆ—</h3><p>Github åœ°å€ï¼š<a href="https://github.com/geektutu/7days-golang">geektutu/7days-golang</a></p><ol><li>7å¤©ç”¨Goä»é›¶å®ç°Webæ¡†æ¶ - Gee</li><li>7å¤©ç”¨Goä»é›¶å®ç°åˆ†å¸ƒå¼ç¼“å­˜ GeeCache</li><li>7å¤©ç”¨Goä»é›¶å®ç°ORMæ¡†æ¶ GeeORM</li></ol><h1>è§†é¢‘</h1><ul><li><a href="https://www.bilibili.com/video/av77692640">ã€åŒè¯­ã€‘çºªå¿µç¢‘è°·çš„å…³å¡åˆ›ä½œæŒ‘æˆ˜ | Monument Valleyâ€™s Level Design | Mix and Jam</a><ul><li>Mix and Jam ç”¨å…­åˆ†é’Ÿæ¸…æ™°åœ°è®²è§£äº†çºªå¿µç¢‘è°·åˆ¶ä½œæ€è·¯ï¼Œå¹¶æä¾›äº†<a href="https://github.com/mixandjam/MonumentValley-LevelDesign">é¡¹ç›®</a>å‚è€ƒã€‚</li></ul></li></ul><h1>æ–‡ç« </h1><ul><li><a href="https://www.raywenderlich.com/5671826-introduction-to-shaders-in-unity">Ray Wenderlich - Introduction to Shaders in Unity</a><ul><li>Ray Wenderlich çš„æ•™ç¨‹é€šå¸¸ä¼šæä¾›åˆå§‹é¡¹ç›®ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä»£ç ï¼ŒåŠ ä¸Šç‹¬ç‰¹é£æ ¼çš„é…å›¾ï¼Œå¾ˆé€‚åˆç”¨æ¥å…¥é—¨æŸä¸ªæŠ€æœ¯ã€‚è¿™æ¬¡å¸¦æ¥çš„æ˜¯å¦‚ä½•å†™ Unity Shadersï¼Œå®ç°ä¸€ä¸ªç®€å•çš„æ°´æµ Shaderã€‚</li></ul></li></ul><h1>æœ€å</h1><p>çœ‹äº†çœ‹å†…å®¹ï¼Œè¿™æ¬¡åˆ†äº«çš„è§†é¢‘å’Œæ–‡ç« éƒ½åå°‘äº†ï¼Œå…¶å®ä¸»è¦æ˜¯æƒ³åˆ†äº«å‰é¢çš„ä¹¦ç±å’Œå…¬å¼€è¯¾ï¼Œæœ‰æœºä¼šçš„è¯æœ‰ä»·å€¼çš„è§†é¢‘å’Œæ–‡ç« æˆ‘ä¹Ÿä¼šå¤šå…³æ³¨ï¼Œå¹¶ä¸”åˆ†äº«åˆ°å¯¼è¯»ä¸­ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç³»åˆ—ï¼Œæˆ–è€…æƒ³å¯¹è¿™ä¸ªç³»åˆ—æœ‰å…¶ä»–çš„æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;é¦–å…ˆï¼Œæ„Ÿè°¢æ‰€æœ‰å°†è‡ªå·±æ—¶é—´è´¡çŒ®åœ¨çŸ¥è¯†åˆ†äº«çš„äººä»¬ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†ç®€å•åœ°ä»‹ç»ä¸‹æœ€è¿‘æˆ‘çœ‹åˆ°çš„æƒ³å­¦çš„ã€æœ‰æ„æ€çš„æ•™ç¨‹ã€è§†é¢‘ç­‰ï¼Œå†…å®¹ä¸ä»…é™äºæ¸¸æˆå¼€å‘ã€‚å¤§å®¶å¯ä»¥åšä¸ªå‚è€ƒï¼Œè¯´ä¸å®šå…¶ä¸­å°±èƒ½æ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ•™ç¨‹ï¼Œè¿›ä¸€æ­¥æ‰“ç®—æ¥ä¸‹æ¥çš„å­¦ä¹ ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–‡ç« ç±»å‹å’Œä¹‹å‰å†™çš„éƒ½ä¸ä¸€æ ·ï¼Œä¸€æ–¹é¢æœ‰è‡ªå·±æ—¶é—´å°‘ã€æ²‰æ·€ä¸å¤Ÿã€ä¸èƒ½æŒç»­è¾“å‡ºçš„åŸå› ï¼Œå¦ä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™äº›ä¸œè¥¿éƒ½æ¯”è¾ƒç¢ï¼Œä¹Ÿä¸å¥½åœ¨è®°å½•ç”Ÿæ´»çš„å¾®åšä¸Šå‘å¸ƒä¸€äº›ä¸“ä¸šçš„ä¸œè¥¿ã€‚è‡³äºè¿™ä¸ªå¯¼è¯»ä¼šä¸ä¼šæˆä¸ºä¸€ä¸ªç³»åˆ—æ¥æ›´æ–°ï¼Œè¿˜è¦çœ‹çœ‹æˆ‘æœ‰æ²¡æœ‰è¶³å¤Ÿä¸œè¥¿æ¥åˆ†äº«å•¦ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å¯¼è¯»" scheme="http://frankorz.com/categories/%E5%AF%BC%E8%AF%BB/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šå›¾è§£ C# æ•™ç¨‹ ç¬¬5ç‰ˆã€‹ä¸æ€§èƒ½ä¼˜åŒ–</title>
    <link href="http://frankorz.com/2020/01/31/illustrated-csharp-and-performance/"/>
    <id>http://frankorz.com/2020/01/31/illustrated-csharp-and-performance/</id>
    <published>2020-01-31T23:59:18.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™æœ¬ä¹¦ä»ç„¶æ˜¯å…¥é—¨ C# æœ€å¥½çš„ä¸€æœ¬ä¹¦ã€‚</p><p>è¿™æœ¬ä¹¦æ–°ç‰ˆå‡ºæ¥çš„æ—¶å€™æˆ‘ååˆ†å…³æ³¨ï¼Œäºæ˜¯è‹±å­å§é€äº†ä¸€æœ¬ç»™æˆ‘ï¼Œæœ¬æ–‡ä¹Ÿæ˜¯ç­”åº”è‹±å­å§æ‰€å†™çš„ä¸€ç¯‡æ–‡ç« ã€‚å¥¹ä¸€å¼€å§‹è¿˜é—®æˆ‘â€œä½ ç°åœ¨è¿˜éœ€è¦çœ‹è¿™æœ¬å…¥é—¨ä¹¦å—ï¼Ÿâ€ï¼Œæˆ‘è®¤ä¸ºæ˜¯çš„ã€‚å·¥ä½œäº†é‡åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œå¤§éƒ½è·Ÿè‡ªå·±åŸºç¡€ä¸ç‰¢æœ‰å…³ç³»ã€‚</p><p>è¿™æœ¬ä¹¦ä»¥å›¾å½¢ä¸ºè½½ä½“ï¼Œç”ŸåŠ¨åœ°ä»‹ç»äº† C# è¯­è¨€æœ¬èº«ã€‚å…¶ä¸­å›¾å½¢å¯¹æˆ‘ä»¬äº†è§£ C# è¯­æ³•åœ¨å†…å­˜ä¸­çš„æœ¬è´¨ååˆ†æœ‰å¸®åŠ©ï¼Œå¼‚æ­¥ã€å¼‚å¸¸ç­‰ç« èŠ‚ä¸­çš„å¤„ç†æµç¨‹å›¾ä¹Ÿå¾ˆæ¸…æ™°æ˜äº†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘çœ‹é‡çš„ä¸€ç‚¹ã€‚</p><p>æœ¬æ–‡ä¼šä»æœ¬ä¹¦å‡ºå‘ï¼Œç®€å•è®²è®²ä»£ç ä¼˜åŒ–çš„ä¸€äº›ç‚¹ã€‚</p><span id="more"></span><h2 id="åœ¨å†…å­˜ä¸­çš„å½¢æ€">åœ¨å†…å­˜ä¸­çš„å½¢æ€</h2><p>ä¸ºä»€ä¹ˆè¦äº†è§£ C# åœ¨å†…å­˜ä¸­çš„å½¢æ€å‘¢ï¼Ÿ</p><p>ä¹¦ä¸­ç¬¬å››ç« ä»‹ç»å†…å­˜åŒºåŸŸçš„æ ˆä¸­ï¼Œæœ‰ä¸€å¥è¯è¯´çš„å¾ˆå¥½ï¼š</p><blockquote><p>ä½œä¸ºç¨‹åºå‘˜ï¼Œä½ ä¸éœ€è¦æ˜¾å¼åœ°å¯¹å®ƒåšä»»ä½•äº‹æƒ…ã€‚ä½†äº†è§£æ ˆçš„åŸºæœ¬åŠŸèƒ½å¯ä»¥æ›´å¥½åœ°äº†è§£ç¨‹åºåœ¨è¿è¡Œæ—¶åœ¨åšä»€ä¹ˆï¼Œå¹¶èƒ½æ›´å¥½åœ°äº†è§£ C# æ–‡æ¡£å’Œè‘—ä½œã€‚</p></blockquote><p>æ¸¸æˆå¼€å‘ä¸­ï¼Œé™¤äº†ä¸šåŠ¡é€»è¾‘ï¼Œæˆ‘ä»¬è¿˜ä¼šæ›´å…³æ³¨æ¸¸æˆçš„æ€§èƒ½æœ¬èº«ã€‚æˆ‘ä»¬éœ€è¦ä¿è¯æ¸¸æˆèƒ½æµç•…è¿è¡Œåœ¨å¤§éƒ¨åˆ†æœºå‹ä¸Šï¼Œä¿è¯æ¯ä¸€å¸§èƒ½æµç•…åœ°æ’­æ”¾ï¼Œä¾‹å¦‚ CPU éœ€è¦å¤„ç†æ¸²æŸ“ä»£ç ã€ç‰©ç†æ¨¡æ‹Ÿã€åŠ¨ç”»å›è°ƒç­‰ç­‰ï¼Œå…¶ä¸­æˆ‘ä»¬çš„ä»£ç ä¹Ÿæœ‰å¯èƒ½å¼•èµ·æ€§èƒ½é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦æ›´äº†è§£æ‰§è¡Œä»£ç çš„ä»£ä»·ï¼Œä¾‹å¦‚ï¼š</p><ul><li>è¿™äº›ä»£ç äº§ç”Ÿäº†å¤šå°‘ GC</li><li>GC åªä¼šäº§ç”Ÿä¸€æ¬¡è¿˜æ˜¯æ¯å¸§éƒ½ä¼šäº§ç”Ÿ</li><li>åœ¨æç«¯æƒ…å†µä¸‹ä»£ç çš„æ€§èƒ½å¦‚ä½•</li><li>æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„æ•°æ®ç»“æ„</li><li>Unity API æˆ–è€…ä¸€äº›åº“ API çš„èƒŒååˆ°åº•åšäº†ä»€ä¹ˆ</li><li>â€¦</li></ul><p>è¿™æœ¬ä¹¦ç›¸å¯¹ä¸Šä¸€ç‰ˆå¤šäº† .Net Core, C# 7.0 è¯­æ³•çš„è®²è§£ï¼Œå¯¹äºæˆ‘è€Œè¨€ï¼Œé‡æ¸©çš„æ˜¯ç¬¬ 4ã€7ã€11ã€13ã€15ã€17ã€19 å’Œ 27 ç« èŠ‚ï¼Œè¿™äº›å†…å®¹æ˜¯æˆ‘å·¥ä½œä¸­ç»å¸¸è¦æ¥è§¦ã€ç€æ‰‹ä¼˜åŒ–çš„åœ°æ–¹ã€‚ä¹¦ä¸­å¯¹äºå¼‚æ­¥ç¼–ç¨‹ä¹Ÿä»‹ç»åœ°å¾ˆå¥½ï¼Œä½†å¯¹äºæˆ‘æ¥è¯´ï¼Œåå°„ã€å¼‚æ­¥ç¼–ç¨‹ã€æ–°å¢è¯­æ³•ç­‰åˆ°ä»¥åæœ‰éœ€è¦å†çœ‹ä¹Ÿä¸è¿Ÿã€‚</p><p>è„šæœ¬çš„æ€§èƒ½ä¼˜åŒ–ï¼Œæ— éæ˜¯ç”¨æ›´åˆé€‚çš„ä»£ç å»å®ç°éœ€æ±‚ï¼Œä¸å¿…è¦çš„å†…å­˜éƒ½ç»™æˆ‘åå‡ºæ¥ï¼ï¼ˆæ³¨ï¼šä½œè€…åœ¨ç”Ÿæ´»ä¸­å¹¶æ²¡æœ‰è¿™ä¹ˆåå•¬ï¼‰</p><p>ä¸‹é¢ä¼šåˆ—ä¸¾ä¸€äº›ä»£ç å†™æ³•çš„æ€§èƒ½å¯¹æ¯”ã€‚</p><h2 id="ç»“æ„å’Œç±»">ç»“æ„å’Œç±»</h2><p>è¿™å…¶å®ä¹Ÿæ˜¯ç”¨æ ˆè¿˜æ˜¯ç”¨å †çš„è€ƒé‡ã€‚</p><h3 id="åƒåœ¾å›æ”¶">åƒåœ¾å›æ”¶</h3><p>Unity ç”¨çš„æ˜¯ mono è™šæ‹Ÿæœºï¼Œå…¶å †çš„å†…å­˜æ˜¯é€šè¿‡åƒåœ¾å›æ”¶ç®—æ³• Boehm GC æ¥ç®¡ç†çš„ï¼Œå…¶ä¸åˆ†ä»£ï¼ˆNon-generationalï¼‰å’Œéå‹ç¼©å¼ï¼ˆNon-compactingï¼‰çš„ç‰¹æ€§ï¼Œå¯¼è‡´äº†æˆ‘ä»¬å¹³å¸¸è¦æ³¨æ„é¿å…åŠ è½½è¿‡å¤šçš„å°å†…å­˜ï¼Œä»è€Œå†…å­˜ç¢ç‰‡åŒ–ï¼ˆMemory fragmentationï¼‰ã€‚</p><ul><li><strong>åˆ†ä»£</strong>ï¼šå¤§å—å†…å­˜ã€å°å†…å­˜ã€è¶…å°å†…å­˜åˆ†åœ¨ä¸åŒå†…å­˜åŒºåŸŸæ¥è¿›è¡Œç®¡ç†ã€‚æ­¤å¤–è¿˜æœ‰é•¿ä¹…å†…å­˜ï¼Œå½“æœ‰ä¸€ä¸ªå†…å­˜å¾ˆä¹…æ²¡åŠ¨çš„æ—¶å€™ä¼šç§»åˆ°é•¿ä¹…å†…å­˜åŒºåŸŸä¸­ï¼Œä»è€Œçœå‡ºå†…å­˜ç»™æ›´é¢‘ç¹åˆ†é…çš„å†…å­˜ã€‚</li><li><strong>å‹ç¼©å¼</strong>ï¼šå½“æœ‰å†…å­˜è¢«å›æ”¶çš„æ—¶å€™ï¼Œå‹ç¼©å†…å­˜ä¼šæŠŠä¸‹å›¾ç©ºçš„åœ°æ–¹é‡æ–°æ’å¸ƒã€‚<br><img src="http://img.frankorz.com/compacting.png" alt="compacting.png"></li><li><strong>å†…å­˜ç¢ç‰‡åŒ–</strong>ï¼šå†…å­˜è¿‡å¤šå°å†…å­˜ï¼Œå¯¼è‡´å¤§å†…å­˜ä¸èƒ½æœ‰æ•ˆåœ°è¢«ä½¿ç”¨ã€‚<br><img src="http://img.frankorz.com/memory-fragmentation.png" alt="memory fragmentation"></li></ul><p>å…·ä½“å¯ä»¥å‚è€ƒ Unity æ–‡æ¡£ <a href="https://docs.unity3d.com/Manual/BestPracticeUnderstandingPerformanceInUnity4-1.html">Understanding the managed heap</a></p><p>åŒæ—¶ä¹Ÿæ¨èé«˜å·è€å¸ˆçš„æ¼”è®²ï¼š<a href="https://www.bilibili.com/video/av79798486/">æµ…è°ˆ Unity å†…å­˜ç®¡ç†</a>ï¼Œå’Œæˆ‘çœ‹è§†é¢‘æ—¶çš„ç¬”è®°ï¼š<a href="https://www.notion.so/Unity-f79bb1d4ccfc483fbd8f8eb859ae55fe">ç¬”è®°</a>ã€‚</p><h3 id="ç”¨ç»“æ„è¿˜æ˜¯ç±»">ç”¨ç»“æ„è¿˜æ˜¯ç±»</h3><p>è¿™é‡Œæ¨ä¸€ç¯‡å¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/choosing-between-class-and-struct">Choosing Between Class and Struct</a></p><p>å¼•ç”¨ç±»å‹è¢«åˆ†é…åœ¨å †ä¸Šå¹¶è¢«åƒåœ¾å›æ”¶ç®—æ³•ç®¡ç†ï¼Œå€¼ç±»å‹åˆ™åˆ†é…åœ¨æ ˆä¸Šï¼Œæ ˆä¼šæŒ‰éœ€ <a href="http://en.wikipedia.org/wiki/Call_stack#Unwinding">unwind</a> æ¥é‡Šæ”¾ä»–ä»¬ã€‚å› æ­¤ï¼Œå€¼ç±»å‹çš„é‡Šæ”¾æ¯”å¼•ç”¨ç±»å‹çš„é‡Šæ”¾å¼€é”€è¦å°ã€‚</p><p>ä¹¦ä¸­ 11.9 å°èŠ‚è¿˜æåˆ°ï¼š</p><blockquote><p>å¯¹ç»“æ„è¿›è¡Œåˆ†é…çš„å¼€é”€æ¯”åˆ›å»ºç±»å®ä¾‹å°ï¼Œæ‰€ä»¥ä½¿ç”¨ç»“æ„ä»£æ›¿ç±»æœ‰æ—¶å¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†è¦æ³¨æ„è£…ç®±å’Œæ‹†ç®±çš„é«˜æ˜‚ä»£ä»·ã€‚</p></blockquote><p><strong>å€¼ç±»å‹æ•°ç»„</strong>çš„åˆ†é…å’Œé‡Šæ”¾æ¯”<strong>å¼•ç”¨ç±»å‹æ•°ç»„</strong>çš„åˆ†é…å’Œé‡Šæ”¾å¼€é”€ä¹Ÿæ›´å°ã€‚</p><p>é™¤äº†æœ€åŸºæœ¬çš„ä¿®æ”¹å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«å¤–ï¼Œè¦æ³¨æ„çš„æ˜¯ä¼ é€’å‚æ•°æˆ–è€…è¿”å›è¿”å›å€¼çš„æ—¶å€™ï¼Œå€¼ç±»å‹éƒ½ä¼šéšæ€§åœ°è¢«åˆ›å»ºï¼Œè¿™å¯èƒ½ä¹Ÿä¼šäº§ç”Ÿæ²¡æƒ³åˆ°çš„å†…å­˜å¼€é”€ã€‚</p><p>ä» .Net å†…å­˜åˆ†é…æˆæœ¬çš„è§’åº¦æ¥è¯´ï¼Œç±»çš„å¯¹è±¡å‚¨å­˜çš„å†…å­˜é¦–å…ˆéœ€è¦åˆ†é… 4 ä¸ªå­—èŠ‚ä½œä¸º<strong>å¯¹è±¡å¤´å­—èŠ‚</strong>ï¼ˆobject header wordï¼‰ï¼Œè·Ÿç€å†åˆ†é… 4 ä¸ªå­—èŠ‚ä½œä¸º<strong>æ–¹æ³•è¡¨æŒ‡é’ˆ</strong>ï¼ˆmethod table pointerï¼‰ï¼Œè¿™äº›å­—æ®µæ˜¯æœåŠ¡äº JIT å’Œ CIL çš„ï¼Œæ˜¯éšè—çš„åˆ†é…æˆæœ¬ã€‚</p><p>ä¿ç•™åœ¨å †ä¸­æ‰€éœ€çš„å†…å­˜è¿˜ä¼šæ ¹æ®æ“ä½œç³»ç»Ÿä½æ•°æ¥å†³å®šï¼š</p><ul><li>32 ä½ç³»ç»Ÿä¸­ï¼Œå †ä¸Šçš„å¯¹è±¡ä¼šå¯¹é½åˆ°æœ€è¿‘ 4 å­—èŠ‚çš„å€æ•°ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ª byte æˆå‘˜ï¼Œä¹Ÿéœ€è¦å¯¹é½å  4 ä¸ªå­—èŠ‚ï¼Œå› æ­¤è¿™ä¸ªå¯¹è±¡æ€»å…±å å †ä¸Š 12 ä¸ªå­—èŠ‚ã€‚</li><li>64 ä½ç³»ç»Ÿä¸­ï¼Œå †ä¸Šçš„å¯¹è±¡ä¼šå¯¹é½åˆ°æœ€è¿‘ 8 å­—èŠ‚çš„å€æ•°ï¼Œæ–¹æ³•è¡¨æŒ‡é’ˆå’Œå¯¹è±¡å¤´å­—èŠ‚ä¹Ÿä¼šåˆ†åˆ«å  8 å­—èŠ‚çš„å†…å­˜ã€‚</li></ul><p>ï¼ˆæ³¨ï¼šå¹³å¸¸å¼€å‘æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆæŠ é—¨ï¼Œä¸Šé¢åªæ˜¯ä¸€ä¸ªå°çŸ¥è¯†ç‚¹ã€‚ï¼‰</p><p>å¤§å¤šæ—¶å€™æˆ‘ä»¬éƒ½ä¼šç”¨ç±»å‹æ¥å®ç°è®¾è®¡æ¨¡å¼ã€æ¡†æ¶çš„è®¾è®¡ï¼Œé‚£ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç»“æ„ä½“å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥éµå¾ªå¾®è½¯çˆ¸çˆ¸çš„å»ºè®®ï¼š</p><ul><li>é€»è¾‘ä¸Šè¡¨ç¤ºå•ä¸ªå€¼</li><li>å¤§å°å°äº 16 ä¸ªå­—èŠ‚</li><li>ä¸ä¼šæ”¹å˜å€¼</li><li>ä¸éœ€è¦ç»å¸¸è£…ç®±æ‹†ç®±</li></ul><p>å¯¹äºä¸€äº›ç‰¹å®šçš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥äº«å—å€¼ç±»å‹æ•°ç»„åœ¨å†…å­˜ä¸­çº¿æ€§æ’å¸ƒçš„ç¦åˆ©ï¼Œä¾‹å¦‚å†…å­˜è¿ç»­ã€SIMD ç­‰ã€‚Unity çš„ DOTS æŠ€æœ¯æ ˆå°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚</p><p>æ¨èé˜…è¯»ï¼š</p><ul><li><a href="https://zhuanlan.zhihu.com/p/100162855">åœ¨C#ä¸­ä½¿ç”¨Structä»£æ›¿Class</a></li><li>ä½œè€…ç”¨ DOTSï¼ˆç»“æ„ä½“ã€Job Systemã€Burstï¼‰å®ç° A æ˜Ÿå¯»è·¯å®ç°æ€§èƒ½é£è·ƒï¼šy2b æœ â€œPathfinding in Unity DOTS!â€</li></ul><h2 id="è£…ç®±">è£…ç®±</h2><p>ç¬¬ 17 ç« ä»‹ç»äº†è½¬æ¢ï¼Œå…¶ä¸­æåˆ°äº†è£…ç®±æ‹†ç®±ã€‚é‚£ä¹ˆè£…ç®±çš„ä»£ä»·æœ‰å¤šå¤§å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åšä¸ªæµ‹è¯•ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">int</span> Iterations = <span class="number">100</span>_000;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä»–åœ°æ–¹åˆå§‹åŒ–äº† Iterations å¤§å°çš„éšæœºæ•°ç»„</span></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span>[] numberArr = <span class="literal">null</span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">MeasureTestA</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// è®¾å®šå¤§å°ä»¥é¿å…è‡ªåŠ¨æ‰©å®¹å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—</span></span><br><span class="line">    Stack stack = <span class="keyword">new</span> Stack(Iterations); </span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; Iterations; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        stack.Push(numberArr[i]); <span class="comment">// int -&gt; object è£…ç®±</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">MeasureTestB</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Stack&lt;<span class="built_in">int</span>&gt; genericStack = <span class="keyword">new</span> Stack&lt;<span class="built_in">int</span>&gt;(Iterations);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; Iterations; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        genericStack.Push(numberArr[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://img.frankorz.com/profiler.png" alt="profiler"></p><p>æŸ¥çœ‹ Profiler å¯ä»¥çœ‹åˆ°ï¼Œè°ƒç”¨åæ¬¡ TestA äº§ç”Ÿäº† 26.7MB GCï¼Œç”¨äº† 267.22 æ¯«ç§’ï¼›è°ƒç”¨åæ¬¡ TestB åªäº§ç”Ÿäº† 3.8MB GCï¼Œç”¨äº† 20.92 æ¯«ç§’ã€‚å› æ­¤å¤§é‡çš„è£…ç®±æ‹†ç®±ä¼šå¯¼è‡´ä¸å¿…è¦çš„æ€§èƒ½æ¶ˆè€—ï¼Œè€Œæœ‰äº›æ¶ˆè€—åˆ™æ˜¯å®Œå…¨å¯ä»¥é¿å…çš„ã€‚</p><p>æˆ‘çš„ Rider æ’ä»¶ <a href="https://plugins.jetbrains.com/plugin/9223-heap-allocations-viewer">Heap Allocations Viewer</a> ä¹Ÿä¼šæç¤ºæˆ‘ TestA ä¸­å­˜åœ¨è£…ç®±çš„æƒ…å†µã€‚</p><p><img src="http://img.frankorz.com/rider-boxing-plugin.png" alt="rider-boxing-plugin"></p><h2 id="æœ€å">æœ€å</h2><p>å†™åˆ°è¿™é‡Œï¼Œå‘ç°è¿˜å¾ˆå¤šä¸œè¥¿æ²¡è®²å®Œå°±å·²ç»è¿™ä¹ˆå¤šç¯‡å¹…äº†â€¦</p><p>å¤§å®¶å¯¹äºå¹³å¸¸ä»£ç çš„ä¸åŒå†™æ³•ä¹Ÿå¯ä»¥æµ‹è¯•ä¸‹æ€§èƒ½ï¼Œä¾‹å¦‚ï¼š</p><ul><li>foreach å’Œ for</li><li>è£…ç®±å’Œæ‹†ç®±</li><li>ä¸€ç»´æ•°ç»„ã€å¤šç»´æ•°ç»„ï¼ˆçŸ©å½¢æ•°ç»„ï¼‰å’Œäº¤é”™æ•°ç»„ï¼ˆJagged Arraysï¼‰<ul><li>è¿™é‡Œè¿˜æ˜¯å¼ºè°ƒä¸‹å°½é‡ä½¿ç”¨ä¸€ç»´æ•°ç»„ï¼Œå®åœ¨éœ€è¦ç”¨å¤šç»´æ•°ç»„çš„è¯ï¼Œå¯ä»¥æ”¹ç”¨äº¤é”™æ•°ç»„</li></ul></li><li>é€šè¿‡ for å¾ªç¯å¤åˆ¶æ•°ç»„å’Œ Array.CopyTo æ–¹æ³•</li><li>å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œstring å’Œ Stringbuilder</li><li>åå°„å’Œ DynamicMethod</li><li>â€¦</li></ul><p>ä¸Šé¢è£…ç®±çš„æˆªå›¾ä¸­çš„æµ‹è¯•é¡¹ç›®æˆ‘ä¹Ÿä¸Šä¼ äº† Githubï¼š<a href="https://github.com/Latias94/UnityCsharpPerformanceTest">Latias94/UnityCsharpPerformanceTest</a>ï¼Œä¸ç”¨ Unity çš„åŒå­¦ä¹Ÿå¯ä»¥å‚è€ƒä¸‹å®é™…çš„æµ‹è¯•ä»£ç ï¼š<a href="https://github.com/Latias94/UnityCsharpPerformanceTest/tree/master/Assets/Scripts">UnityCsharpPerformanceTest/Assets/Scripts</a>ï¼Œè‡ªå·±å†™ä¸ªå‘½ä»¤è¡Œé¡¹ç›®æ¥è·‘ä¸‹å¯¹æ¯”ã€‚</p><p>å½“ç„¶æˆ‘ä»¬å¼€å‘ä¸­è¿˜æ˜¯è¦ä»¥éœ€æ±‚çš„å˜åŒ–ä¸ºä¸»ï¼Œä¸èƒ½è¿‡æ—©ä¼˜åŒ–ä»è€Œç ´åä»£ç çš„æ‰©å±•æ€§ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;è¿™æœ¬ä¹¦ä»ç„¶æ˜¯å…¥é—¨ C# æœ€å¥½çš„ä¸€æœ¬ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æœ¬ä¹¦æ–°ç‰ˆå‡ºæ¥çš„æ—¶å€™æˆ‘ååˆ†å…³æ³¨ï¼Œäºæ˜¯è‹±å­å§é€äº†ä¸€æœ¬ç»™æˆ‘ï¼Œæœ¬æ–‡ä¹Ÿæ˜¯ç­”åº”è‹±å­å§æ‰€å†™çš„ä¸€ç¯‡æ–‡ç« ã€‚å¥¹ä¸€å¼€å§‹è¿˜é—®æˆ‘â€œä½ ç°åœ¨è¿˜éœ€è¦çœ‹è¿™æœ¬å…¥é—¨ä¹¦å—ï¼Ÿâ€ï¼Œæˆ‘è®¤ä¸ºæ˜¯çš„ã€‚å·¥ä½œäº†é‡åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œå¤§éƒ½è·Ÿè‡ªå·±åŸºç¡€ä¸ç‰¢æœ‰å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æœ¬ä¹¦ä»¥å›¾å½¢ä¸ºè½½ä½“ï¼Œç”ŸåŠ¨åœ°ä»‹ç»äº† C# è¯­è¨€æœ¬èº«ã€‚å…¶ä¸­å›¾å½¢å¯¹æˆ‘ä»¬äº†è§£ C# è¯­æ³•åœ¨å†…å­˜ä¸­çš„æœ¬è´¨ååˆ†æœ‰å¸®åŠ©ï¼Œå¼‚æ­¥ã€å¼‚å¸¸ç­‰ç« èŠ‚ä¸­çš„å¤„ç†æµç¨‹å›¾ä¹Ÿå¾ˆæ¸…æ™°æ˜äº†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘çœ‹é‡çš„ä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä¼šä»æœ¬ä¹¦å‡ºå‘ï¼Œç®€å•è®²è®²ä»£ç ä¼˜åŒ–çš„ä¸€äº›ç‚¹ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Unity" scheme="http://frankorz.com/categories/Unity/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>2019 å¹´çš„æ”¶è·ä¸æˆé•¿</title>
    <link href="http://frankorz.com/2019/12/04/2019-year-end-summary/"/>
    <id>http://frankorz.com/2019/12/04/2019-year-end-summary/</id>
    <published>2019-12-04T10:50:18.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¹´å‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ï¼Œåšå®¢ä¹Ÿå› æ­¤ä»ä¸ƒæœˆåœæ›´åˆ°äº†ç°åœ¨ï¼Œå®åœ¨æƒ­æ„§â€¦ç°åœ¨è¶ç€å¹´ç»ˆï¼Œèµ¶ç´§æŠ“ä½ 2019 å¹´çš„å°¾å·´äº†ï¼Œæ¥æ€»ç»“ä¸‹æˆ‘çš„è¿™ä¸€å¹´ã€‚</p><p>æœ¬æ–‡çœŸçš„ä¼šå¾ˆå•°å—¦ï¼Œä½†æ˜¯å¸Œæœ›èƒ½å¸®åˆ°å¸Œæœ›ç”¨ Unity æ°é¥­æˆ–è€…å…¶ä»–æŠ€æœ¯æ°é¥­çš„åŒå­¦ã€‚</p><span id="more"></span><h1>æ¯•ä¸š</h1><p>ä»Šå¹´çš„ä¸ŠåŠå¹´å®Œæˆäº†ç ”ç©¶ç”Ÿçš„å­¦ä¸šï¼Œç»“æŸäº†ç•™å­¦ç”Ÿæ¶¯ã€‚</p><p>æˆ‘çš„ä¸“ä¸šè¯¾ç¨‹æ¯”è¾ƒæ¾ï¼Œæ€»å…±ä¸¤å¹´è¦ä¿® 16 èŠ‚è¯¾çš„å­¦åˆ†ï¼Œä½†æ˜¯å¿…ä¿®è¯¾åªæœ‰å››èŠ‚ï¼Œå› æ­¤æˆ‘å¯ä»¥å°½å¯èƒ½çš„é€‰æ‹©æœ‰å®æˆ˜çš„è¯¾ç¨‹ã€‚è¿™è¾¹è¯¾ç¨‹çš„å¤§ä½œä¸šå¤§å¤šéœ€è¦å›¢é˜Ÿåä½œï¼Œä½†æ˜¯æœ‰äº› IT ç ”ç©¶ç”ŸåŒå­¦æ˜¯è·¨ä¸“ä¸šè¿‡æ¥çš„ï¼Œä¸æ˜¯å¾ˆèƒ½å†™ä»£ç ï¼Œæ‰€ä»¥æœ‰æ—¶å€™æŒºè€ƒéªŒè‡ªèº«èƒ½åŠ›çš„ï¼ˆç¬‘ã€‚ æˆ‘ç»„å®Œé˜Ÿä¸€èˆ¬éƒ½å¸Œæœ›èƒ½æŠŠå¤§ä½œä¸šçš„è§„æ¨¡åšå¤§äº›ï¼Œä¸€æ–¹é¢æ˜¯ä½œä¸šèƒ½æ‹¿æ¯”è¾ƒå¥½çš„åˆ†æ•°ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ±‚èŒçš„æ—¶å€™å¯ä»¥æ‹¿å‡ºèƒ½å¾€ç®€å†ä¸Šæ”¾çš„é¡¹ç›®ç»éªŒã€‚</p><p>æ¯•ä¸šåæˆ‘å‘ç°è¿™ç§é€‰æ‹©æ˜¯å¯¹çš„ï¼Œæˆ‘çš„é˜Ÿå‹åœ¨æ¯•ä¸šåè¿˜é—®æˆ‘ä»¬çš„çº¿ä¸Šé¡¹ç›®æ€ä¹ˆå¼€ä¸èµ·æ¥äº†ï¼Œä»–ä»¬ä¹Ÿåˆ°äº†æ‰¾å·¥ä½œçš„æ—¶é—´ï¼Œè¿˜è®©æˆ‘å¸®å¿™çœ‹äº†çœ‹ç®€å†ã€‚æ¾³æ´²å·¥ä½œæ˜¯å¾ˆä¼‘é—²çš„ï¼Œå¤§éƒ¨åˆ†ä¸‹åˆäº”å…­ç‚¹å°±èƒ½ä¸‹ç­ã€‚èº«è¾¹åŒå­¦ä¹Ÿåœ¨åŠªåŠ›åœ°ç•™ä¸‹æ¥ï¼Œè€ƒ PTEã€CCL è€ƒè¯•å‡‘åˆ†æ‹¿ PRã€‚è‡ªå·±å› ä¸ºè¿˜æ˜¯æƒ³åšæ¸¸æˆï¼Œæ¾³æ´²ç¯å¢ƒä¸å¤ªå¥½ï¼Œå°±å›äº†å›½ã€‚</p><h1>ä»é¢è¯•åˆ°å·¥ä½œ</h1><p>ç”±äºè¯¾ç¨‹ç»“æŸä¸‰ä¸ªæœˆåæ‰èƒ½å‚åŠ æ¯•ä¸šå…¸ç¤¼æ‹¿åˆ°æ¯•ä¸šè¯ï¼Œå½“æ—¶æˆ‘å¯¹æ±‚èŒè¿˜ä¸å¤ªä¸Šå¿ƒï¼Œè¿˜æƒ³ç­‰ç€æ˜¥æ‹›ã€‚ä½†æ˜¯åˆä¸æƒ³åœ¨å®¶é‡Œæ··åƒæ··å–ï¼Œå°±å¼€å§‹æ¯å¤©åˆ·åˆ·é¢è¯•é¢˜ï¼Œå­¦å­¦æ„Ÿå…´è¶£çš„ï¼ŒåŒæ—¶ä¹Ÿå¼€å§‹åœ¨æŸç›´è˜æ‰¾å·¥ä½œï¼Œæ‰“ç®—æ¯å‘¨é¢è¯•ä¸€æ¬¡ï¼Œæ¥è§¦ä¸‹å½“å‰çš„å°±ä¸šå½¢åŠ¿ï¼ŒåŒæ—¶æŸ¥æ¼è¡¥ç¼ºã€‚</p><h2 id="ç¬¬ä¸€å‘¨">ç¬¬ä¸€å‘¨</h2><p>ç¬¬ä¸€å‘¨é¢è¯•äº†å®¶ä¸€ç™¾å¤šäººçš„æ¸¸æˆå…¬å¸ï¼Œä¸€ä¸Šæ¥è¦æ±‚ä¸‰ååˆ†é’Ÿè§£ä¸€é“ Leetcode hard çš„é¢˜â€¦å¥½ä¸å®¹æ˜“è§£å‡ºæ¥äº†ï¼Œåˆè¦æ±‚é€’å½’æ”¹è¿­ä»£ï¼Œåˆé—®æœ‰æ²¡æœ‰èƒ½ä¼˜åŒ–çš„ç‚¹ã€‚ä¹‹åè¿˜é—®äº†äº›é€»è¾‘é¢˜ï¼Œè¿™æ—¶å€™æŒºåº†å¹¸è‡ªå·±å¤ä¹ äº†<a href="https://book.douban.com/subject/25753386/">ã€Šç¨‹åºå‘˜é¢è¯•ç»å…¸ï¼ˆç¬¬5ç‰ˆï¼‰ã€‹</a>ï¼ˆ<a href="https://www.ituring.com.cn/book/1876">ç¬¬å…­ç‰ˆ</a>åˆšå‡ºå™¢ï¼‰ï¼ŒåŸºæœ¬è¿˜èƒ½ hold ä½åœºé¢ï¼Œä½†æ˜¯åæ¥åˆ†æç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åˆ†æçš„ååˆ†ç³Ÿç³•ï¼Œäºæ˜¯å°±æ²¡æœ‰ç„¶åäº†â€¦</p><p>å½“å¤©ååˆ†æ²®ä¸§ï¼Œæ°å·§é¢è¯•çš„åœ°æ–¹å’Œä¸€ä¸ªä¸»ç¾æœ‹å‹å·¥ä½œçš„åœ°æ–¹å¾ˆæ¥è¿‘ï¼Œå°±çº¦äº†ä¸ªé¥­ã€‚ä»–å¼€å¯¼æˆ‘è¯´ï¼šâ€æ‹¿ç¾æœ¯æ¥è¯´ï¼Œä¸åŒå…¬å¸ä¹Ÿä¼šéœ€è¦ä¸åŒçš„ç¾æœ¯ï¼šå¤é£æ¸¸æˆè‡ªç„¶éœ€æ±‚ä¸“ç²¾ç”»å¤é£çš„ï¼Œç§‘å¹»æ¸¸æˆéœ€æ±‚çš„ç¾æœ¯é£æ ¼å¾ˆæ˜æ˜¾ä¹Ÿä¸ä¸€æ ·ã€‚å†é¢è¯•å‡ å®¶å°±å¥½ï¼Œä»Šå¤©é¢è¯•åªä»£è¡¨å…¬å¸ä¸é€‚åˆä½ ã€‚â€œæˆ‘å¬äº†å¾ˆæœ‰é“ç†ï¼äºæ˜¯ç»§ç»­ä¸åŠ¡æ­£ä¸šå­¦äº†å–œæ¬¢çš„ä¸œè¥¿ï¼Œç®€å•å¤ä¹ å¤ä¹ ç®—æ³•ï¼Œåˆ·äº†åˆ·é¢˜ã€‚</p><h2 id="ç¬¬äºŒå‘¨">ç¬¬äºŒå‘¨</h2><p>ç¬¬äºŒå‘¨åˆæ¥åˆ°å¦ä¸€ä¸ªæ¸¸æˆå…¬å¸ HR çš„é¢è¯•é‚€è¯·ï¼Œé¢è¯•æ—¶ç›´æ¥æ¥äº†ä¸‰ä¸ªé¢è¯•å®˜ï¼Œä¸¤ä¸ªç¨‹åºå¤§ä½¬ä¸€ä¸ªåˆ¶ä½œäººã€‚å¾ˆæ˜æ˜¾çš„ï¼Œé¢è¯•é£æ ¼éƒ½ä¸ä¸€æ ·ã€‚ä»–ä»¬äº‹å…ˆçœ‹äº†æˆ‘çš„ç®€å†ï¼Œçœ‹äº†æˆ‘çš„åšå®¢ã€‚åˆšå¥½ç¬¬ä¸€å‘¨çš„æ—¶å€™æ›´æ–°äº†ä¸€ç¯‡ <a href="http://frankorz.com/2019/07/14/clarify-ecs-basic-concept/">DOTS çš„åšæ–‡</a>ï¼Œäºæ˜¯ä»–ä»¬ä¸€å¼€å§‹å°±è®©æˆ‘ä»‹ç»ä¸‹ Unity çš„ DOTS æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Œè¿˜æœ‰ä¸€äº›æ¦‚å¿µç»†èŠ‚ã€‚åæ¥çš„å…¶ä»–é—®é¢˜å¾ˆæ˜æ˜¾èƒ½æ„Ÿè§‰ä»–ä»¬åœ¨è€ƒå¯Ÿæˆ‘çŸ¥è¯†çš„å¹¿åº¦ï¼Œä¾‹å¦‚å›¾å½¢å­¦ï¼Œæˆ‘ç®€å†ä¸Šæåˆ°çš„ C# çƒ­æ›´æ–°ç­‰ã€‚</p><p>åˆšå¥½é‚£æ®µæ—¶é—´â€ä¸åŠ¡æ­£ä¸šâ€œåœ°è·Ÿç€<a href="https://book.douban.com/subject/30348061/">ã€Šè‡ªå·±åŠ¨æ‰‹å®ç°Luaã€‹</a>å†™äº†ä¸€åŠçš„ Lua è™šæ‹Ÿæœºï¼Œäºæ˜¯é—®åˆ°å¯¹ Lua æ˜¯å¦ç†Ÿæ‚‰çš„æ—¶å€™ï¼Œæˆ‘å°±æäº†ä¸€å˜´æœ€è¿‘åœ¨å­¦çš„ä¸œè¥¿ï¼Œæ¥ç€åˆå±•å¼€æ–°çš„é—®ç­”ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘è§‰å¾—é¢è¯•å®˜çš„é£æ ¼å’Œç¬¬ä¸€å‘¨å…¬å¸çš„é¢è¯•é£æ ¼å®Œå…¨ä¸ä¸€æ ·ï¼Œä½†æ˜¯æœ‰äº›åœ°æ–¹è¿˜æ˜¯ç­”å¾—ä¸å¤Ÿå¥½ï¼Œäºæ˜¯åˆåœ¨å®¶çå­¦ã€‚</p><p>ä¸€å‘¨åï¼Œæˆ‘æ‹¿åˆ°ç¬¬äºŒå®¶å…¬å¸çš„ Offerï¼Œæˆä¸ºäº†å…¬å¸å·¥å…·äººã€‚</p><p>æˆ‘è§‰å¾—ä»é¢è¯•å°±èƒ½çœ‹å‡ºå…¬å¸å…³æ³¨çš„æ˜¯å¼€å‘äººå‘˜çš„å“ªäº›æ–¹é¢ï¼Œå¦‚ä¸»ç¾æœ‹å‹æ‰€è¯´ï¼Œå¦‚æœä¸æ„¿æ„æ”¹å˜è‡ªå·±å­¦ä¹ çš„é£æ ¼ï¼Œé‚£å°±æ‰¾åˆ°éœ€æ±‚è¿™ç§é£æ ¼çš„å…¬å¸ï¼Œæ¥ä¸‹æ¥çš„å·¥ä½œä¹Ÿå°è¯äº†è¿™ä¸€ç‚¹ã€‚</p><h2 id="ä¸Šé¢æåˆ°çš„å†…å®¹">ä¸Šé¢æåˆ°çš„å†…å®¹</h2><ul><li><a href="https://book.douban.com/subject/34813624/">ã€Šç¨‹åºå‘˜é¢è¯•ç»å…¸ï¼ˆç¬¬6ç‰ˆï¼‰ã€‹</a>ï¼ˆ<a href="https://book.douban.com/subject/25753386/">ç¬¬5ç‰ˆ</a>ï¼‰</li><li>DOTS ç›¸å…³åšæ–‡<a href="http://frankorz.com/2019/07/14/clarify-ecs-basic-concept/">ã€Šæ´æ˜ Unity ECS åŸºç¡€æ¦‚å¿µã€‹</a></li><li><a href="https://book.douban.com/subject/30348061/">ã€Šè‡ªå·±åŠ¨æ‰‹å®ç°Luaï¼šè™šæ‹Ÿæœºã€ç¼–è¯‘å™¨å’Œæ ‡å‡†åº“ã€‹</a>ï¼Œç”¨Goè¯­è¨€å®ç° Lua è™šæ‹Ÿæœºã€ç¼–è¯‘å™¨å’Œæ ‡å‡†åº“ã€‚</li></ul><h1>äº†è§£ä»£ç çš„å¦ä¸€é¢</h1><p>å…¥èŒåï¼Œæ‰å‘ç°å…¬å¸å†™äº†ä¸€å¥—è‡ªå·±çš„ C# çƒ­æ›´æ–°ï¼Œè¿™ç§çƒ­æ›´æ–°æ˜¯å’Œ xLua ä¸€æ ·çš„æ³¨å…¥å¼çƒ­æ›´ï¼Œè·Ÿ <a href="https://github.com/egametang/ET">ET æ¡†æ¶</a>åˆ†ä¸¤ä¸ªé¡¹ç›®è·‘çš„è¿˜ä¸ä¸€æ ·ï¼ˆä¸‹æ–‡ä¼šè§£é‡Šï¼‰ã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œåœ¨æˆ‘å…¥èŒè¿‡äº†å‡ ä¸ªæœˆåï¼ŒxLua ä½œè€…ä¹Ÿå¼€æºäº†C# æ³¨å…¥å¼çš„çƒ­æ›´æ–°é¡¹ç›®ï¼š<a href="https://github.com/Tencent/InjectFix">InjectFix</a>ï¼Œä½œè€…è¿˜é…å¥—å†™äº†ä¸€å¥— IL çš„è¿è¡Œæ—¶ï¼Œå¬è¯´æ€§èƒ½è¿˜æ¯” ILRuntime æ›´å¥½äº›ã€‚</p><p>æ„Ÿå…´è¶£çš„å¯ä»¥å…ˆçœ‹çœ‹ xLua ä½œè€…çš„è®²è§£ï¼š</p><ul><li><a href="https://www.zhihu.com/question/54344452/answer/139413144">å¦‚ä½•è¯„ä»·è…¾è®¯åœ¨Unityä¸‹çš„xLuaï¼ˆå¼€æºï¼‰çƒ­æ›´æ–¹æ¡ˆï¼Ÿ</a></li><li><a href="https://www.zhihu.com/question/345639690/answer/825301379">ä½œä¸ºæ¸¸æˆå¼€å‘è€…ï¼Œå¦‚ä½•çœ‹å¾…è…¾è®¯æœ€æ–°å‘å¸ƒçš„Unityçƒ­ä¿®å¤å·¥å…·InjectFixï¼Ÿ</a></li></ul><p>å…ˆå‰åŸºäº ILRuntime çš„çƒ­æ›´æ–°ï¼Œä¾‹å¦‚ ET æ¡†æ¶ï¼Œå¤§å¤šæ˜¯åˆ†ä¸¤ä¸ªé¡¹ç›®ï¼Œä¸»é¡¹ç›®å’Œçƒ­æ›´é¡¹ç›®ï¼Œçƒ­æ›´é¡¹ç›®æ”¾ä¸€äº›éœ€è¦ç»å¸¸ä¿®æ”¹çš„æˆ˜æ–—é€»è¾‘ã€UI ç•Œé¢ç­‰ã€‚è¿™æ ·å¯ä»¥ç›´æ¥æŠŠçƒ­æ›´é¡¹ç›®éƒ½æ”¾åœ¨ ILRuntime ä¸Šè·‘ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½èƒ½çƒ­æ›´ï¼Œååˆ†æ–¹ä¾¿ï¼Œä½†æ˜¯è¿™æ ·ååˆ†ä¾èµ– ILRuntime çš„æ€§èƒ½ã€‚</p><p>é‚£ä¹ˆæ³¨å…¥å¼çš„çƒ­æ›´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬ç»™æ¯ä¸ªå‡½æ•°å‰åŠ  if åˆ¤æ–­ï¼Œå¦‚æœ ILRuntime ä¸Šè·‘çš„ï¼ˆèƒ½çƒ­æ›´çš„ï¼‰DLLé‡Œé¢æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œå°±æ‰§è¡Œçƒ­æ›´çš„æ–¹æ³•ï¼Œè¿™æ · ILRuntime çš„æ€§èƒ½é—®é¢˜ä¹Ÿèƒ½é¿å…å¼€æ¥ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½åªæœ‰éœ€è¦çƒ­æ›´çš„å‡½æ•°åœ¨ ILRuntime ä¸Šé¢è·‘ï¼Œè€Œä¸æ˜¯æ•´ä¸ªé¡¹ç›®ã€‚</p><blockquote><p>é‚£ä¹ˆï¼Œå¤å°”ä¸¹ï¼Œä»£ä»·æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br>â€”â€”æ ¼ç½—ç›ä»€Â·åœ°ç‹±å’†å“®</p></blockquote><p>ä»£ä»·å°±æ˜¯èƒ½çƒ­æ›´çš„ä¸œè¥¿æå…¶å±€é™ï¼Œåªèƒ½çƒ­æ›´å‡½æ•°ã€å’Œæ–°å¢çš„ç±»ç­‰ã€‚</p><p>åœ¨äº†è§£åŸå› ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æ¸¸æˆå°±è¿™ä¹ˆå¤šä»£ç ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Unity 2019.2 ä¹‹å‰ï¼ŒScripting Runtime Version: .Net 3.5 Equivalent(Deprecated)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestIL</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        Action action = () =&gt; Debug.Log(<span class="string">&quot;Hello IL&quot;</span>);</span><br><span class="line">        action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯çœ‹ä¸Šå»å¦‚å¤å¤©ä¹å¹³å¹³æ— å¥‡çš„ä»£ç ï¼Œå½“æˆ‘ä»¬ç”¨ <a href="https://github.com/0xd4d/dnSpy">dnSpy</a> åç¼–è¯‘ <code>Library\ScriptAssemblies\Assembly-CSharp.dll</code> åä¼šå‘ç°ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestIL</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">int</span>[] array = <span class="keyword">new</span> <span class="built_in">int</span>[]</span><br><span class="line">&#123;</span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">&#125;;</span><br><span class="line">Action action = <span class="built_in">delegate</span>()</span><br><span class="line">&#123;</span><br><span class="line">Debug.Log(<span class="string">&quot;Hello IL&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line">action();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘å™¨ç”Ÿæˆçš„åŒ¿åå‡½æ•°</span></span><br><span class="line">[<span class="meta">CompilerGenerated</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> &lt;Start&gt;m__0()</span><br><span class="line">&#123;</span><br><span class="line">Debug.Log(<span class="string">&quot;Hello IL&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">CompilerGenerated</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Action &lt;&gt;f__am$cache0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬çš„ Action ç”Ÿæˆäº†åŒ¿åå‡½æ•°ï¼Œé‚£ä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘éœ€è¦æ›´æ”¹ Debug.Log ä¸­æ‰“å°çš„å­—ç¬¦ä¸²ï¼Œæˆ‘åªéœ€åœ¨çƒ­æ›´ DLL ä¸­æä¾›ï¼š<strong>ä¿®æ”¹åçš„å‡½æ•°</strong> + <strong>ç¼–è¯‘å™¨ç”Ÿæˆçš„åŒ¿åå‡½æ•°</strong>å°± okay äº†ï¼Ÿå®é™…ä¸Šæ²¡é‚£ä¹ˆç®€å•ï¼Œå› ä¸ºç¼–è¯‘å™¨åˆä½œå¦–äº†ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">int</span>[] arr = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    Action action = () =&gt; Debug.Log(<span class="string">&quot;Hello &quot;</span> + arr[<span class="number">0</span>]); <span class="comment">// ä¿®æ”¹æ‰“å°</span></span><br><span class="line">    action();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¬¡æŸ¥çœ‹åç¼–è¯‘åçš„ DLLï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">int</span>[] arr = <span class="keyword">new</span> <span class="built_in">int</span>[]</span><br><span class="line">&#123;</span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">&#125;;</span><br><span class="line">Action action = <span class="built_in">delegate</span>()</span><br><span class="line">&#123;</span><br><span class="line">Debug.Log(<span class="string">&quot;Hello &quot;</span> + arr[<span class="number">0</span>]);</span><br><span class="line">&#125;;</span><br><span class="line">action();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">CompilerGenerated</span>]</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">sealed</span> <span class="keyword">class</span> &lt;<span class="title">Start</span>&gt;<span class="title">c__AnonStorey0</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> &lt;Start&gt;c__AnonStorey0()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">void</span> &lt;&gt;m__0()</span><br><span class="line">&#123;</span><br><span class="line">Debug.Log(<span class="string">&quot;Hello &quot;</span> + <span class="keyword">this</span>.arr[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="built_in">int</span>[] arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äº action ä¸­å¼•ç”¨äº†å±€éƒ¨å˜é‡ï¼Œmono ç¼–è¯‘å™¨å°†æœ¬è¯¥ç”Ÿæˆçš„åŒ¿åæ–¹æ³•ç”Ÿæˆäº†åŒ¿åç±»ï¼Œå¹¶åœ¨è°ƒç”¨çš„æ—¶å€™ä¼ å…¥ arr int æ•°ç»„ã€‚</p><p>ç°åœ¨æˆ‘ä»¬è°ƒæ•´ä¸‹æˆ‘ä»¬çš„çƒ­æ›´æ–°ç­–ç•¥ï¼šå¦‚æœæˆ‘ä»¬æ£€æµ‹åˆ°ç¼–è¯‘å™¨ç”Ÿæˆçš„åŒ¿åå‡½æ•°ï¼Œå°†å…¶è½¬æ¢æˆåŒ¿åç±»ï¼Œå†æŠŠè¿™ä¸ªæ–°å¢çš„ç±»å¤åˆ¶åˆ°çƒ­æ›´ DLL ä¸­ã€‚</p><p>è¿˜æ˜¯æœ‰é—®é¢˜ï¼</p><p>è¿™æ—¶å€™å°±éœ€è¦è®¤è¯† C# çš„ä¸­é—´è¯­è¨€â€”â€” MSILï¼ˆåˆç§° ILï¼‰ï¼Œæ¯å¥ C# ä»£ç éƒ½å¯ä»¥è½¬æ¢æˆ<strong>å¯è¯»æ€§è¾ƒå¥½</strong>çš„<strong>ç±»ä¼¼äºæœºå™¨ä»£ç </strong>çš„ IL ä»£ç ã€‚</p><p>å½“æˆ‘ä»¬æŸ¥çœ‹ Start å‡½æ•°çš„ IL ä»£ç æ—¶ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.<span class="function">method <span class="keyword">private</span> hidebysig </span></span><br><span class="line"><span class="function">instance <span class="keyword">void</span> <span class="title">Start</span> () cil managed</span> </span><br><span class="line">&#123;</span><br><span class="line">.maxstack <span class="number">4</span></span><br><span class="line">.<span class="function">locals <span class="title">init</span> (<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">[<span class="number">0</span>] <span class="keyword">class</span> TestIL/<span class="string">&#x27;&lt;Start&gt;c__AnonStorey0&#x27;</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">[<span class="number">1</span>] <span class="keyword">class</span> [System.Core]System.Action</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">IL_0000: newobj    instance <span class="keyword">void</span> TestIL/&#x27;&lt;Start&gt;c__AnonStorey0&#x27;::.<span class="title">ctor</span>()</span></span><br><span class="line"><span class="function">IL_0005: stloc.0</span></span><br><span class="line"><span class="function">IL_0006: nop</span></span><br><span class="line"><span class="function">IL_0007: ldloc.0</span></span><br><span class="line"><span class="function">IL_0008: ldc.i4.4</span></span><br><span class="line"><span class="function">IL_0009: newarr    [mscorlib]System.Int32</span></span><br><span class="line"><span class="function">IL_000E: dup       <span class="comment">// ä¸‹é¢è¿™ä¸²æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆåˆå¼•ç”¨äº†å¦å¤–ä¸€ä¸ªç±»ï¼Ÿ</span></span></span><br><span class="line"><span class="function">IL_000F: ldtoken   field valuetype &#x27;&lt;PrivateImplementationDetails&gt;&#x27;/&#x27;$ArrayType</span>=<span class="number">16&#x27;</span> <span class="string">&#x27;&lt;PrivateImplementationDetails&gt;&#x27;</span>::<span class="string">&#x27;$field-1456763F890A84558F99AFA687C36B9037697848&#x27;</span></span><br><span class="line">IL_0014: call      <span class="keyword">void</span> [mscorlib]System.Runtime.CompilerServices.RuntimeHelpers::InitializeArray(<span class="keyword">class</span> [<span class="title">mscorlib</span>]<span class="title">System.Array</span>, <span class="title">valuetype</span> [<span class="title">mscorlib</span>]<span class="title">System.RuntimeFieldHandle</span>)</span><br><span class="line"><span class="title">IL_0019</span>: <span class="title">stfld</span>     <span class="title">int32</span>[] <span class="title">TestIL</span>/&#x27;&lt;<span class="title">Start</span>&gt;<span class="title">c__AnonStorey0</span>&#x27;::<span class="title">arr</span></span><br><span class="line"><span class="title">IL_001E</span>: <span class="title">ldloc.0</span></span><br><span class="line"><span class="title">IL_001F</span>: <span class="title">ldftn</span>     <span class="title">instance</span> <span class="title">void</span> <span class="title">TestIL</span>/&#x27;&lt;<span class="title">Start</span>&gt;<span class="title">c__AnonStorey0</span>&#x27;::&#x27;&lt;&gt;<span class="title">m__0</span>&#x27;()</span><br><span class="line"><span class="title">IL_0025</span>: <span class="title">newobj</span>    <span class="title">instance</span> <span class="title">void</span> [<span class="title">System.Core</span>]<span class="title">System.Action</span>::.<span class="title">ctor</span>(<span class="title">object</span>, <span class="title">native</span> <span class="title">int</span>)</span><br><span class="line"><span class="title">IL_002A</span>: <span class="title">stloc.1</span></span><br><span class="line"><span class="title">IL_002B</span>: <span class="title">ldloc.1</span></span><br><span class="line"><span class="title">IL_002C</span>: <span class="title">callvirt</span>  <span class="title">instance</span> <span class="title">void</span> [<span class="title">System.Core</span>]<span class="title">System.Action</span>::<span class="title">Invoke</span>()</span><br><span class="line"><span class="title">IL_0031</span>: <span class="title">ret</span></span><br><span class="line">&#125; <span class="comment">// end of method TestIL::Start</span></span><br></pre></td></tr></table></figure><p>åœ¨ dnSpy ä¸­æ‰¾äº†æ‰¾ï¼Œå‘ç°äº† <code>PrivateImplementationDetails</code> ç±»ï¼š</p><p><img src="http://img.frankorz.com/dnspy.png" alt="dnspy"></p><p>è¿™çœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™ä¸ªæ•°ç»„è¢«å­˜åˆ°äº†æŸä¸ªåœ°æ–¹ï¼Œè¿™ä¸ªç±»åªæ˜¯æä¾›äº† id å‘Šè¯‰ IL è¿™ä¸ªæ•°ç»„åº”è¯¥åœ¨å“ªæ‰¾ï¼Ÿé€šè¿‡æŸ¥è¯¢ <a href="https://github.com/dotnet/roslyn/blob/master/src/Compilers/Core/Portable/CodeGen/PrivateImplementationDetails.cs">Roslyn ç¼–è¯‘å™¨çš„æ–‡æ¡£</a>ï¼Œå‘ç°äº†è¿™ä¸ªç±»çš„æ³¨é‡Šï¼šâ€The main purpose of this class so far is to contain mapped fields and their types.â€œ æ‰€ä»¥æˆ‘ä»¬è¦çƒ­æ›´çš„è¯ï¼Œè¿˜éœ€è¦å°† <code>PrivateImplementationDetails</code> ç±»å¤åˆ¶åˆ°çƒ­æ›´ DLL ä¸­ã€‚</p><p>æˆ‘ä»¬æ€ä¹ˆåˆ†æä»£ç æ˜¯å¦æ˜¯åŒ¿åå‡½æ•°å‘¢ï¼Ÿ<a href="https://github.com/jbevain/cecil">Mono.Cecil</a> å°±æ˜¯ä¸€å¥—åŸºäº IL åˆ†æç¨‹åºé›†çš„åº“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªåº“æ¥åˆ¤æ–­å“ªäº›æ–¹æ³•ä¸èƒ½çƒ­æ›´ç­‰ï¼Œè¿™åˆæ˜¯å¦å¤–ä¸€ä¸ªè¯é¢˜ï¼Œç•¥è¿‡ä¸æã€‚</p><p>ä»¥ä¸Šåªæ˜¯æ³¨å…¥çƒ­æ›´çš„ä¸€ä¸ªå°æ’æ›²ï¼Œä½†æ˜¯æ¶‰åŠçš„ä¸œè¥¿å°±å·²ç»ä¸ä¸€å¼€å§‹ Start æ–¹æ³•ä¸­çš„ä¸‰è¡Œä»£ç ç›¸å»ç”šè¿œäº†ã€‚å¦‚æœæˆ‘ä»¬è¿˜è¦æ”¯æŒé‡è½½å‡½æ•°çš„çƒ­æ›´ï¼Œæ³›å‹ç±»ä¸­å‡½æ•°çš„çƒ­æ›´ï¼Œå°±æ›´æ˜¯è®©äººæ‰å¤´å‘çš„è¯é¢˜ï¼Œæ¶‰åŠçš„ IL ååˆ†å¤æ‚ã€‚</p><p>ç°ä»£çš„é«˜çº§è¯­è¨€ä¸ºæˆ‘ä»¬å°è£…äº†å¤ªå¤šä¸œè¥¿ï¼Œæä¾›äº†æ–¹ä¾¿ç¼–ç¨‹çš„è¯­æ³•ç³–ï¼Œä½†ä¹Ÿä¸ºæˆ‘ä»¬çŸ¥æ ¹çŸ¥åº•çš„å­¦ä¹ æ–¹å¼è®¾ç«‹äº†é—¨æ§›ã€‚</p><p>ä½†æ˜¯å½“æˆ‘ä»¬äº†è§£äº† IL ä¸­é—´è¯­è¨€çš„è¯ï¼Œæˆ‘ä»¬ä»¥åé¢å¯¹â€åœ¨åŒ¿åå‡½æ•°å¼•ç”¨ for å¾ªç¯ä¸­å˜é‡çš„è¡Œä¸ºä¼šè¯¡å¼‚â€œç­‰é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åç¼–è¯‘ DLL æ¥çœ‹ä»£ç çœŸæ­£çš„é¢ç›®æ˜¯æ€ä¹ˆæ ·çš„ã€‚</p><p>ä¸å°å¿ƒå†™äº†è¶³ä»¥å……å½“ä¸€ç¯‡æ–‡ç« çš„å†…å®¹ï¼Œä½†æ˜¯æˆ‘æƒ³è¡¨è¾¾çš„æ˜¯ï¼š</p><ul><li>å¯¹äºæ¸¸æˆå¼€å‘è€…ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å¯¹è‡ªå·±çš„ä»£ç åšäº†ä»€ä¹ˆæœ‰å……åˆ†çš„äº†è§£ï¼Œè°¨æ…è¿ç”¨è¯­æ³•ç³–ï¼Œè¿™æ ·æ‰èƒ½å……åˆ†æŒæ¡æ¸¸æˆçš„æ€§èƒ½ã€‚</li><li>è™½è¯´æˆ‘ä»¬è¿œè¿œæ²¡è¾¾åˆ°é€  InjectFix è½®å­çš„ç¨‹åº¦ï¼Œä½†æ˜¯äº†è§£è¯¥æŠ€æœ¯çš„æ ¹åŸºâ€”â€”ILï¼Œå†å°è¯•æ ¹æ®å…¶ä»–æ–‡æ¡£æ¥åˆ†æï¼Œèƒ½è®©æˆ‘ä»¬æ›´å¥½çš„äº†è§£è¿™ä¸ªæ¡†æ¶çš„èƒŒåï¼Œäº†è§£è¿™ç§çƒ­æ›´æ–°çš„ä¼˜ç¼ºç‚¹ã€‚</li></ul><h2 id="ä¸Šé¢æåˆ°çš„å†…å®¹-2">ä¸Šé¢æåˆ°çš„å†…å®¹</h2><ul><li><a href="https://github.com/Tencent/InjectFix">InjectFix</a> C# çƒ­æ›´æ–°</li><li><a href="https://github.com/0xd4d/dnSpy">dnSpy</a> .Net åç¼–è¯‘ç¼–è¾‘å™¨</li><li><a href="https://github.com/jbevain/cecil">Mono.Cecil</a> åŸºäº IL åˆ†æç¨‹åºé›†çš„åº“ï¼ŒdnSpy ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªåº“æ¥åˆ†æçš„ã€‚</li></ul><h1>è‡ªé¡¶å‘ä¸‹ï¼Œå†è‡ªåº•å‘ä¸Š</h1><p>æ¸¸æˆå¼€å‘å¾ˆå¤šæŠ€æœ¯éƒ½å€šé‡äºç¡¬ä»¶çš„èƒ½åŠ›ï¼Œå› æ­¤æˆ‘ä»¬æœ‰å¿…è¦å¯¹è¿™äº›ç¡¬ä»¶çš„å®ç°å’ŒåŸç†æœ‰æ‰€äº†è§£ã€‚ä½†è¿™æ–¹é¢ä¹Ÿæ˜¯æˆ‘çš„å¼±ç‚¹ï¼Œæˆ‘ä¸ªäººå–œæ¬¢æŒ‰ç…§å…´è¶£æ¥å­¦ï¼Œå› æ­¤æˆ‘çš„æ€»ç»“çš„æ–¹æ³•æ˜¯ï¼š<strong>è‡ªé¡¶å‘ä¸‹ï¼Œå†è‡ªåº•å‘ä¸Š</strong>ã€‚</p><p>å°±å¦‚ä¸Šé¢çƒ­æ›´æ–°çš„ä¾‹å­ä¸€èˆ¬ï¼Œ<strong>è‡ªé¡¶å‘ä¸‹</strong>å°±æ˜¯æ­å¼€æŠ½è±¡çš„é¢çº±ï¼Œä»æ„Ÿå…´è¶£çš„æ¡†æ¶æˆ–åº“çš„åº”ç”¨å…¥æ‰‹ï¼Œé€æ­¥é€šè¿‡å„ç§æ–¹å¼æ¥äº†è§£åº•å±‚çš„åŸç†ã€‚</p><p>æ‹¿ DOTS æŠ€æœ¯æ ˆåšä¾‹å­ï¼ŒECS çš„ç¼–ç¨‹æ¨¡å¼ä¿è¯æ•°æ®çº¿æ€§åœ°æ’åˆ—åœ¨å†…å­˜ä¸­ï¼Œæ°å¥½èƒ½å†…å­˜ cache ç¼“å­˜å‘½ä¸­ç‡ï¼Œä»è€Œå¾—åˆ°æ›´é«˜æ•ˆçš„æ•°æ®è¯»å–ã€‚æ›´å¤šç»†ææœ«èŠ‚å¯ä»¥å…ˆæ”¾ä¸€æ—ï¼Œä¾‹å¦‚ Shared components è¿™ç§ä¸ç†å¿µä¸ç›¸ç¬¦çš„å…±äº«ç»„ä»¶æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p><p>çŸ¥é“äº†å†…å­˜ cache ç¼“å­˜å‘½ä¸­ç‡åœ¨å…¶ä¸­å‘æŒ¥å·¨å¤§ä½œç”¨åï¼Œæˆ‘åˆ·<a href="https://www.zhihu.com/question/352847684/answer/889567006">çŸ¥ä¹</a>è¿˜å‘ç°ï¼ŒDisruptor åº“ä¸ºäº†å¯¹é½ 128 ä¸ªå­—èŠ‚æ–¹ä¾¿ CPU cache line ç”¨ï¼Œé€‰æ‹©æµªè´¹ç©ºé—´æé«˜ç¼“å†²å‘½ä¸­ç‡ã€‚</p><p>åˆ°åº•å†…å­˜çš„ç»“æ„æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿç¼“å­˜å‘½ä¸­ç‡åˆæ˜¯ä»€ä¹ˆï¼Ÿå­—èŠ‚å¯¹é½åˆæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¿™æ ·çš„åšæ³•èƒ½æé«˜æ€§èƒ½ï¼Ÿå¸¦ç€ç§ç§ç–‘é—®ï¼Œæˆ‘ä»¬å¼€å§‹<strong>è‡ªåº•å‘ä¸Š</strong>åœ°äº†è§£å†…å­˜ç»“æ„ã€‚</p><p>ä»æ„Ÿå…´è¶£çš„åº”ç”¨å…¥æ‰‹ï¼Œäº†è§£ç¡¬ä»¶åº•å±‚ï¼Œè¿™æ ·ä¸è‡³äºå¤ªæ¯ç‡¥ã€‚å­¦åˆ°ä¸€å®šç¨‹åº¦ï¼Œå½“æˆ‘ä»¬æŠŠçŸ¥è¯†ç½‘ä¸­é‡è¦çš„å‡ ä¸ªæ¦‚å¿µéƒ½äº†è§£ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å†é˜…è¯»ç›¸å…³æ“ä½œç³»ç»Ÿçš„ä¹¦ï¼Œå°†å‘¨è¾¹çš„çŸ¥è¯†ç‚¹ä¸ä¹‹å‰æ¯”è¾ƒå¤§çš„æ¦‚å¿µç›¸è¿æ¥ï¼Œäº’ç›¸å°è¯ï¼Œä»è€Œç»“æˆç»“å®çš„çŸ¥è¯†å›¾è°±ã€‚</p><p>ä¸€å¼€å§‹æˆ‘æƒ³é‡æ–°æ¡èµ·<a href="https://book.douban.com/subject/20260928/">ã€Šç¼–ç ï¼šéšåŒ¿åœ¨è®¡ç®—æœºè½¯ç¡¬ä»¶èƒŒåçš„è¯­è¨€ã€‹</a>è¿™æœ¬ä¹¦ï¼Œè¿™æœ¬ä¹¦ä»æ‰‹ç”µç­’èŠå¤©å¼€å§‹ï¼Œä¾æ¬¡è®²äº†æ‘©æ–¯ç”µç ã€äºŒè¿›åˆ¶ã€å†åˆ°ç»§ç”µå™¨ç”µè·¯ã€ç»„åˆæˆ CPU ç­‰ç­‰ï¼Œèƒ½è§£ç­”æˆ‘çš„ç–‘æƒ‘ï¼Œä½†æ˜¯åæ¥å‘ç°èŠ‚å¥åæ…¢ã€‚äºæ˜¯åˆçœ‹äº† <a href="https://www.bilibili.com/video/av21376839?p=9">Crash Course Computer Scienceï¼ˆè®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ï¼‰</a> ä¸­è®² CPU çš„ä¸€é›†ï¼Œè§‰å¾—èŠ‚å¥éå¸¸å¥½ï¼Œé€šè¿‡ 12 åˆ†é’Ÿè§†é¢‘è®²è§£é™¤æ³•ç”µè·¯ã€ç¼“å­˜ã€æµæ°´çº¿è®¾è®¡ã€å¹¶è¡Œç­‰æ¦‚å¿µï¼Œæ­å¼€è®¡ç®—æœºä¸€å±‚ä¸€å±‚çš„æŠ½è±¡ï¼Œæˆ‘è®¤ä¸ºè¿™æ˜¯è‡ªåº•å‘ä¸Šæœ€å¥½çš„æ•™æã€‚å¦å¤–åœ¨çŸ¥ä¹åˆ·åˆ°ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://zhuanlan.zhihu.com/p/83449008">ã€Šå¸¦ä½ æ·±å…¥ç†è§£å†…å­˜å¯¹é½æœ€åº•å±‚åŸç†ã€‹</a>ä¹Ÿæ˜¯å¾ˆå¥½çš„ä½æ–™ã€‚</p><p>äº†è§£äº†ç¡¬ä»¶åŸç†ä¹‹åï¼Œè¿™ç§ä¼˜åŒ–èƒ½å¸¦åˆ°å®è·µä¸­å—ï¼Ÿä¸€ç»´æ•°ç»„çš„é¡ºåºè®¿é—®æ¯”é€†åºè®¿é—®è¦å¿«ï¼Œé‚£ä¹ˆäºŒç»´æ•°ç»„å‘¢ï¼Ÿ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TestCache</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">int</span> LINE = <span class="number">10240</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">const</span> <span class="built_in">int</span> COLUMN = <span class="number">10240</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">int</span>[,] array = <span class="keyword">new</span> <span class="built_in">int</span>[LINE, COLUMN];</span><br><span class="line">Stopwatch stopwatch = <span class="keyword">new</span> Stopwatch();</span><br><span class="line">stopwatch.Start();</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; LINE; i++)  <span class="comment">// 344 ms</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; COLUMN; j++)</span><br><span class="line">&#123;</span><br><span class="line">array[i, j] = i + j; <span class="comment">// ä¸€è¡Œä¸€è¡Œè®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stopwatch.Stop();</span><br><span class="line">Debug.Log(<span class="string">&quot;ç”¨æ—¶1ï¼š&quot;</span> + stopwatch.ElapsedMilliseconds + <span class="string">&quot; ms&quot;</span>); </span><br><span class="line">stopwatch.Restart();</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; LINE; i++) <span class="comment">// 1274 ms</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> j = <span class="number">0</span>; j &lt; COLUMN; j++)</span><br><span class="line">&#123;</span><br><span class="line">array[j, i] = i + j; <span class="comment">// ä¸€åˆ—ä¸€åˆ—è®¿é—®</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stopwatch.Stop();</span><br><span class="line">Debug.Log(<span class="string">&quot;ç”¨æ—¶2ï¼š&quot;</span> + stopwatch.ElapsedMilliseconds + <span class="string">&quot; ms&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€è¡Œä¸€è¡Œè®¿é—®å’Œä¸€åˆ—ä¸€åˆ—è®¿é—®çš„æ•ˆç‡å¾ˆæ˜æ˜¾ä¸ä¸€æ ·ï¼Œè‡ªæ­¤ï¼Œæˆ‘ä»¬è‡ªåº•å‘ä¸Šåœ°æŠŠå¯¹ç¡¬ä»¶çš„äº†è§£åæ˜ åˆ°äº†å®é™…ç¼–ç ä¸­ã€‚</p><p>ç”±äºè‡ªå·±å°±æ˜¯å…´è¶£å¯¼å‘çš„å­¦ä¹ ï¼Œæ‰€ä»¥å­¦ä¸œè¥¿éš¾å…æœ‰æ‰€åç§‘ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºåªè¦æ„Ÿå…´è¶£çš„å¤Ÿå¤šï¼Œå°±ä¸æ€•åç§‘ï¼ˆç¬‘ã€‚æ¯ä¸ªäººæœ‰è‡ªå·±å­¦ä¹ çš„èŠ‚å¥ï¼Œåœ¨è¿™é‡Œåªæ˜¯æä¾›ä¸€ç§æ€è·¯ã€‚</p><h2 id="ä¸Šé¢æåˆ°çš„å†…å®¹-3">ä¸Šé¢æåˆ°çš„å†…å®¹</h2><ul><li><a href="http://frankorz.com/2019/05/07/simple-talk-unity-dots/">ã€ŠUnity DOTS èµ°é©¬è§‚èŠ±ã€‹</a></li><li><a href="https://www.zhihu.com/question/352847684/answer/889567006">ä½ åœ¨å¼€æºé¡¹ç›®é‡Œçœ‹åˆ°è¿‡å“ªäº›ç²¾é«“çš„ä»£ç ç‰‡æ®µï¼Ÿ</a></li><li><a href="https://book.douban.com/subject/20260928/">ã€Šç¼–ç ï¼šéšåŒ¿åœ¨è®¡ç®—æœºè½¯ç¡¬ä»¶èƒŒåçš„è¯­è¨€ã€‹</a></li><li><a href="https://www.bilibili.com/video/av21376839?p=9">Crash Course Computer Scienceï¼ˆè®¡ç®—æœºç§‘å­¦é€Ÿæˆè¯¾ï¼‰</a>ç¬¬ä¹é›†ï¼šé«˜çº§ CPU è®¾è®¡<ul><li>å»ºè®®ç©ºé—²çš„åŒå­¦ä»ç¬¬ä¸€é›†å¼€å§‹çœ‹èµ·ï¼Œå†…å®¹ååˆ†è¯¦å®æœ‰è¶£ã€‚</li></ul></li><li><a href="https://zhuanlan.zhihu.com/p/83449008">ã€Šå¸¦ä½ æ·±å…¥ç†è§£å†…å­˜å¯¹é½æœ€åº•å±‚åŸç†ã€‹</a>ï¼Œå…¶ä¸“æ ä¹Ÿæ˜¯ä¸ªå®è—ä¹‹åœ°ã€‚</li></ul><h1>æ‰¾åˆ°é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼</h1><p>è¯´èµ·æ¥å®¹æ˜“ï¼Œä½†æ˜¯è¦è¿ç”¨ä¹‹å‰ï¼Œæˆ‘é¦–å…ˆéœ€è¦çŸ¥é“å­¦ä¹ è¿™ç§çŸ¥è¯†çš„é€”å¾„æœ‰å“ªäº›ï¼Œæ‰èƒ½ä»ä¸­é€‰æ‹©æœ€é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼ã€‚</p><p>æ‹¿ Unity ä¸­çš„æ¸²æŸ“æ¥è¯´ï¼Œæˆ‘èƒ½é€šè¿‡ç›¸å…³å®˜æ–¹æ–‡æ¡£æ¥å­¦ï¼Œèƒ½é€šè¿‡çœ‹åšæ–‡æ¥äº†è§£ï¼Œä¹Ÿèƒ½é€šè¿‡ Direct3Dã€OpenGL ç›¸å…³æ•™ç¨‹æ¥å­¦ï¼Œæˆ–è€…é‡æ–°æ‹¿èµ·å›¾å½¢å­¦çš„ä¹¦æœ¬ï¼Œå› ä¸ºéƒ½ä¼šæ¶‰åŠåˆ°æ¸²æŸ“æµæ°´çº¿çš„çŸ¥è¯†ã€‚</p><p>é‚£ä¹ˆæ€ä¹ˆæ ·çš„æ‰ç®—æ˜¯é€‚åˆè‡ªå·±çš„å­¦ä¹ æ–¹å¼å‘¢ï¼Ÿæœ‰çš„åŒå­¦å¯èƒ½å–œæ¬¢å…ˆæŠŠç†è®ºåƒä¸€éå†æ¥å®æˆ˜ï¼Œæˆ‘å–œæ¬¢é€šè¿‡åŠ¨æ‰‹æ¥äº†è§£ã€‚æˆ‘å°è¯•è·Ÿç€ LearnOpenGL æ•™ç¨‹å’Œä¸€äº› Shader æ•™ç¨‹æ¥å­¦ä¹ æ¸²æŸ“ç®¡çº¿çš„çŸ¥è¯†ï¼Œä¹Ÿåˆè¯† Batchï¼ˆæ‰¹æ¬¡ï¼‰ã€GPU Instancing ç­‰åè¯ï¼Œä½†æ˜¯ä¸åŒæ•™ç¨‹éƒ½æœ‰ä¸åŒä¾§é‡ï¼šShader æ•™ç¨‹å¯èƒ½ç€é‡æ•™ä½ å¦‚ä½•å®ç°å„ç§æ•ˆæœï¼Œè€Œå›¾å½¢å­¦è¯¾ç¨‹å¯èƒ½å¯¹è¿™äº›åè¯çš„èƒŒåå®ç°è¯­ç„‰ä¸è¯¦ã€‚</p><p>ä¹‹åä¸€ç›´å‹ç€ç–‘æƒ‘ä½¿ç”¨ç€è¿™äº›æŠ€æœ¯ï¼Œæˆ‘åæ¥åˆå‘ç°äº†ä¸€äº›é€‰æ‹©ï¼šè¦ä¸è‡ªå·±å†™ä¸€å¥—è½¯æ¸²æŸ“å™¨ï¼Ÿåˆæˆ–è€…æˆ‘å¯ä»¥é€šè¿‡ Unity æ–°å‡ºçš„ Scriptable Render Pipelineï¼ˆå¯ç¼–ç¨‹æ¸²æŸ“ç®¡çº¿ï¼‰æ¥è‡ªå®šä¹‰ä¸€å¥—è‡ªå·±çš„æ¸²æŸ“ç®¡çº¿ï¼Ÿè¿™ä¼¼ä¹å·²ç»å¾ˆé è¿‘æˆ‘æƒ³å­¦çš„ä¸œè¥¿äº†ï¼Œå†è€ƒè™‘è‡ªå·±çš„æ—¶é—´å’Œå…´è¶£ï¼Œæˆ‘å†³å®šè·Ÿç€ catlikecoding çš„ SRP æ•™ç¨‹å†™ä¸€ä¸ªå¯ç¼–ç¨‹æ¸²æŸ“ç®¡çº¿ï¼Œå°è¯•ä»¥ä¸€ç§è¾ƒåº•å±‚çš„è§’åº¦æ¥äº†è§£æ¸²æŸ“ç®¡çº¿ç›¸å…³çš„å®ç°ã€‚</p><h2 id="ä¸Šé¢æåˆ°çš„å†…å®¹-4">ä¸Šé¢æåˆ°çš„å†…å®¹</h2><ul><li>LearnOpenGL <a href="https://learnopengl.com/">è‹±æ–‡ç‰ˆ</a> <a href="https://learnopengl-cn.github.io/">ä¸­æ–‡ç‰ˆ</a></li><li><a href="https://book.douban.com/subject/26821639/">ã€ŠUnity Shader å…¥é—¨ç²¾è¦ã€‹</a></li><li>å›¾å½¢å­¦ï¼š<a href="https://www.scratchapixel.com/">Scratchapixel</a></li><li>Scriptable Render Pipeline å¯ç¼–ç¨‹æ¸²æŸ“ç®¡çº¿ï¼ˆç›®å‰åœ¨å­¦ catlikecoding çš„æ•™ç¨‹ï¼‰ï¼š<ul><li><a href="https://catlikecoding.com/unity/tutorials/custom-srp/">Custom SRP</a> ï¼ˆUnity 2019 and laterï¼‰</li><li><a href="https://catlikecoding.com/unity/tutorials/scriptable-render-pipeline/">Scriptable Render Pipeline</a>ï¼ˆUnity 2018ï¼‰</li></ul></li></ul><p>å•°å—¦äº†è¿™ä¹ˆå¤šï¼Œå…¶å®åªæ˜¯æƒ³åˆ†äº«ä¸‹æˆ‘å­¦ä¹ çš„ç»éªŒï¼šæ­£æ‰€è°“æ›²é«˜å’Œå¯¡ï¼Œè¶Šæ˜¯è¿›é˜¶çš„çŸ¥è¯†ç‚¹ï¼Œæ•™ç¨‹é£æ ¼è¶Šäº”èŠ±å…«é—¨ï¼Œå½“ç„¶ä¹Ÿä¼šè¶Šå°‘äººå†™ã€‚æ¯ä¸ªäººæœ‰è‡ªå·±çš„å­¦ä¹ é£æ ¼ï¼Œå°½é‡å¤šæ‹“å±•è‡ªå·±çš„çŸ¥è¯†æ¥æºï¼Œä¸è¦å°†è‡ªå·±é™åˆ¶åœ¨å›½å†…æ•™ç¨‹å’Œä¹¦ç±ä¸­ã€‚</p><p>å¦‚ä½•æ‰©å±•çŸ¥è¯†æ¥æºå‘¢ï¼Ÿ</p><ul><li>å›½å†…å¤–å‡ºç‰ˆç¤¾ä¹¦ç±ï¼ˆæ­¤å¤„æ¨èè‹±å­å§å†™çš„<a href="https://mp.weixin.qq.com/s?__biz=MzI4NTE4MzMwOA==&amp;mid=2651741950&amp;idx=1&amp;sn=1c6401735cfd47a9bb2d59ee2ae5bb2b&amp;chksm=f00ae2ddc77d6bcbc2d36dac9de7bcf4b192a4838369cfd5270451620f056b7ffda4f50f9031&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1575337559586&amp;sharer_shareid=8d96f389de807cb2e9daef47a949d4f8&amp;key=7ded8ce4ce1a7d9e0f5711b5b430edae80ad959ba6b208a010948a08d253c4532e8231c2af04f5331ec4b2ff80034f7f9bb1969dcf727b8823b887f74fa9ef9dac7bdf29681b69880a482c3a30cd8983&amp;ascene=1&amp;uin=MTg1NzQzNDYyMQ%3D%3D&amp;devicetype=Windows+10&amp;version=62070158&amp;lang=zh_CN&amp;pass_ticket=fdAgvNNteCyTRuP%2BDBSnsadU1Thl59Kp5fPRiLirDhI1Tu0z3v40XkHlORu3UAYk">ã€Šç¨‹åºå‘˜æœ€å–œæ¬¢çš„æŠ€æœ¯ä¹¦å¤§éƒ½å‡ºè‡ªè¿™ 20 å®¶å‡ºç‰ˆç¤¾ã€‹</a>ï¼‰<ul><li><a href="https://learning.oreilly.com/home/">Oâ€™Relly Learning</a> çš„ä¹¦ç±åˆ†ç±»åšçš„æ¯”è¾ƒå¥½ï¼Œå¯ä»¥æ‹¿æ¥å…³æ³¨æ–°ä¹¦çš„å‡ºç‰ˆã€‚</li><li>å…³æ³¨å›½å†…å‡ºç‰ˆç¤¾çš„ä¹¦è®¯</li></ul></li><li>å…³æ³¨ Youtube åšä¸»ã€åšå®¢åšä¸»ã€çŸ¥ä¹ä¸“æ ç­‰ï¼ˆæˆ‘é€šè¿‡ RSS è®¢é˜…ï¼‰</li><li>Github çœ‹æœ‰æ²¡æœ‰äººä¸Šä¼ è‡ªå·±çš„ Demoï¼Œä¾‹å¦‚ä¸€ä¸ª<a href="https://github.com/zhing2006/GPU-Ray-Tracing-in-One-Weekend-by-Unity-2019.3">å°å‹çš„å…‰çº¿è¿½é€å®ç°</a>ã€æˆ–è€…ä¸€ä¸ª<a href="https://github.com/CelestialAmber/Pokemon-Red-Unity">ç¥å¥‡å®è´ Unity å¤åˆ»ç‰ˆ</a>ç­‰ã€‚</li><li>çº¿ä¸‹ Meetup æŠ€æœ¯åˆ†äº«ã€‚</li></ul><p>æœ‰äº†é€‰æ‹©ï¼Œå°±å¯ä»¥æ ¹æ®è‡ªå·±å…´è¶£çˆ±å¥½æ¥è·Ÿç€å­¦ä¹ ï¼Œæƒ³åŠæ³•æŠŠä»–ä»¬å­¦åˆ°è„‘å­é‡Œï¼</p><h1>å…ˆå†™ï¼Œå†ä¼˜åŒ–</h1><p>å·¥ä½œåçš„è¿™æ®µæ—¶é—´æˆ‘ä¸€ç›´åœ¨æ€è€ƒï¼Œæˆ‘è·ç¦»ç‹¬ç«‹é€ è½®å­è¿˜å·®å¤šå°‘èƒ½åŠ›ã€‚å…ˆå†™æ¡†æ¶åˆ’åˆ†æ¨¡å—ï¼Ÿè¿˜æ˜¯å…ˆå®ç°åŠŸèƒ½ï¼Ÿå¦‚ä½•å†™å‡ºé«˜å†…èšä½è€¦åˆçš„ä»£ç ï¼ŸæŠ›å»ä»£ç å¯è¯»æ€§å’Œæ¨¡å—çš„åˆ’åˆ†ä¸è°ˆï¼Œå†™å‡ºä¸€ä¸ªè½®å­æœ€åŸºæœ¬çš„åŠŸèƒ½å¯¹äºæˆ‘å¯èƒ½éƒ½æ˜¯ä¸€ä¸ªéš¾é¢˜ã€‚</p><p>æˆ‘çš„å·¥ä½åœ¨å†™å‡ºçƒ­æ›´æ–°çš„å¤§ä½¬çš„æ—è¾¹ï¼Œä¸€å¼€å§‹å¤§ä½¬è¯´æ‹›æˆ‘çš„åŸå› ï¼Œæ˜¯å¸Œæœ›æˆ‘èƒ½æ¥å—ä»–çš„çƒ­æ›´æ–°æ¡†æ¶ï¼Œç»§ç»­ç»´æŠ¤ã€‚å¯æƒœè‡ªå·±èƒ½åŠ›ä¸å¤Ÿï¼Œçœ‹æ‡‚äº†å®ç°ï¼Œä½†æ˜¯å´æ— ä»ä¸‹æ‰‹ï¼Œä¹‹åä¹Ÿå°±ä¸äº†äº†ä¹‹ã€‚ä¸è¿‡æœ‰æ®µæ—¶é—´ï¼Œæˆ‘é—®å¤§ä½¬é—®é¢˜é—®åˆ°ä»€ä¹ˆç¨‹åº¦å‘¢ï¼Ÿæˆ‘ä¸€è½¬å¤´ç„ä¸‹ä»–ï¼Œä»–å°±ä¼šåˆ’ç€ç”µè„‘æ¤…è¿‡æ¥ç­‰æˆ‘æé—®â€¦</p><p>å¤§ä½¬åœ¨å·¥ä½œå®¤ä¸­è´Ÿè´£æˆ˜æ–—ä»¥å¤–çš„æŠ€æœ¯æ”»åšï¼Œæœ‰éœ€æ±‚çš„è¯å°±ä¼šä¸»åŠ¨å»å­¦ï¼Œå»å®ç°ï¼ŒC# çƒ­æ›´æ–°æ¡†æ¶å°±æ˜¯ä»–çš„ä½œå“ã€‚åæ¥å›¢é˜Ÿè§‰å¾—å¯èƒ½è¦é€šè¿‡å¸§åŒæ­¥æ¥é˜²å¤–æŒ‚ï¼Œä»–åˆå¼€å§‹çœ‹ç›¸å…³çš„è®ºæ–‡ï¼Œæ–‡ç« æ¥ä»å¤´å†™ï¼Œè™½ç„¶åˆ°ç°åœ¨å›¢é˜Ÿè¿˜æ²¡ç”¨ä¸Šã€‚è€³æ¿¡ç›®æŸ“ä¹‹ä¸‹ï¼Œæˆ‘ä¹Ÿä¼šè·Ÿç€å¤§ä½¬å»çœ‹å¸§åŒæ­¥ç›¸å…³çš„å†…å®¹ï¼Œæœ‰æ—¶å€™å½“å½“å°é»„é¸­ï¼Œå¸®ä»–æŸ¥æ¼è¡¥ç¼ºã€‚</p><p>**å¯¹äºé€ è½®å­ï¼Œæœ‰éœ€æ±‚ï¼Œæœ‰æ€è·¯ï¼Œå°±å…ˆå¼€å§‹å†™ï¼**è¿™æ˜¯æˆ‘è¿™æ®µæ—¶é—´ä»å¤§ä½¬èº«ä¸Šå­¦åˆ°çš„ä¸€ç‚¹ã€‚ä¾‹å¦‚ä»–è®¤ä¸ºæˆ‘ä»¬ UI çš„æ•°æ®ä¸å¥½ç®¡ç†ï¼Œäºæ˜¯å‚è€ƒäº†<a href="https://book.douban.com/subject/27074806/">ã€ŠFlux æ¶æ„ã€‹</a>å’Œå…¶ä»–æ–‡ç« ï¼Œå‡†å¤‡å°†è¿™ç§ç†å¿µä¸ Unity ç»“åˆï¼Œäºæ˜¯ä»–åˆå¼€æ–°å‘äº†ã€‚</p><p>ä»–ç»™æˆ‘çš„è¯„ä»·æ˜¯ï¼šçŸ¥è¯†é¢è¾ƒå¹¿ï¼Œå¥½å­¦ï¼Œå°±æ˜¯<strong>ä¸è‚¯å¼€å§‹å†™</strong>ã€‚</p><p>è¯´çš„æ²¡é”™ï¼Œå¤ªå¤šè€ƒè™‘åè€Œä¼šæŸæ‰‹æŸè„šï¼Œé€‚å¾—å…¶åã€‚å…ˆæŠŠåŠŸèƒ½å†™å‡ºæ¥ï¼Œè®¾è®¡æ¨¡å¼æŒ‰ç…§ç»éªŒæ¥åˆ’åˆ†ï¼Œèƒ½ç”¨äº†å†ä¼˜åŒ–ï¼Œè¿™æ˜¯åŠŸåˆ©çš„åšæ³•ï¼Œä½†ä¹Ÿæ˜¯èƒ½è®©äººé¡¾è™‘å°‘åœ°é€ è½®å­çš„åšæ³•ã€‚</p><h1>æ–°çš„å¼€å§‹</h1><p>å·¥ä½œçš„èŠ‚å¥å’Œä¸Šå­¦å®Œå…¨ä¸ä¸€æ ·ï¼Œè™½è¯´æ˜¯ 9.5 6.5 5ï¼Œä½†æ˜¯ä¸¤ä¸ªå°æ—¶çš„é€šå‹¤ä»ç„¶è®©æˆ‘æªæ‰‹ä¸åŠã€‚å…¬å¸ä¸‹ç­åƒå®Œé¥­ï¼Œå›åˆ°å®¶ä¹ç‚¹ï¼Œéšä¾¿çœ‹ç‚¹å•¥å°±åä¸€ç‚¹äº†ï¼Œæ—©ä¸Šè¿˜å¾—å…«ç‚¹å¤šèµ·â€¦</p><p><img src="http://img.frankorz.com/daxiong.jpg" alt="daxiong"></p><p>æœ€åå°è¯•æ›´æ¢äº†å‡ºè¡Œæ–¹å¼ï¼Œä»åœ°é“æ”¹æˆåå·´å£«ä¸Šç­ï¼Œè¿™æ ·æœ‰ä½ç½®åï¼Œæ‰èƒ½é™ä¸‹å¿ƒçœ‹çœ‹ä¹¦ã€‚å°½é‡æŠŠé˜…è¯»å®‰æ’åœ¨é€šå‹¤æ—¶é—´ä¸Šï¼Œè¿™æ ·æ‰èƒ½å‹‰å¼ºä¿æŒå­¦çš„è¿›åº¦ã€‚</p><p>å·¥ä½œæ–¹é¢å‹åŠ›ä¹Ÿè¿˜è¡Œï¼Œå¹³å¸¸æœ‰æ—¶é—´çš„è¯èƒ½å…³æ³¨ä¸‹ä¸šåŠ¡é€»è¾‘ä»¥å¤–çš„ä¸œè¥¿ã€‚ä¾‹å¦‚æœ‰ä¸€æ¬¡è¿è¥æ‹¿æ¥ä¸€ä¸ªæˆ‘ä»¬æ¸¸æˆçš„è„šæœ¬æ ·æœ¬ï¼Œæˆ‘èŠ±äº†ç‚¹æ—¶é—´è§£åŒ…ï¼Œå­¦äº†å­¦åç¼–è¯‘ï¼Œå†è®©è´Ÿè´£æˆ˜æ–—çš„å¤§ä½¬é’ˆå¯¹æ€§åœ°åšäº†ç‚¹é¢„é˜²ã€‚è¿™ä¸ªè¿‡ç¨‹å¯¹æˆ‘è€Œè¨€ä¹Ÿæ˜¯æ–°çš„ç»éªŒï¼Œå…¶ä¸­åº”å¯¹ iOS å¤–æŒ‚æ—¶å€Ÿé‰´äº†å›¾çµçš„<a href="https://book.douban.com/subject/34658682/">ã€Šä¹é˜´çœŸç»ï¼šiOSé»‘å®¢æ”»é˜²ç§˜ç±ã€‹</a>çš„æ€è·¯ã€‚</p><p>å‰ä¸ä¹…è½¬äº†æ­£ï¼Œç®—æ˜¯ç»™å­¦ç”Ÿæ—¶ä»£äº¤äº†ä»½ç­”å·ã€‚éšç€è§è¯†çš„å¢é•¿ï¼Œè‡ªå·±å¯¹åšæ–‡å’Œä»£ç åˆæœ‰äº†æ›´é«˜çš„è¦æ±‚ã€‚è§è¯†äº†â€œå¥½â€çš„æ–‡ç« åï¼Œè‡ªå·±æ€ä¹ˆå†™æ‰èƒ½ç»„ç»‡å¥½æ–‡ç« ï¼Œæ‰èƒ½æ›´å¥½åœ°è®²è¿°ä¸€äº›çŸ¥è¯†ç‚¹ï¼Ÿ</p><blockquote><p>æˆ‘ä»¬éœ€è¦æ”¾ä¸‹ä¹¦æœ¬ï¼Œå»å®è·µï¼Œå»ä½“éªŒï¼Œå»è§‚å¯Ÿï¼Œå»ç¢ç£¨ï¼Œå»å°è¯•ï¼Œå»åˆ›é€ ï¼Œå»è®¾è®¡ï¼Œå»stay hungry, stay foolishã€‚<br><a href="https://www.zhihu.com/question/20576786/answer/29048655">å·ç§°ç»ˆæå¿«é€Ÿå­¦ä¹ æ³•çš„è´¹æ›¼æŠ€å·§ï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·çš„å­¦ä¹ æ–¹æ³•ï¼Ÿ</a></p></blockquote><p>å­¦ä¹ ã€å®è·µã€æ€»ç»“ã€å†æ¸…æ¥šåœ°è§£è¯´ä¸€ä»¶äº‹ï¼Œå¹¶å°†å…¶å†™æˆåšæ–‡ï¼Œè¿™æ˜¯æˆ‘å¯¹æˆ‘ä¸‹ä¸€é˜¶æ®µçš„è¦æ±‚ã€‚å…¶ä¸­å­¦ä¹ æ€»ç»“çš„é€Ÿåº¦ä¹Ÿå¾—è·Ÿä¸Šï¼Œæˆ‘å·²ç»çœ‹åˆ°æœ‰è¯»è€…æŠ±æ€¨æˆ‘åšå®¢æ–­æ›´äº†â€¦â€¦</p><p>ä»Šå¹´è¯»è¿‡çš„ä¹¦ï¼š</p><ul><li><a href="https://book.douban.com/subject/30432848/">ã€ŠUnity3Dç½‘ç»œæ¸¸æˆå®æˆ˜ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹</a></li><li><a href="https://book.douban.com/subject/30280467/">ã€Šæ¸¸æˆæ¶æ„ï¼šæ ¸å¿ƒæŠ€æœ¯ä¸é¢è¯•ç²¾ç²¹ã€‹</a></li><li><a href="https://book.douban.com/subject/25843328/">ã€Šæ·±å…¥ç†è§£C#ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹</a></li><li><a href="https://book.douban.com/subject/30283996/">ã€Šåˆ©ç”¨Pythonè¿›è¡Œæ•°æ®åˆ†æ åŸä¹¦ç¬¬2ç‰ˆã€‹</a></li><li><a href="https://book.douban.com/subject/30442187/">ã€Šç™½è¯æœºå™¨å­¦ä¹ ç®—æ³•ã€‹</a></li><li><a href="https://book.douban.com/subject/26806943/">ã€Šæ¸¸æˆå®‰å…¨â€”â€”æ‰‹æ¸¸å®‰å…¨æŠ€æœ¯å…¥é—¨ã€‹</a></li><li><a href="https://book.douban.com/subject/34658682/">ã€Šä¹é˜´çœŸç»ï¼šiOSé»‘å®¢æ”»é˜²ç§˜ç±ã€‹</a></li><li><a href="https://book.douban.com/subject/27135506/">ã€Šç½‘ç»œå¤šäººæ¸¸æˆæ¶æ„ä¸ç¼–ç¨‹ã€‹</a></li><li><a href="https://book.douban.com/subject/30348061/">ã€Šè‡ªå·±åŠ¨æ‰‹å®ç°Lua : è™šæ‹Ÿæœºã€ç¼–è¯‘å™¨å’Œæ ‡å‡†åº“ã€‹</a></li><li><a href="https://book.douban.com/subject/30304759/">ã€ŠC#ä»ç°è±¡åˆ°æœ¬è´¨ã€‹</a></li></ul><p>æ˜å¹´æƒ³æ›´æ·±å…¥å¤šçº¿ç¨‹ã€å†…å­˜å¸ƒå±€ã€å’Œæ¸²æŸ“ç›¸å…³çš„è¯é¢˜ã€‚</p><p>åŠ æ²¹å§ï¼Œæ„Ÿè°¢ 2019 å¹´å¸®åŠ©è¿‡æˆ‘çš„æ‰€æœ‰äººã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä»Šå¹´å‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ï¼Œåšå®¢ä¹Ÿå› æ­¤ä»ä¸ƒæœˆåœæ›´åˆ°äº†ç°åœ¨ï¼Œå®åœ¨æƒ­æ„§â€¦ç°åœ¨è¶ç€å¹´ç»ˆï¼Œèµ¶ç´§æŠ“ä½ 2019 å¹´çš„å°¾å·´äº†ï¼Œæ¥æ€»ç»“ä¸‹æˆ‘çš„è¿™ä¸€å¹´ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡çœŸçš„ä¼šå¾ˆå•°å—¦ï¼Œä½†æ˜¯å¸Œæœ›èƒ½å¸®åˆ°å¸Œæœ›ç”¨ Unity æ°é¥­æˆ–è€…å…¶ä»–æŠ€æœ¯æ°é¥­çš„åŒå­¦ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Unity" scheme="http://frankorz.com/categories/Unity/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>æ´æ˜ Unity ECS åŸºç¡€æ¦‚å¿µ</title>
    <link href="http://frankorz.com/2019/07/14/clarify-ecs-basic-concept/"/>
    <id>http://frankorz.com/2019/07/14/clarify-ecs-basic-concept/</id>
    <published>2019-07-14T20:13:00.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>è™½ç„¶ç½‘ç»œä¸Šå·²ç»æœ‰ä¸å°‘ ECS æ–‡æ¡£çš„æ±‰åŒ–ï¼Œä½†è‡ªå·±è¯»å®˜æ–¹æ–‡æ¡£çš„æ—¶å€™ä¹Ÿä¼šäº§ç”Ÿä¸å°‘ç–‘é—®ï¼Œä¸ºæ­¤é€šè¿‡æŸ¥è¯¢å„ç§èµ„æ–™ï¼Œå†™ä¸‹æœ¬æ–‡ã€‚</p><p>æœ¬æ–‡ä» ECS å®˜æ–¹æ–‡æ¡£å‡ºå‘ï¼ŒåŠ ä¹‹å†…å­˜å¸ƒå±€ç»“æ„çš„è®²è§£ï¼ŒåŠ›æ±‚è¯»è€…èƒ½å¤Ÿå’Œåšä¸»ä¸€èµ·åƒé€ ECS ä¸­çš„åŸºæœ¬æ¦‚å¿µã€‚åŒæ—¶å»ºè®®è¯»è€…å¯ä»¥å…ˆè¯»è¯»æˆ‘çš„ä¸Šä¸€ç¯‡åšæ–‡<a href="http://frankorz.com/2019/05/07/simple-talk-unity-dots/#Entity-Component-System">ã€ŠUnity DOTS èµ°é©¬è§‚èŠ±ã€‹</a>çš„ ECS éƒ¨åˆ†ï¼Œæœ¬æ–‡ä¸å†å¤è¿°å‰æ–‡å·²ç»æåˆ°è¿‡çš„ç›¸å…³æ¦‚å¿µã€‚</p><h1>ECS ä¸ Job System</h1><p>æˆ‘è®¤ä¸ºæœ‰å¿…è¦é‡ç”³å…¶ä¸¤è€…çš„å…³ç³»ã€‚</p><ul><li>Job System èƒ½å¸®æˆ‘ä»¬æ–¹ä¾¿åœ°å†™å‡ºçº¿ç¨‹å®‰å…¨çš„å¤šçº¿ç¨‹ä»£ç ï¼Œå…¶ä¸­æ¯ä¸ªä»»åŠ¡å•å…ƒç§°ä¸º Jobã€‚</li><li>ECSï¼Œåˆç§°å®ä½“ç»„ä»¶ç³»ç»Ÿã€‚ä¸ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ç›¸æ¯”ï¼ŒECS æ˜¯ä¸€ç§åŸºäºæ•°æ®è®¾è®¡çš„ç¼–ç¨‹æ¨¡å¼ã€‚<a href="http://frankorz.com/2019/05/07/simple-talk-unity-dots/#Entity-Component-System">å‰æ–‡</a>ä»å†…å­˜ç»“æ„åˆ†æäº† OOP æ¨¡å¼çš„ç¼ºç‚¹ï¼Œä¹Ÿæåˆ°äº† ECS æ˜¯æ€ä¹ˆæ ·åŸºäºæ•°æ®çš„è®¾è®¡å†…å­˜ç»“æ„çš„ã€‚</li></ul><p>Job System æ˜¯ Unity è‡ªå¸¦çš„åº“ï¼Œè€Œè¦ä½¿ç”¨ ECS æˆ‘ä»¬éœ€è¦ä» Package Manager ä¸­å®‰è£… â€œEntitiesâ€ é¢„è§ˆåŒ…ã€‚è¿™ä¸¤è€…è™½è¯´å®Œå…¨æ˜¯ä¸¤ç§ä¸œè¥¿ï¼Œä½†æ˜¯ä»–ä»¬èƒ½å¾ˆå¥½åœ°ç›¸è¾…ç›¸æˆï¼šECS ä¿è¯æ•°æ®çº¿æ€§åœ°æ’åˆ—åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·é€šè¿‡æ›´é«˜æ•ˆçš„æ•°æ®è¯»å–ï¼Œèƒ½æœ‰æ•ˆæå‡ Job çš„æ‰§è¡Œé€Ÿåº¦ï¼ŒåŒæ—¶ä¹Ÿç»™äº† Burst ç¼–è¯‘å™¨æ›´å¤šä¼˜åŒ–çš„æœºä¼šã€‚</p><span id="more"></span><h1>Entitiesï¼ˆå®ä½“ï¼‰</h1><p>åœ¨ <code>World</code>ä¸­ï¼Œ <code>EntityManager</code> ç®¡ç†æ‰€æœ‰å®ä½“å’Œç»„ä»¶ã€‚</p><p>å½“ä½ éœ€è¦åˆ›å»ºå®ä½“å’Œä¸ºå…¶æ·»åŠ ç»„ä»¶çš„æ—¶å€™ï¼Œ <code>EntityManager</code>ä¼šä¸€ç›´è·Ÿè¸ªæ‰€æœ‰ç‹¬ç«‹çš„ç»„ä»¶ç»„åˆï¼ˆä¹Ÿå°±æ˜¯åŸå‹ Archetypeï¼‰ã€‚</p><h2 id="åˆ›å»ºå®ä½“">åˆ›å»ºå®ä½“</h2><p>æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨ç¼–è¾‘å™¨ç›´æ¥æŒ‚ä¸€ä¸ª <code>ConvertToEntity</code> è„šæœ¬ï¼Œåœ¨è¿è¡Œæ—¶ä¸­æŠŠ GameObject è½¬æˆå®ä½“ã€‚</p><p><img src="http://img.frankorz.com/5d2afb77ee64e53003.png" alt="åœ¨ç¼–è¾‘å™¨ä¸­æŒ‚è„šæœ¬ï¼ŒGameObject ä¼šåœ¨è¿è¡Œæ—¶ä¸­è½¬æˆå®ä½“"></p><p>åœ¨ç¼–è¾‘å™¨ä¸­æŒ‚è„šæœ¬ï¼ŒGameObject ä¼šåœ¨è¿è¡Œæ—¶ä¸­è½¬æˆå®ä½“</p><p>è„šæœ¬ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºç³»ç»Ÿï¼ˆSystemï¼‰å¹¶åœ¨ä¸€ä¸ª Job ä¸­åˆ›å»ºå¤šä¸ªå®ä½“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>EntityManager.CreateEntity</code> æ–¹æ³•æ¥ä¸€æ¬¡ç”Ÿæˆå¤§é‡ Entityã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢å››ç§æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªå®ä½“ï¼š</p><ul><li>ç”¨ <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/api/Unity.Entities.ComponentType.html">ComponentType</a> æ•°ç»„åˆ›å»ºä¸€ä¸ªå¸¦ç»„ä»¶çš„å®ä½“</li><li>ç”¨ <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/api/Unity.Entities.EntityArchetype.html">EntityArchetype</a> åˆ›å»ºä¸€ä¸ªå¸¦ç»„ä»¶çš„å®ä½“</li><li>ç”¨Â <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/api/Unity.Entities.EntityManager.html#Unity_Entities_EntityManager_Instantiate_Unity_Entities_Entity_">Instantiate</a> å¤åˆ¶ä¸€ä¸ªå·²å­˜åœ¨çš„å®ä½“å’Œå…¶å½“å‰çš„æ•°æ®ï¼Œ</li><li>åˆ›å»ºä¸€ä¸ªç©ºçš„å®ä½“ç„¶åå†ä¸ºå…¶æ·»åŠ ç»„ä»¶</li></ul><p>ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹æ³•ä¸€æ¬¡æ€§åˆ›å»ºå¤šä¸ªå®ä½“ï¼š</p><ul><li>ç”¨ <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/api/Unity.Entities.EntityManager.html#Unity_Entities_EntityManager_CreateEntity">CreateEntity</a> æ¥åˆ›å»ºç›¸åŒåŸå‹ï¼ˆarchetypeï¼‰çš„å®ä½“å¹¶å¡«æ»¡ä¸€ä¸ª NativeArray ï¼ˆè¦å¤šå°‘å®ä½“å°±æå‰è®¾å®šå¥½ NativeArray çš„é•¿åº¦ï¼‰</li><li>ç”¨ <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/api/Unity.Entities.EntityManager.html#Unity_Entities_EntityManager_Instantiate_Unity_Entities_Entity_">Instantiate</a> æ¥å¤åˆ¶ä¸€ä¸ªå·²å­˜åœ¨çš„å®ä½“å¹¶å¡«æ»¡ä¸€ä¸ª NativeArray</li><li>ç”¨ <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/api/Unity.Entities.EntityManager.html#Unity_Entities_EntityManager_CreateChunk_">CreateChunk</a> æ¥æ˜¾å¼åˆ›å»ºå†…å­˜å—ï¼ˆChunksï¼‰ï¼Œå¹¶ä¸”å¡«å…¥è‡ªå®šæ•°é‡çš„ç»™å®šåŸå‹çš„å®ä½“</li></ul><h2 id="å¢åŠ å’Œç§»é™¤ç»„ä»¶">å¢åŠ å’Œç§»é™¤ç»„ä»¶</h2><p>å®ä½“è¢«åˆ›å»ºä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ å’Œç§»é™¤å…¶ç»„ä»¶ã€‚å½“æˆ‘ä»¬è¿™æ ·åšçš„æ—¶å€™ï¼Œç›¸å…³è”çš„åŸå‹ï¼ˆArchetypeï¼‰å°†ä¼šè¢«æ”¹å˜ï¼Œ <code>EntityManager</code> ä¹Ÿéœ€è¦æ”¹å˜å†…å­˜å¸ƒå±€ï¼Œå°†å—å½±å“çš„æ•°æ®ç§»åˆ°æ–°çš„å†…å­˜å—ï¼ˆnew Chunk of memoryï¼‰ï¼ŒåŒæ—¶ä¹Ÿä¼šå‹ç¼©åŸæ¥å†…å­˜å—ä¸­çš„ç»„ä»¶æ•°ç»„ã€‚</p><p>å¯¹å®ä½“çš„ä¿®æ”¹ä¼šå¸¦æ¥å†…å­˜ç»“æ„çš„æ”¹å˜ã€‚</p><p>å®ä½“çš„ä¿®æ”¹åŒ…æ‹¬ï¼š</p><ul><li>å¢åŠ å’Œç§»é™¤ç»„ä»¶</li><li>æ”¹å˜ <code>SharedComponentData</code>çš„å€¼</li><li>å¢åŠ å’Œåˆ é™¤å®ä½“</li></ul><p>è¿™äº›æ“ä½œéƒ½ä¸èƒ½æ”¾åˆ° Job ä¸­æ‰§è¡Œï¼Œå› ä¸ºè¿™äº›éƒ½ä¼šæ”¹å˜å†…å­˜ä¸­çš„æ•°æ®ç»“æ„ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦ç”¨åˆ°å‘½ä»¤ï¼ˆCommandsï¼‰æ¥ä¿å­˜è¿™äº›æ“ä½œï¼Œå°†è¿™äº›æ“ä½œå­˜åˆ° <code>EntityCommandBuffer</code> ä¸­ï¼Œç„¶ååœ¨ Job å®Œæˆåå†ä¾æ¬¡æ‰§è¡Œ <code>EntityCommandBuffer</code> ä¸­å‚¨å­˜çš„æ“ä½œã€‚</p><h1>Worldï¼ˆä¸–ç•Œï¼‰</h1><p>æ¯ä¸€ä¸ª <code>World</code> åŒ…å«ä¸€ä¸ª <code>EntityManager</code> å’Œä¸€ç³»åˆ—çš„ <code>ComponentSystem</code>ã€‚ä¸€ä¸ªä¸–ç•Œä¸­çš„å®ä½“ã€åŸå‹ã€ç³»ç»Ÿç­‰éƒ½ä¸èƒ½è¢«å¦å¤–ä¸€ä¸ªä¸–ç•Œè®¿é—®åˆ°ã€‚ä½ å¯ä»¥åˆ›å»ºå¾ˆå¤š <code>World</code> ï¼Œä¾‹å¦‚é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨æˆ–åˆ›å»ºä¸€ä¸ªè´Ÿè´£ä¸»è¦é€»è¾‘è¿ç®—çš„ simulation <code>World</code> å’Œè´Ÿè´£å›¾å½¢æ¸²æŸ“çš„ rendering <code>World</code> æˆ– presentation <code>World</code>ã€‚</p><p>å½“æˆ‘ä»¬ç‚¹å‡»è¿è¡ŒæŒ‰é’®è¿›å…¥ <strong>Play Mode</strong> æ—¶ï¼ŒUnity ä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ª <code>World</code>ï¼Œå¹¶ä¸”å¢åŠ é¡¹ç›®ä¸­æ‰€æœ‰å¯ç”¨çš„ <code>ComponentSystem</code>ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å…³é—­é»˜è®¤çš„ <code>World</code> ä»è€Œè‡ªå·±åˆ›å»ºä¸€ä¸ªã€‚</p><ul><li><strong>Default World creation code</strong>Â (see file:Â <em>Packages/com.unity.entities/Unity.Entities.Hybrid/Injection/DefaultWorldInitialization.cs</em>)</li><li><strong>Automatic bootstrap entry point</strong>Â (see file:<em>Packages/com.unity.entities/Unity.Entities.Hybrid/Injection/AutomaticWorldBootstrap.cs</em>)</li></ul><h1>Componentsï¼ˆç»„ä»¶ï¼‰</h1><p>ECS ä¸­çš„ç»„ä»¶æ˜¯ä¸€ç§ç»“æ„ï¼Œå¯ä»¥é€šè¿‡å®ç°ä¸‹åˆ—æ¥å£æ¥å®ç°ï¼š</p><ul><li>IComponentData</li><li>ISharedComponentData</li><li>ISystemStateComponentData</li><li>ISharedSystemStateComponentData</li></ul><p><code>EntityManager</code> ä¼šç»„ç»‡æ‰€æœ‰å®ä½“ä¸­ç‹¬ç«‹çš„ç»„ä»¶ç»„åˆæˆä¸åŒçš„<strong>åŸå‹ï¼ˆArchetypesï¼‰</strong>ï¼Œè¿˜ä¼šå°†æ‹¥æœ‰åŒæ ·åŸå‹çš„æ‰€æœ‰å®ä½“çš„ç»„ä»¶ï¼ˆæ•°æ®ï¼‰å‚¨å­˜åˆ°ä¸€èµ·ï¼Œéƒ½æ”¾åˆ°åŒä¸€ä¸ª**å†…å­˜å—ï¼ˆChunksï¼‰**ä¸­ã€‚</p><p>å¦‚æœä½ ä¸ºä¸€ä¸ªå®ä½“æ–°å¢äº†ä¸€ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆå…¶åŸå‹å°±æ”¹å˜äº†ï¼Œå®ä½“çš„æ•°æ®ä¹Ÿéœ€è¦ä»åŸæ¥çš„å†…å­˜å—ç§»åˆ°æ–°çš„å†…å­˜å—ï¼Œå› ä¸ºåªæœ‰ç›¸åŒåŸå‹çš„å®ä½“æ•°æ®æ‰ä¼šæ”¾åˆ°ç›¸åŒçš„å†…å­˜å—ä¸­ã€‚</p><p>ä¸€ä¸ªåŸå‹ç”±å¾ˆå¤šä¸ªå†…å­˜å—ç»„æˆï¼Œè¿™äº›å†…å­˜å—ä¸­å­˜çš„éƒ½æ˜¯æ‹¥æœ‰ç›¸åŒåŸå‹çš„å®ä½“ã€‚</p><p><img src="http://img.frankorz.com/5cd16af8d2324.png" alt=""></p><h2 id="General-Purpose-Componentï¼ˆæ™®é€šç”¨é€”ç»„ä»¶ï¼‰">General Purpose Componentï¼ˆæ™®é€šç”¨é€”ç»„ä»¶ï¼‰</h2><p>è¿™é‡ŒæŒ‡çš„æ˜¯æœ€æ™®é€šçš„ç»„ä»¶ï¼Œå¯ä»¥é€šè¿‡å®ç° <code>IComponentData</code> æ¥å£æ¥åˆ›å»ºã€‚</p><p><code>IComponentData</code> ä¸å­˜å‚¨è¡Œä¸ºï¼Œåªå‚¨å­˜æ•°æ®ã€‚<code>IComponentData</code> è¿˜æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ˆStructï¼‰è€Œä¸æ˜¯ä¸€ä¸ªç±»ï¼ˆClassï¼‰ï¼Œè¿™æ„å‘³ç€è¢«å¤åˆ¶æ—¶é»˜è®¤æ˜¯é€šè¿‡å€¼è€Œä¸æ˜¯é€šè¿‡å¼•ç”¨ã€‚</p><p>é€šå¸¸æˆ‘ä»¬ä¼šç”¨ä¸‹é¢çš„<strong>æ¨¡å¼</strong>æ¥ä¿®æ”¹ç»„ä»¶æ•°æ®ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> transform = <span class="keyword">group</span>.transform[index]; <span class="comment">// Read</span></span><br><span class="line">    </span><br><span class="line">transform.heading = playerInput.move; <span class="comment">// Modify</span></span><br><span class="line">transform.position += deltaTime * playerInput.move * settings.playerMoveSpeed;</span><br><span class="line"></span><br><span class="line"><span class="keyword">group</span>.transform[index] = transform; <span class="comment">// Write</span></span><br></pre></td></tr></table></figure><p><code>IComponentData</code> ç»“æ„ä¸åŒ…å«æ‰˜ç®¡å¯¹è±¡ï¼ˆmanaged objectsï¼‰çš„å¼•ç”¨ï¼Œæ‰€æœ‰<code>IComponentData</code> è¢«å­˜åœ¨æ— åƒåœ¾å›æ”¶çš„<a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/manual/chunk_iteration.html">å—å†…å­˜ï¼ˆchunk memoryï¼‰</a>ä¸­ã€‚</p><p>ä½ å¯èƒ½è¿˜å¬è¿‡ä¸€ç§ç»„ä»¶æ˜¯ä¸åŒ…å«æ•°æ®ã€åªç”¨æ¥æ ‡è®°çš„â€œTagâ€ç»„ä»¶ï¼ˆTag componentï¼‰ï¼Œå…¶ç”¨é€”ä¹Ÿå¾ˆå¹¿ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°ç»™å®ä½“åŠ æ ‡è®°æ¥åŒºåˆ†ç©å®¶å’Œæ•Œäººï¼Œè¿™æ ·ç³»ç»Ÿä¸­èƒ½æ›´å®¹æ˜“é€šè¿‡ç»„ä»¶çš„ç±»å‹æ¥ç­›é€‰æˆ‘ä»¬æƒ³è¦çš„å®ä½“ã€‚å¦‚æœæˆ‘ä»¬ç»™ä¸€ä¸ªå†…å­˜å—ï¼ˆChunkï¼‰ä¸­çš„æ‰€æœ‰å®ä½“éƒ½æ·»åŠ &quot;Tagâ€œç»„ä»¶çš„è¯ï¼Œåªæœ‰å†…å­˜å—ä¸­å¯¹åº”çš„åŸå‹ä¼šä¿®æ”¹ï¼Œä¸æ·»åŠ æ•°æ®ï¼Œå› æ­¤å®˜æ–¹ä¹Ÿæ¨èåˆ©ç”¨å¥½â€Tagâ€œç»„ä»¶ã€‚</p><p>See file: /Packages/com.unity.entities/Unity.Entities/IComponentData.cs.</p><h2 id="Shared-componentsï¼ˆå…±äº«ç»„ä»¶ï¼‰">Shared componentsï¼ˆå…±äº«ç»„ä»¶ï¼‰</h2><p>Shared components æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç»„ä»¶ï¼Œä½ å¯ä»¥æŠŠæŸäº›ç‰¹æ®Šçš„éœ€è¦å…±äº«çš„å€¼æ”¾åˆ° shared component ä¸­ï¼Œä»è€Œåœ¨å®ä½“ä¸­ä¸å…¶ä»–ç»„ä»¶åˆ’åˆ†å¼€ã€‚ä¾‹å¦‚æœ‰æ—¶å€™æˆ‘ä»¬çš„å®ä½“éœ€è¦å…±äº«ä¸€å¥—æè´¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºéœ€è¦å…±äº«çš„æè´¨åˆ›å»º <code>Rendering.RenderMesh</code>ï¼Œå†æ”¾åˆ° shared components ä¸­ã€‚åŸå‹ä¸­ä¹Ÿå¯ä»¥å®šä¹‰ shared componentsï¼Œè¿™ä¸€ç‚¹å’Œå…¶ä»–ç»„ä»¶æ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">System.Serializable</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> RenderMesh : ISharedComponentData</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Mesh                 mesh;</span><br><span class="line">    <span class="keyword">public</span> Material             material;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ShadowCastingMode    castShadows;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span>                 receiveShadows;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ä½ ä¸ºä¸€ä¸ªå®ä½“æ·»åŠ ä¸€ä¸ª shared components æ—¶ï¼Œ <code>EntityManager</code> ä¼šæŠŠæ‰€æœ‰å¸¦æœ‰åŒæ · shared components çš„å®ä½“æ”¾åˆ°ä¸€ä¸ªåŒæ ·çš„å†…å­˜å—ä¸­ï¼ˆChunksï¼‰ã€‚shared components å…è®¸æˆ‘ä»¬çš„ç³»ç»Ÿå»ä¸€å¹¶å¤„ç†ç›¸ä¼¼çš„ï¼ˆæœ‰åŒæ · shared components çš„ï¼‰å®ä½“ã€‚</p><h3 id="å†…å­˜ç»“æ„">å†…å­˜ç»“æ„</h3><p><img src="http://img.frankorz.com/5d295d398f62598876.png" alt=""></p><p>æ¯ä¸ªå†…å­˜å—ï¼ˆChunkï¼‰ä¼šæœ‰ä¸€ä¸ªå­˜æ”¾ shared components ç´¢å¼•çš„æ•°ç»„ã€‚è¿™å¥è¯åŒ…å«äº†å‡ ä¸ªè¦ç‚¹ï¼š</p><ol><li>å¯¹äºå®ä½“æ¥è¯´ï¼Œæœ‰åŒæ · <code>SharedComponentData</code> çš„å®ä½“ä¼šè¢«ä¸€èµ·æ”¾åˆ°åŒæ ·çš„å†…å­˜å—ï¼ˆChunkï¼‰ä¸­ã€‚</li><li>å¦‚æœæˆ‘ä»¬æœ‰ä¸¤ä¸ªå­˜å‚¨åœ¨åŒæ ·çš„å†…å­˜å—ä¸­çš„ä¸¤ä¸ªå®ä½“ï¼Œå®ƒä»¬æœ‰åŒæ ·çš„ <code>SharedComponentData</code> ç±»å‹å’Œå€¼ã€‚æˆ‘ä»¬ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå®ä½“çš„ <code>SharedComponentData</code> çš„å€¼ï¼Œè¿™æ ·ä¼šå¯¼è‡´è¿™ä¸ªå®ä½“ä¼šè¢«ç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çš„å†…å­˜å—ä¸­ï¼Œå› ä¸ºä¸€ä¸ªå†…å­˜å—å…±äº«åŒä¸€ä¸ªæ•°ç»„çš„ <code>SharedComponentData</code> ç´¢å¼•ã€‚äº‹å®ä¸Šï¼Œä»ä¸€ä¸ªå®ä½“ä¸­å¢åŠ æˆ–è€…ç§»é™¤ä¸€ä¸ªç»„ä»¶ï¼Œæˆ–è€…æ”¹å˜ shared components çš„å€¼éƒ½ä¼šå¯¼è‡´è¿™ç§æ“ä½œçš„å‘ç”Ÿã€‚</li><li>å…¶ç´¢å¼•å­˜å‚¨åœ¨å†…å­˜å—è€Œéå®ä½“ä¸­ï¼Œå› æ­¤ <code>SharedComponentData</code> å¯¹å®ä½“æ¥è¯´æ˜¯ä½å¼€é”€çš„ã€‚</li><li>å› ä¸ºå†…å­˜å—åªéœ€è¦å­˜å…¶ç´¢å¼•ï¼Œ<code>SharedComponentData</code> çš„å†…å­˜æ¶ˆè€—å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</li></ol><p>å› ä¸ºä¸Šé¢çš„ç¬¬äºŒä¸ªè¦ç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½æ»¥ç”¨ shared componentsã€‚æ»¥ç”¨ shared components å°†è®© Unity ä¸èƒ½åˆ©ç”¨å¥½å†…å­˜å—ï¼ˆChunkï¼‰ï¼Œå› æ­¤æˆ‘ä»¬è¦é¿å…æ·»åŠ ä¸å¿…è¦çš„æ•°æ®æˆ–ä¿®æ”¹æ•°æ®åˆ° shared components ä¸­ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ Entity Debugger æ¥ç›‘æµ‹å†…å­˜å—çš„åˆ©ç”¨ã€‚</p><p><img src="http://img.frankorz.com/5d295b6d78b7f51832.png" alt=""></p><p>æ‹¿ä¸Šä¸€æ®µ RenderMesh çš„ä¾‹å­æ¥è¯´ï¼Œå…±äº«æè´¨ä¼šæ›´æœ‰æ•ˆç‡ï¼Œå› ä¸º shared components æœ‰å…¶è‡ªå·±çš„ <code>manager</code> å’Œå“ˆå¸Œè¡¨ã€‚å…¶ä¸­ <code>manager</code> å¸¦æœ‰ä¸€ä¸ªå­˜å‚¨ shared components æ•°æ®çš„è‡ªç”±åˆ—è¡¨ï¼ˆ<a href="https://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E8%A1%A8">freelist</a>ï¼‰ï¼Œå“ˆå¸Œè¡¨å¯ä»¥å¿«é€Ÿåœ°æ‰¾åˆ°ç›¸åº”çš„å€¼ã€‚å†…å­˜å—é‡Œé¢å­˜çš„æ˜¯ç´¢å¼•æ•°ç»„ï¼Œéœ€è¦æ‰¾æ•°æ®çš„æ—¶å€™å°±ä¼šä» Shared Component Manager ä¸­æ‰¾ã€‚</p><h3 id="å…¶ä»–è¦ç‚¹">å…¶ä»–è¦ç‚¹</h3><ul><li><code>EntityQuery</code> å¯ä»¥è¿­ä»£æ‰€æœ‰æ‹¥æœ‰ç›¸åŒ <code>SharedComponentData</code> çš„å®ä½“</li><li>æˆ‘ä»¬å¯ä»¥ç”¨ <code>EntityQuery.SetFilter()</code> æ¥è¿­ä»£æ‰€æœ‰æ‹¥æœ‰æŸä¸ªç‰¹å®š <code>SharedComponentData</code> çš„å®ä½“ã€‚è¿™ç§æ“ä½œå¼€é”€ååˆ†ä½ï¼Œå› ä¸º <code>SetFilter</code> å†…éƒ¨ç­›é€‰çš„åªæ˜¯ int çš„ç´¢å¼•ã€‚å‰é¢è¯´äº†æ¯ä¸ªå†…å­˜å—éƒ½æœ‰ä¸€ä¸ª<code>SharedComponentData</code> ç´¢å¼•æ•°ç»„ï¼Œå› æ­¤å¯¹äºæ¯ä¸ªå†…å­˜å—æ¥è¯´ï¼Œç­›é€‰ï¼ˆfilteringï¼‰çš„æ¶ˆè€—éƒ½æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡çš„ã€‚</li><li>æ€ä¹ˆæ ·è·å– <code>SharedComponentData</code> çš„å€¼å‘¢ï¼Ÿ<code>EntityManager.GetAllUniqueSharedComponentData&lt;T&gt;</code> å¯ä»¥å¾—åˆ°åœ¨å­˜æ´»çš„å®ä½“ä¸­ï¼ˆalive entitiesï¼‰çš„æ‰€æœ‰çš„æ³›å‹ T ç±»å‹çš„<code>SharedComponentData</code> å€¼ï¼Œç»“æœä»¥å‚æ•°ä¸­çš„åˆ—è¡¨è¿”å›ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å…¶é‡è½½çš„æ–¹æ³•è·å¾—æ‰€æœ‰å€¼çš„ç´¢å¼•ã€‚å…¶ä»–è·å–å€¼çš„æ–¹æ³•å¯ä»¥å‚è€ƒ /Packages/com.unity.entities/Unity.Entities/EntityManagerAccessComponentData.csã€‚</li><li><code>SharedComponentData</code> æ˜¯è‡ªåŠ¨å¼•ç”¨è®¡æ•°çš„ï¼Œä¾‹å¦‚åœ¨æ²¡æœ‰ä»»ä½•å†…å­˜å—æ‹¥æœ‰æŸä¸ª<code>SharedComponentData</code> ç´¢å¼•çš„æ—¶å€™ï¼Œå¼•ç”¨è®¡æ•°ä¼šç½®é›¶ï¼Œä»è€ŒçŸ¥é“è¦åˆ é™¤<code>SharedComponentData</code> çš„æ•°æ® ã€‚è¿™ä¸€ç‚¹å°±èƒ½çœ‹å‡ºå…¶åœ¨ ECS çš„ä¸–ç•Œä¸­æ˜¯éå¸¸ç‹¬ç‰¹çš„å­˜åœ¨ï¼Œæƒ³è¦æ·±å…¥äº†è§£å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« <a href="https://gametorrahod.com/everything-about-isharedcomponentdata/">ã€ŠEverything about ISharedComponentDataã€‹</a>ã€‚</li><li><code>SharedComponentData</code> åº”è¯¥å°½é‡ä¸å»æ›´æ”¹ï¼Œå› ä¸ºæ›´æ”¹ <code>SharedComponentData</code> ä¼šå¯¼è‡´å®ä½“çš„ç»„ä»¶æ•°æ®éœ€è¦å¤åˆ¶åˆ°å…¶ä»–çš„å†…å­˜å—ä¸­ã€‚</li></ul><p>ä½ ä¹Ÿå¯ä»¥è¯»è¯»è¿™ç¯‡æ›´æ·±å…¥çš„æ–‡ç« <a href="https://gametorrahod.com/everything-about-isharedcomponentdata/">ã€ŠEverything about ISharedComponentDataã€‹</a>ã€‚</p><h2 id="System-state-componentsï¼ˆç³»ç»ŸçŠ¶æ€ç»„ä»¶ï¼‰">System state componentsï¼ˆç³»ç»ŸçŠ¶æ€ç»„ä»¶ï¼‰</h2><p><code>SystemStateComponentData</code> å…è®¸ä½ è·Ÿè¸ªç³»ç»Ÿï¼ˆSystemï¼‰çš„èµ„æºï¼Œå¹¶å…è®¸ä½ åˆé€‚åœ°åˆ›å»ºå’Œåˆ é™¤æŸäº›èµ„æºï¼Œè¿™äº›è¿‡ç¨‹ä¸­ä¸ä¾èµ–ç‹¬ç«‹çš„å›è°ƒï¼ˆindividual callbackï¼‰ã€‚</p><blockquote><p>å‡è®¾æœ‰ä¸€ä¸ªç½‘ç»œåŒæ­¥ System Stateï¼Œå…¶ç›‘æ§ä¸€ä¸ª Component A çš„åŒæ­¥ï¼Œåˆ™æˆ‘åªéœ€è¦å®šä¹‰ä¸€ä¸ª SystemStateComponent SAã€‚å½“ Entity [æœ‰ Aï¼Œæ—  SA] æ—¶ï¼Œè¡¨ç¤º A åˆšæ·»åŠ ï¼Œæ­¤æ—¶æ·»åŠ  SAã€‚ç­‰åˆ° Entity [æ—  Aï¼Œæœ‰ SA] æ—¶,è¡¨ç¤º A è¢«åˆ é™¤ï¼ˆå°è¯•é”€æ¯Entity æ—¶ä¹Ÿä¼šåˆ é™¤ Aï¼‰ã€‚<br><a href="https://zhuanlan.zhihu.com/p/51289405">ã€Šæµ…å…¥æµ…å‡ºUnity ECSã€‹</a> BenzzZX</p></blockquote><p><code>SystemStateComponentData</code>  å’Œ <code>SystemStateSharedComponentData</code> è¿™ä¸¤ä¸ªç±»å‹ä¸ <code>ComponentData</code> å’Œ <code>SharedComponentData</code> ååˆ†ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯å‰è€…ä¸¤ä¸ªç±»å‹éƒ½æ˜¯ç³»ç»Ÿçº§åˆ«çš„ï¼Œä¸ä¼šåœ¨å®ä½“åˆ é™¤çš„æ—¶å€™è¢«åˆ é™¤ã€‚</p><h3 id="Motivationï¼ˆè¯±å› ï¼‰">Motivationï¼ˆè¯±å› ï¼‰</h3><p>System state components æœ‰è¿™æ ·ç‰¹æ®Šçš„è¡Œä¸ºï¼Œæ˜¯å› ä¸ºï¼š</p><ul><li>ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿æŒä¸€ä¸ªåŸºäº <code>ComponentData</code> çš„å†…éƒ¨çŠ¶æ€ã€‚ä¾‹å¦‚å·²ç»è¢«åˆ†é…çš„èµ„æºã€‚</li><li>ç³»ç»Ÿéœ€è¦é€šè¿‡å€¼æ¥ç®¡ç†è¿™äº›çŠ¶æ€ï¼Œä¹Ÿéœ€è¦ç®¡ç†å…¶ä»–ç³»ç»Ÿæ‰€é€ æˆçš„çŠ¶æ€æ”¹å˜ã€‚ä¾‹å¦‚åœ¨ç»„ä»¶ä¸­çš„å€¼æ”¹å˜çš„æ—¶å€™ï¼Œæˆ–è€…åœ¨ç›¸å…³ç»„ä»¶è¢«æ·»åŠ æˆ–è€…è¢«åˆ é™¤çš„æ—¶å€™ã€‚</li><li>â€œæ²¡æœ‰å›è°ƒâ€æ˜¯ ECS è®¾è®¡è§„åˆ™çš„é‡è¦å…ƒç´ ã€‚</li></ul><h3 id="Conceptï¼ˆæ¦‚å¿µï¼‰">Conceptï¼ˆæ¦‚å¿µï¼‰</h3><p><code>SystemStateComponentData</code> æ™®éç”¨æ³•æ˜¯é•œåƒä¸€ä¸ªç”¨æˆ·ç»„ä»¶ï¼Œå¹¶æä¾›å†…éƒ¨çŠ¶æ€ã€‚</p><p>ä¸Šé¢å¼•ç”¨çš„ç½‘ç»œåŒæ­¥çš„ä¾‹å­ä¸­ï¼ŒA å°±æ˜¯ç”¨æˆ·åˆ†é…çš„ <code>ComponentData</code>ï¼ŒSA å°±æ˜¯ç³»ç»Ÿåˆ†é…çš„ <code>SystemComponentData</code>ã€‚</p><p>ä¸‹é¢ä»¥ FooComponent ï¼ˆ<code>ComponentData</code>ï¼‰å’Œ FooStateComponentï¼ˆ<code>SystemComponentData</code>ï¼‰åšä¸»è¦ç”¨é€”çš„ç¤ºä¾‹ã€‚å‰ä¸¤ä¸ªç”¨é€”å·²ç»åœ¨å‰é¢çš„ç½‘ç»œåŒæ­¥ä¾‹å­ä¸­å‘ˆç°è¿‡ã€‚</p><h4 id="æ£€æµ‹ç»„ä»¶çš„æ·»åŠ ">æ£€æµ‹ç»„ä»¶çš„æ·»åŠ </h4><p>å¦‚æœç”¨æˆ·æ·»åŠ  FooComponent æ—¶ï¼ŒFooStateComponent è¿˜ä¸å­˜åœ¨ã€‚FooSystem ä¼šåœ¨ update ä¸­æŸ¥è¯¢ï¼Œå¦‚æœå®ä½“åªæœ‰ FooComponent è€Œæ²¡æœ‰ FooStateComponent,ï¼Œåˆ™å¯ä»¥åˆ¤æ–­è¿™ä¸ªå®ä½“æ˜¯æ–°æ·»åŠ çš„ã€‚è¿™æ—¶å€™ FooSystem ä¼šåŠ ä¸Š FooStateComponent ç»„ä»¶å’Œå…¶ä»–éœ€è¦çš„å†…éƒ¨çŠ¶æ€ã€‚</p><h4 id="æ£€æµ‹ç»„ä»¶çš„åˆ é™¤">æ£€æµ‹ç»„ä»¶çš„åˆ é™¤</h4><p>å¦‚æœç”¨æˆ·åˆ é™¤ FooComponent åï¼ŒFooStateComponent ä»ç„¶å­˜åœ¨ã€‚FooSystem ä¼šåœ¨ update ä¸­æŸ¥è¯¢ï¼Œå¦‚æœå®ä½“æ²¡æœ‰ FooComponent è€Œæœ‰ FooStateComponent,ï¼Œåˆ™å¯ä»¥åˆ¤æ–­ FooComponent å·²ç»è¢«åˆ é™¤äº†ã€‚è¿™æ—¶å€™ FooSystem ä¼šç»™åˆ é™¤ FooStateComponent ç»„ä»¶å’Œä¿®æ”¹å…¶ä»–éœ€è¦çš„å†…éƒ¨çŠ¶æ€ã€‚</p><h4 id="ç›‘æµ‹å®ä½“çš„åˆ é™¤">ç›‘æµ‹å®ä½“çš„åˆ é™¤</h4><p>é€šå¸¸ <code>DestroyEntity</code> è¿™ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥ï¼š</p><ol><li>æ‰¾åˆ°æ‰€æœ‰ç”±æŸä¸ªå®ä½“ ID æ ‡è®°çš„æ‰€æœ‰ç»„ä»¶</li><li>åˆ é™¤é‚£äº›ç»„ä»¶</li><li>å›æ”¶å®ä½“ ID ä»¥ä½œé‡ç”¨</li></ol><p>ç„¶è€Œï¼Œ<code>DestroyEntity</code> æ— æ³•åˆ é™¤ <code>SystemStateComponentData</code> ã€‚</p><p>åœ¨ä½ åˆ é™¤å®ä½“æ—¶ï¼Œ<code>EntityManager</code> <strong>ä¸ä¼š</strong>ç§»é™¤ä»»ä½• system state componentsï¼Œåœ¨å®ƒä»¬æ²¡è¢«åˆ é™¤çš„æ—¶å€™ï¼Œ<code>EntityManager</code> ä¹Ÿä¸ä¼šå›æ”¶å…¶å®ä½“çš„ ID ã€‚è¿™æ ·å…è®¸ç³»ç»Ÿï¼ˆSystemï¼‰åœ¨ä¸€ä¸ªå®ä½“è¢«åˆ é™¤çš„æ—¶å€™ï¼Œå»æ•´ç†å†…éƒ¨çš„çŠ¶æ€ï¼ˆinternal stateï¼‰ï¼Œä¹Ÿèƒ½æ¸…ç†å…³è”ç€å®ä½“ ID çš„ç›¸å…³çš„èµ„æºå’ŒçŠ¶æ€ã€‚å®ä½“ ID åªä¼šåœ¨æ‰€æœ‰ <code>SystemStateComponentData</code> è¢«åˆ é™¤çš„æ—¶å€™æ‰è¢«é‡ç”¨ã€‚</p><h2 id="Dynamic-Buffersï¼ˆåŠ¨æ€ç¼“å†²ï¼‰">Dynamic Buffersï¼ˆåŠ¨æ€ç¼“å†²ï¼‰</h2><p><code>DynamicBuffer</code> ä¹Ÿæ˜¯ç»„ä»¶çš„ä¸€ç§ç±»å‹ï¼Œå®ƒèƒ½æŠŠä¸€ä¸ªå˜é‡å†…å­˜ç©ºé—´å¤§å°çš„å¼¹æ€§çš„ç¼“å†²ï¼ˆvariable-sized, â€œstretchyâ€ bufferï¼‰å’Œä¸€ä¸ªå®ä½“å…³è”èµ·æ¥ã€‚å®ƒå†…éƒ¨å­˜å‚¨ç€ä¸€å®šæ•°é‡çš„å…ƒç´ ï¼Œä½†å¦‚æœå†…éƒ¨æ‰€å å†…å­˜ç©ºé—´å¤ªå¤§ï¼Œä¼šé¢å¤–åˆ’åˆ†ä¸€ä¸ªå †å†…å­˜ï¼ˆheap memoryï¼‰æ¥å­˜å‚¨ã€‚</p><p>åŠ¨æ€ç¼“å†²çš„å†…å­˜ç®¡ç†æ˜¯å…¨è‡ªåŠ¨çš„ã€‚ä¸ <code>DynamicBuffer</code> å…³è”çš„å†…å­˜ç”± <code>EntityManager</code> æ¥ç®¡ç†ï¼Œè¿™æ ·å½“<code>DynamicBuffer</code> ç»„ä»¶è¢«åˆ é™¤çš„æ—¶å€™ï¼Œæ‰€å…³è”çš„å †å†…å­˜ç©ºé—´ä¹Ÿä¼šè‡ªåŠ¨é‡Šæ”¾æ‰ã€‚</p><p>ä¸Šé¢çš„è§£é‡Šå¯èƒ½ç•¥æ˜¾è‹ç™½ï¼Œå®é™…ä¸Š <code>DynamicBuffer</code> å¯ä»¥çœ‹æˆä¸€ä¸ªæœ‰é»˜è®¤å¤§å°çš„æ•°ç»„ï¼Œå…¶è¡Œä¸ºå’Œæ€§èƒ½éƒ½å’Œ <code>NativeArray</code>ï¼ˆåœ¨ ECS ä¸­å¸¸ç”¨çš„æ—  GC å®¹å™¨ç±»å‹ï¼‰å·®ä¸å¤šï¼Œä½†æ˜¯å­˜å‚¨æ•°æ®è¶…è¿‡é»˜è®¤å¤§å°ä¹Ÿæ²¡å…³ç³»ï¼Œä¸Šæ–‡æåˆ°äº†ä¼šåˆ›å»ºä¸€ä¸ªå †å†…å­˜æ¥å­˜å‚¨å¤šçš„æ•°æ®ã€‚<code>DynamicBuffer</code> å¯ä»¥é€šè¿‡ <code>ToNativeArray</code> è½¬æˆ <code>NativeArray</code> ç±»å‹ï¼Œå…¶ä¸­åªæ˜¯æŠŠæŒ‡é’ˆé‡æ–°æŒ‡å‘ç¼“å†²ï¼Œä¸ä¼šå¤åˆ¶æ•°æ®ã€‚</p><p><a href="http://tsubakit1.hateblo.jp/entry/2018/11/07/234502">ã€Unityã€‘ECSã§é…åˆ—ã‚’æ ¼ç´ã™ã‚‹ Dynamic Buffers</a> è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½œè€…ç”¨<code>DynamicBuffer</code> æ¥å‚¨å­˜ä¸´è¿‘çš„åœ†æŸ±ä½“å®ä½“ï¼Œä»è€Œæ›´æ–¹ä¾¿åœ°ä¸è¿™äº›å®ä½“äº¤äº’ã€‚</p><h3 id="å®šä¹‰ç¼“å†²">å®šä¹‰ç¼“å†²</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 8 æŒ‡çš„æ˜¯ç¼“å†²ä¸­é»˜è®¤å…ƒç´ çš„æ•°é‡ï¼Œä¾‹å¦‚è¿™ä¾‹å­ä¸­å­˜çš„æ˜¯ Integer ç±»å‹</span></span><br><span class="line"><span class="comment">// é‚£ä¹ˆ 8 integers ï¼ˆ32 bytesï¼‰å°±æ˜¯ç¼“å†²çš„é»˜è®¤å¤§å°</span></span><br><span class="line"><span class="comment">// 64 ä½æœºå™¨ä¸­åˆ™å  16 bytes</span></span><br><span class="line">[<span class="meta">InternalBufferCapacity(8)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> MyBufferElement : IBufferElementData</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ä¸‹é¢çš„éšå¼è½¬æ¢æ˜¯å¯é€‰çš„ï¼Œè¿™æ ·å¯ä»¥å°‘å†™äº›ä»£ç </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">int</span>(<span class="params">MyBufferElement e</span>)</span> &#123; <span class="keyword">return</span> e.Value; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">implicit</span> <span class="keyword">operator</span> <span class="title">MyBufferElement</span>(<span class="params"><span class="built_in">int</span> e</span>)</span> &#123; <span class="keyword">return</span> <span class="keyword">new</span> MyBufferElement &#123; Value = e &#125;; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¯ä¸ªç¼“å†²å…ƒç´ è¦å­˜å‚¨çš„å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯èƒ½æœ‰ç‚¹å¥‡æ€ªï¼Œæˆ‘ä»¬è¦å®šä¹‰ç¼“å†²ä¸­å…ƒç´ çš„ç»“æ„è€Œä¸æ˜¯Â <code>Buffer</code> ç¼“å†²æœ¬èº«ï¼Œå…¶å®è¿™æ ·åœ¨ ECS ä¸­æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</p><ol><li>å¯¹äº <code>float3</code> æˆ–è€…å…¶ä»–å¸¸è§çš„å€¼ç±»å‹æ¥è¯´ï¼Œè¿™æ ·èƒ½æ”¯æŒå¤šç§ <code>DynamicBuffer</code>Â ã€‚æˆ‘ä»¬å¯ä»¥é‡ç”¨å·²æœ‰çš„ç¼“å†²å…ƒç´ çš„ç»“æ„ï¼Œæ¥å®šä¹‰å…¶ä»–çš„ <code>Buffers</code>ã€‚</li><li>æˆ‘ä»¬å¯ä»¥å°† <code>Buffer</code>Â çš„å…ƒç´ ç±»å‹åŒ…å«åœ¨ <code>EntityArchetypes</code> ä¸­ï¼Œè¿™æ ·å®ƒä¼šè¡¨ç°å¾—åƒæ‹¥æœ‰ä¸€ä¸ªç»„ä»¶ä¸€æ ·ã€‚ä¾‹å¦‚ç”¨ <code>AddBuffer()</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡ <code>entityManager.AddBuffer&lt;MyBufferElement&gt;(entity);</code> æ¥æ·»åŠ ç¼“å†²ã€‚</li></ol><h1>Systemsï¼ˆç³»ç»Ÿï¼‰</h1><p>ç³»ç»Ÿè´Ÿè´£å°†ç»„ä»¶æ•°æ®ä»ä¸€ä¸ªçŠ¶æ€ï¼ˆstateï¼‰é€šè¿‡é€»è¾‘å¤„ç†åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚ä¾‹å¦‚ç³»ç»Ÿå¯ä»¥æ ¹æ®å¸§é—´éš”å’Œå®ä½“çš„é€Ÿåº¦ï¼Œåœ¨å½“å‰å¸§æ›´æ–°æ‰€æœ‰ç§»åŠ¨å®ä½“çš„ä½ç½®ã€‚</p><p>ä¸–ç•Œåˆå§‹åŒ–åæä¾›äº†ä¸‰ä¸ªç³»ç»Ÿç»„ï¼ˆsystem groupsï¼‰ï¼Œåˆ†åˆ«æ˜¯ initializationã€simulation å’Œ presentationï¼Œå®ƒä»¬ä¼šæŒ‰é¡ºåºåœ¨æ¯å¸§ä¸­æ‰§è¡Œã€‚</p><p>ç³»ç»Ÿç»„çš„æ¦‚å¿µä¼šåœ¨ä¸‹æ–‡æåˆ°ã€‚</p><h2 id="ComponentSystemï¼ˆç»„ä»¶ç³»ç»Ÿï¼‰">ComponentSystemï¼ˆç»„ä»¶ç³»ç»Ÿï¼‰</h2><p><code>ComponentSystem</code> é€šå¸¸æŒ‡ ECS å®ä½“ç»„ä»¶ç³»ç»Ÿä¸­æœ€åŸºæœ¬çš„æ¦‚å¿µ Systemï¼Œå®ƒæä¾›è¦æ‰§è¡Œçš„æ“ä½œç»™å®ä½“ã€‚</p><p><code>ComponentSystem</code> ä¸èƒ½åŒ…å«å®ä½“çš„æ•°æ®ã€‚ä»ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼æ¥çœ‹ï¼Œå®ƒä¸æ—§çš„ Component ç±»æœ‰ç‚¹ç›¸ä¼¼ï¼Œä¸è¿‡ <code>ComponentSystem</code>  <strong>åªåŒ…å«æ–¹æ³•</strong>ã€‚</p><p>ä¸€ä¸ª <code>ComponentSystem</code>  è´Ÿè´£æ›´æ–°æ‰€æœ‰<strong>åŒ¹é…ç»„ä»¶ç±»å‹</strong>çš„å®ä½“ã€‚ä¾‹å¦‚ï¼šç³»ç»Ÿå¯ä»¥é€šè¿‡æ¡ä»¶è¿‡æ»¤æ¥è·å¾—æ‰€æœ‰æ‹¥æœ‰ Player æ ‡è®°ï¼ˆTagï¼‰å’Œä½ç½®ï¼ˆTranslationï¼‰çš„å®ä½“ï¼Œå†å¯¹è·å¾—çš„ä¸€ç³»åˆ— Player å®ä½“è¿›è¡Œå¤„ç†ã€‚å…¶ä¸­è¿™ç§æ¡ä»¶è¿‡æ»¤ç”± <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/manual/component_group.html">EntityQuery</a> ç»“æ„å®šä¹‰ã€‚</p><p><img src="http://img.frankorz.com/5d29bcddd863174576.png" alt=""></p><p>è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>ComponentSystem</code> åªåœ¨<strong>ä¸»çº¿ç¨‹</strong>ä¸­æ‰§è¡Œã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»§æ‰¿ <code>ComponentSystem</code>  æŠ½è±¡ç±»æ¥å®šä¹‰æˆ‘ä»¬çš„ç³»ç»Ÿã€‚</p><p>See file: /Packages/com.unity.entities/Unity.Entities/ComponentSystem.cs.</p><h2 id="JobComponentSystemï¼ˆä»»åŠ¡ç»„ä»¶ç³»ç»Ÿï¼‰">JobComponentSystemï¼ˆä»»åŠ¡ç»„ä»¶ç³»ç»Ÿï¼‰</h2><p>å‰æ–‡æåˆ°äº† ECS èƒ½å¾ˆå¥½çš„å’Œ JobSystem ä¸€èµ·åˆä½œï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å‹å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚<code>ComponentSystem</code> åªåœ¨<strong>ä¸»çº¿ç¨‹</strong>ä¸­æ‰§è¡Œï¼Œè€Œ <code>JobComponentSystem</code>  åˆ™èƒ½åœ¨<strong>å¤šçº¿ç¨‹</strong>ä¸­æ‰§è¡Œï¼Œæ›´èƒ½åˆ©ç”¨å¤šæ ¸çš„ä¼˜åŠ¿ã€‚</p><p><img src="http://img.frankorz.com/5d29bd129f0d058419.png" alt=""></p><h3 id="è‡ªåŠ¨åŒ–çš„-Job-ä¾èµ–ç®¡ç†">è‡ªåŠ¨åŒ–çš„ Job ä¾èµ–ç®¡ç†</h3><p><code>JobComponentSystem</code> èƒ½å¸®æˆ‘ä»¬è‡ªåŠ¨ç®¡ç†ä¾èµ–ã€‚åŸç†å¾ˆç®€å•ï¼Œæ¥è‡ªä¸åŒç³»ç»Ÿçš„ Job å¯ä»¥å¹¶è¡Œåœ°è¯»å–ç›¸åŒç±»å‹çš„ <code>IComponentData</code>ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ª Job æ­£åœ¨å†™ï¼ˆwriteï¼‰æ•°æ®ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ Job å°±ä¸èƒ½å¹¶è¡Œåœ°æ‰§è¡Œï¼Œè€Œæ˜¯è®¾å®šå®ƒä»¬çš„ä¾èµ–æ¥å®‰æ’æ‰§è¡Œé¡ºåºã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RotationSpeedSystem</span> : <span class="title">JobComponentSystem</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">BurstCompile</span>]</span><br><span class="line">    <span class="keyword">struct</span> RotationSpeedRotation : IJobForEach&lt;Rotation, RotationSpeed&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">float</span> dt;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params"><span class="keyword">ref</span> Rotation rotation, [ReadOnly]<span class="keyword">ref</span> RotationSpeed speed</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            rotation.<span class="keyword">value</span> = math.mul(math.normalize(rotation.<span class="keyword">value</span>), quaternion.axisAngle(math.up(), speed.speed * dt));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰€æœ‰å¯¹ Rotation è¯»/å†™çš„å’Œå¯¹ RotationSpeed è¿›è¡Œå†™æ“ä½œçš„</span></span><br><span class="line">        <span class="comment">// å·²ç»æ’ç¨‹çš„ Job ä¼šè‡ªåŠ¨æ”¾åˆ° JobHandle ç±»å‹çš„ä¾èµ–å¥æŸ„ inputDeps ä¸­</span></span><br><span class="line">        <span class="comment">// åœ¨æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦æŠŠè‡ªå·±çš„ Job ä¾èµ–åŠ è¿›å¥æŸ„ä¸­ï¼Œå¹¶åœ¨æ–¹æ³•æœ«å°¾è¿”å›å›æ¥ã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> JobHandle <span class="title">OnUpdate</span>(<span class="params">JobHandle inputDeps</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> job = <span class="keyword">new</span> RotationSpeedRotation() &#123; dt = Time.deltaTime &#125;;</span><br><span class="line">        <span class="keyword">return</span> job.Schedule(<span class="keyword">this</span>, inputDeps);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆè¿è¡Œçš„ï¼Ÿ">æ€ä¹ˆè¿è¡Œçš„ï¼Ÿ</h3><p>æ‰€æœ‰ Jobs å’Œç³»ç»Ÿä¼šå£°æ˜å®ƒä»¬ä¼šè¯»/å†™å“ªäº›ç»„ä»¶ç±»å‹ï¼ˆComponentTypesï¼‰ã€‚JobComponentSystem è¿”å›çš„ <a href="https://docs.unity3d.com/ScriptReference/Unity.Jobs.JobHandle.html">JobHandle</a> ä¾èµ–å¥æŸ„ä¼šè‡ªåŠ¨æ³¨å†Œåˆ° <code>EntityManager</code> ä¸­ï¼Œä»¥åŠæ‰€æœ‰åŒ…å«è¯»æˆ–å†™ï¼ˆreading or writingï¼‰ä¿¡æ¯çš„ç±»å‹ä¸­ã€‚</p><p>è¿™æ ·å¦‚æœä¸€ä¸ªç³»ç»Ÿå¯¹ Component A è¿›è¡Œå†™æ“ä½œè€Œä¹‹åå¦ä¸€ä¸ªç³»ç»Ÿä¼šå¯¹å…¶è¿›è¡Œè¯»æ“ä½œï¼Œ <code>JobComponentSystem</code> ä¼šæŸ¥è¯¢è¯»å–ï¼ˆreadingï¼‰çš„ç±»å‹åˆ—è¡¨ï¼Œç„¶åä¼ ç»™ä½ ä¸€ä¸ªä¾èµ–ã€‚ä¾èµ–åŒ…å«ç¬¬ä¸€ä¸ªç³»ç»Ÿè¿”å›çš„ JobHandleï¼Œä¹Ÿå°±æ˜¯åŒ…å«â€œä¸€ä¸ªç³»ç»Ÿå¯¹ Component A è¿›è¡Œå†™æ“ä½œâ€è¿™ä¸ªä¾èµ–ï¼Œå¹¶å°†å…¶ä½œä¸ºç¬¬äºŒä¸ªç³»ç»Ÿçš„å‚æ•°ä¼ å…¥ã€‚</p><p><code>JobComponentSystem</code> ç®€å•åœ°æŒ‰ç…§éœ€æ±‚ç»´æŠ¤ä¸€ä¸ªä¾èµ–é“¾ï¼Œè¿™æ ·ä¸ä¼šå¯¹ä¸»çº¿ç¨‹é€ æˆå½±å“ã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªé Job çš„ <code>ComponentSystem</code> è¦å­˜å–ï¼ˆaccessï¼‰ç›¸åŒçš„æ•°æ®ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿå› ä¸ºæ‰€æœ‰çš„å­˜å–éƒ½æ˜¯å£°æ˜å¥½çš„ï¼Œå› æ­¤å¯¹äºæ‰€æœ‰ <code>ComponentSystem</code> éœ€è¦è¿›è¡Œå­˜å–çš„ç»„ä»¶ç±»å‹ï¼ˆcomponent typeï¼‰ç›¸å…³è”çš„ Jobsï¼Œ<code>ComponentSystem</code> éƒ½ä¼šå…ˆè‡ªåŠ¨å®Œæˆè¿™äº›ç›¸å…³çš„ Jobsï¼Œå†åœ¨ <code>OnUpdate</code> ä¸­è°ƒç”¨ä¾èµ–ã€‚</p><h3 id="ä¾èµ–ç®¡ç†æ˜¯ä¿å®ˆçš„ï¼ˆconservativeï¼‰å’Œç¡®å®šæ€§çš„ï¼ˆdeterministicï¼‰">ä¾èµ–ç®¡ç†æ˜¯ä¿å®ˆçš„ï¼ˆconservativeï¼‰å’Œç¡®å®šæ€§çš„ï¼ˆdeterministicï¼‰</h3><p>ä¾èµ–ç®¡ç†æ˜¯ä¿å®ˆçš„ã€‚ <code>ComponentSystem</code> åªæ˜¯ç®€å•çš„è·Ÿè¸ªæ‰€æœ‰ä½¿ç”¨çš„ <code>EntityQuery</code>ï¼Œç„¶ååŸºäº <code>EntityQuery</code> å­˜å‚¨éœ€è¦è¯»æˆ–å†™çš„ç±»å‹ã€‚</p><p>å½“åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­åˆ†å‘å¤šä¸ª Jobs çš„æ—¶å€™ï¼Œä¾èµ–å¿…é¡»è¢«å‘é€åˆ°æ‰€æœ‰ Jobs ä¸­ï¼Œå³ä½¿ä¸åŒçš„ Jobs å¯èƒ½éœ€è¦æ›´å°‘çš„ä¾èµ–ã€‚å¦‚æœè¿™é‡Œè¢«è¯æ˜æœ‰æ€§èƒ½é—®é¢˜ï¼Œé‚£æœ€å¥½çš„è§£å†³æ–¹æ³•æ˜¯å°†ç³»ç»Ÿä¸€åˆ†ä¸ºäºŒã€‚</p><p>ä¾èµ–ç®¡ç†çš„æ‰‹æ®µä¹Ÿæ˜¯ä¿å®ˆçš„ã€‚å®ƒé€šè¿‡æä¾›ä¸€ä¸ªéå¸¸ç®€å•çš„ API æ¥å…è®¸ç¡®å®šæ€§å’Œæ­£ç¡®çš„è¡Œä¸ºã€‚</p><h3 id="Sync-pointsï¼ˆåŒæ­¥ç‚¹ï¼‰">Sync pointsï¼ˆåŒæ­¥ç‚¹ï¼‰</h3><p><img src="http://img.frankorz.com/5d29bd3e4103143937.png" alt=""></p><p>æ‰€æœ‰ç»“æ„æ€§çš„å˜åŒ–éƒ½æœ‰ç¡®åˆ‡çš„åŒæ­¥ç‚¹ï¼ˆhard sync pointsï¼‰ã€‚ <code>CreateEntity</code>ã€<code>Instantiate</code>ã€Â <code>Destroy</code>ã€Â <code>AddComponent</code>ã€Â <code>RemoveComponent</code>ã€<code>SetSharedComponentData</code> éƒ½æœ‰ä¸€ä¸ªç¡®åˆ‡çš„åŒæ­¥ç‚¹ã€‚è¿™ä»£è¡¨æ‰€æœ‰é€šè¿‡ <code>JobComponentSystem</code> æ’æœŸçš„ Jobs éƒ½ä¼šåœ¨åˆ›å»ºå®ä½“ä¹‹å‰è‡ªåŠ¨å®Œæˆã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä¸€å¸§ä¸­é—´çš„ <code>EntityManager.CreateEntity</code> å¯èƒ½å¸¦æ¥è¾ƒå¤§çš„<strong>åœæ»</strong>ï¼Œå› ä¸ºæ‰€æœ‰åœ¨ä¸–ç•Œä¸­çš„æå‰æ’æœŸå¥½çš„ Jobs éƒ½éœ€è¦å®Œæˆã€‚</p><p>å¦‚æœè¦åœ¨æ¸¸æˆä¸­é¿å…ä¸Šé¢æåˆ°çš„åœæ»ï¼Œå¯ä»¥ä½¿ç”¨ <code>EntityCommandBuffer</code>ã€‚</p><h3 id="Multiple-Worldsï¼ˆå¤šä¸ªä¸–ç•Œï¼‰">Multiple Worldsï¼ˆå¤šä¸ªä¸–ç•Œï¼‰</h3><p>æ‰€æœ‰ä¸–ç•Œï¼ˆWorldï¼‰éƒ½æœ‰è‡ªå·±çš„ <code>EntityManager</code> ï¼Œå› æ­¤ <code>JobHandle</code> ä¾èµ–å¥æŸ„çš„é›†åˆéƒ½æ˜¯åˆ†å¼€çš„ã€‚ä¸€ä¸ªä¸–ç•Œä¸­çš„ç¡®åˆ‡çš„åŒæ­¥ç‚¹ï¼ˆhard sync pointsï¼‰ä¸ä¼šå½±å“å¦å¤–ä¸€ä¸ªä¸–ç•Œã€‚å› æ­¤ï¼Œå¯¹äºæµå¼ä¼ è¾“å’Œç¨‹åºåŒ–ç”Ÿæˆçš„åœºæ™¯ï¼Œæœ€ååœ¨ä¸€ä¸ªä¸–ç•Œä¸­åˆ›å»ºå®ä½“ç„¶åç§»åˆ°å¦ä¸€ä¸ªä¸–ç•Œä½œä¸ºä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰å¹¶åœ¨å¸§çš„å¼€å§‹æ‰§è¡Œã€‚</p><p>å¯¹äºä¸Šé¢çš„é—®é¢˜å¯ä»¥å‚è€ƒ <a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/manual/exclusive_entity_transaction.html">ExclusiveEntityTransaction</a> å’Œ System update orderã€‚</p><h2 id="Entity-Command-Bufferï¼ˆå®ä½“å‘½ä»¤ç¼“å†²ï¼‰">Entity Command Bufferï¼ˆå®ä½“å‘½ä»¤ç¼“å†²ï¼‰</h2><p><code>EntityCommandBuffer</code> è§£å†³äº†ä¸¤ä¸ªé‡è¦é—®é¢˜ï¼š</p><ol><li>åœ¨ Job ä¸­æ— æ³•è®¿é—® <code>EntityManager</code>ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡å®ƒæ¥ç®¡ç†å®ä½“ã€‚</li><li>å½“ä½ ä½¿ç”¨ <code>EntityManager</code> æ—¶ï¼ˆä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå®ä½“ï¼‰ï¼Œä½ ä¼šä½¿æ‰€æœ‰å·²è¢«æ³¨å…¥çš„æ•°ç»„å’Œ <code>EntityQuery</code> æ— æ•ˆã€‚ï¼ˆè¿™é‡Œæ³¨å…¥çš„æ¦‚å¿µå¤§æ¦‚æ˜¯æŒ‡ï¼šç³»ç»Ÿä¸­å¯ä»¥è®¾å®šæŸä¸ªè¿‡æ»¤æ¡ä»¶ï¼Œç»™è¿‡æ»¤æ¡ä»¶åŠ ä¸Š <code>[inject]</code> åï¼Œç³»ç»Ÿä¼šåœ¨å¯åŠ¨æ—¶ä¸ºè¿™ä¸ªå±æ€§æ ¹æ®æ¡ä»¶æ³¨å…¥æ•°æ®ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚ä¼šæ— æ•ˆæ˜¯å› ä¸ºä½ ä¿®æ”¹äº†å®ä½“æ•°æ®ï¼Œé‚£ä¹ˆç»“æœå¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ã€‚ï¼‰</li></ol><p><code>EntityCommandBuffer</code> çš„æŠ½è±¡å…è®¸æˆ‘ä»¬å»æŠŠéœ€è¦å¯¹æ•°æ®çš„æ›´æ”¹ï¼ˆchangesï¼‰æ’å¥½é˜Ÿï¼Œè¿™ä¸ªæ›´æ”¹å¯ä»¥æ¥è‡ªä¸»çº¿ç¨‹æˆ–è€… Jobsï¼Œè¿™æ ·æ•°æ®å¯ä»¥æ™šä¸€ç‚¹åœ¨ä¸»çº¿ç¨‹æ¥å—æ›´æ”¹ï¼Œä»è€Œå°†å…¶å’Œè·å–æ•°æ®åˆ†ç¦»å¼€æ¥ã€‚</p><p>æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•æ¥ä½¿ç”¨ <code>EntityCommandBuffer</code> ï¼š</p><ul><li>åœ¨ä¸»çº¿ç¨‹ update çš„ <code>ComponentSystem</code> å­ç±»æœ‰ä¸€ä¸ª <code>PostUpdateCommands</code>ï¼ˆå…¶æœ¬èº«æ˜¯ä¸€ä¸ª<code>EntityCommandBuffer</code> ï¼‰ å¯ä»¥ç”¨ï¼Œæˆ‘ä»¬åªè¦ç®€å•åœ°æŠŠå˜åŒ–æŒ‰é¡ºåºæ”¾è¿›å»å³å¯ã€‚åœ¨ç³»ç»Ÿçš„ <code>Update</code> è°ƒç”¨ä¹‹åï¼Œå®ƒä¼šç«‹åˆ»è‡ªåŠ¨åœ¨ä¸–ç•Œï¼ˆWorldï¼‰ä¸­è¿›è¡Œæ‰€æœ‰æ•°æ®æ›´æ”¹ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢æ•°ç»„æ•°æ®æ— æ•ˆï¼ŒAPI ä¹Ÿå’Œ <code>EntityManager</code> å¾ˆç›¸ä¼¼ã€‚</li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">PostUpdateCommands.CreateEntity(TwoStickBootstrap.BasicEnemyArchetype);</span><br><span class="line">PostUpdateCommands.SetComponent(<span class="keyword">new</span> Position2D &#123; Value = spawnPosition &#125;);</span><br><span class="line">PostUpdateCommands.SetComponent(<span class="keyword">new</span> Heading2D &#123; Value = <span class="keyword">new</span> float2(<span class="number">0.0f</span>, <span class="number">-1.0f</span>) &#125;);</span><br><span class="line">PostUpdateCommands.SetComponent(<span class="literal">default</span>(Enemy));</span><br><span class="line">PostUpdateCommands.SetComponent(<span class="keyword">new</span> Health &#123; Value = TwoStickBootstrap.Settings.enemyInitialHealth &#125;);</span><br><span class="line">PostUpdateCommands.SetComponent(<span class="keyword">new</span> EnemyShootState &#123; Cooldown = <span class="number">0.5f</span> &#125;);</span><br><span class="line">PostUpdateCommands.SetComponent(<span class="keyword">new</span> MoveSpeed &#123; speed = TwoStickBootstrap.Settings.enemySpeed &#125;);</span><br><span class="line">PostUpdateCommands.AddSharedComponent(TwoStickBootstrap.EnemyLook);</span><br></pre></td></tr></table></figure><ul><li>å¯¹äº Jobs æ¥è¯´ï¼Œæˆ‘ä»¬å¿…é¡»ä»ä¸»çº¿ç¨‹çš„ <code>EntityCommandBufferSystem</code> ä¸­è¯·æ±‚ä¸€ä¸ª <code>EntityCommandBuffer</code>ï¼Œå†ä¼ åˆ° Job é‡Œé¢è®©å…¶è°ƒç”¨ã€‚ æ¯å½“ <code>EntityCommandBufferSystem</code>  è¿›è¡Œ updateï¼Œå‘½ä»¤ç¼“å†²éƒ½ä¼šåœ¨ä¸»çº¿ç¨‹ä¸­é‡æ–°æŠŠæ›´æ”¹æŒ‰åˆ›å»ºçš„é¡ºåºæ‰§è¡Œä¸€éã€‚è¿™æ ·å…è®¸æˆ‘ä»¬é›†ä¸­è¿›è¡Œå†…å­˜ç®¡ç†ï¼Œä¹Ÿä¿è¯äº†åˆ›å»ºçš„å®ä½“å’Œç»„ä»¶çš„ç¡®å®šæ€§ã€‚</li></ul><h3 id="Entity-Command-Buffer-Systemsï¼ˆå®ä½“å‘½ä»¤ç¼“å†²ç³»ç»Ÿï¼‰">Entity Command Buffer Systemsï¼ˆå®ä½“å‘½ä»¤ç¼“å†²ç³»ç»Ÿï¼‰</h3><p>åœ¨ä¸€ä¸ªç³»ç»Ÿç»„ä¸­ï¼Œæœ‰ä¸€ä¸ª Entity Command Buffer Systems è¿è¡Œåœ¨æ‰€æœ‰ç³»ç»Ÿç»„ä¹‹å‰ï¼Œè¿˜æœ‰ä¸€ä¸ªè¿è¡Œåœ¨æ‰€æœ‰ç³»ç»Ÿç»„ä¹‹åã€‚æ¯”è¾ƒå»ºè®®çš„æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨å·²å­˜åœ¨çš„å‘½ä»¤ç¼“å­˜ç³»ç»Ÿï¼ˆcommand buffer systemï¼‰ä¹‹ä¸€ï¼Œè€Œä¸ç”¨åˆ›å»ºè‡ªå·±çš„ï¼Œè¿™æ ·å¯ä»¥æœ€å°åŒ–åŒæ­¥ç‚¹ï¼ˆsync pointï¼‰ã€‚</p><h3 id="åœ¨-ParallelFor-jobs-ä¸­ä½¿ç”¨-EntityCommandBuffers">åœ¨ ParallelFor jobs ä¸­ä½¿ç”¨ EntityCommandBuffers</h3><p>åœ¨ <a href="https://docs.unity3d.com/Manual/JobSystemParallelForJobs.html">ParallelFor jobs</a> ä½¿ç”¨ <code>EntityCommandBuffer</code> å­˜ <code>EntityManager</code> çš„å‘½ä»¤ï¼ˆcommandï¼‰æ—¶ï¼Œ <code>EntityCommandBuffer.Concurrent</code> æ¥å£èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨å’Œç¡®å®šæ€§çš„å›æ”¾ï¼ˆdeterministic playbackï¼‰ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// See file: /Packages/com.unity.entities/Unity.Entities/EntityCommandBuffer.cs.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Entity <span class="title">CreateEntity</span>(<span class="params"><span class="built_in">int</span> jobIndex, EntityArchetype archetype = <span class="keyword">new</span> EntityArchetype(</span>))</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    m_Data-&gt;AddCreateCommand(chain, jobIndex, ECBCommand.CreateEntity,  index, archetype, kBatchableCommand);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Entity &#123;Index = index&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>EntityCommandBuffer.Concurrent</code> çš„å…¬å…±æ–¹æ³•éƒ½ä¼šæ¥å—ä¸€ä¸ª <code>jobIndex</code> å‚æ•°ï¼Œè¿™æ ·èƒ½å›æ”¾ï¼ˆplaybackï¼‰å·²ç»æŒ‰é¡ºåºä¿å­˜å¥½çš„å‘½ä»¤ã€‚ <code>jobIndex</code> ä½œä¸º ID å¿…é¡»åœ¨æ¯ä¸ª Job ä¸­å”¯ä¸€ã€‚ä»æ€§èƒ½è€ƒè™‘ï¼Œ<code>jobIndex</code> å¿…é¡»æ˜¯ä¼ è¿› <code>IJobParallelFor.Execute()</code> çš„ä¸æ–­å¢é•¿çš„ <code>index</code>ã€‚é™¤éä½ çœŸçš„çŸ¥é“ä½ ä¼ çš„æ˜¯å•¥ï¼Œå¦åˆ™æœ€å®‰å…¨çš„åšæ³•å°±æ˜¯æŠŠå‚æ•°ä¸­çš„ <code>index</code> ä½œä¸º <code>jobIndex</code> ä¼ è¿›å»ã€‚ç”¨å…¶ä»– <code>jobIndex</code> å¯èƒ½ä¼šäº§ç”Ÿæ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ä¼šæœ‰ä¸¥é‡çš„æ€§èƒ½å½±å“ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Unity.Jobs</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">JobProducerType(typeof (IJobParallelForExtensions.ParallelForJobStruct&lt;&gt;))</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IJobParallelFor</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span>   <span class="doctag">&lt;para&gt;</span>Implement this method to perform work against a specific iteration index.<span class="doctag">&lt;/para&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;index&quot;&gt;</span>The index of the Parallel for loop at which to perform work.<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Execute</span>(<span class="params"><span class="built_in">int</span> index</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="System-Update-Orderï¼ˆç³»ç»Ÿæ›´æ–°é¡ºåºï¼‰">System Update Orderï¼ˆç³»ç»Ÿæ›´æ–°é¡ºåºï¼‰</h2><p>ç»„ä»¶ç³»ç»Ÿç»„ï¼ˆComponent System Groupsï¼‰å…¶å®æ˜¯ä¸ºäº†è§£å†³ä¸–ç•Œï¼ˆWorldï¼‰ä¸­å„ç§ update çš„é¡ºåºé—®é¢˜ã€‚ä¸€ä¸ªç³»ç»Ÿç»„ä¸­åŒ…å«äº†å¾ˆå¤šéœ€è¦æŒ‰ç…§é¡ºåºä¸€èµ· update çš„ç»„ä»¶ç³»ç»Ÿï¼ˆcomponent systemsï¼‰ï¼Œå¯ä»¥æ¥æŒ‡å®šå®ƒæˆå‘˜ç³»ç»Ÿï¼ˆmember systemï¼‰çš„ update é¡ºåºã€‚</p><p>å’Œå…¶ä»–ç³»ç»Ÿä¸€æ ·ï¼Œ <code>ComponentSystemGroup</code> ä¹Ÿç»§æ‰¿è‡ª <code>ComponentSystemBase</code> ï¼Œå› æ­¤ç³»ç»Ÿç»„å¯ä»¥å½“æˆä¸€ä¸ªå¤§çš„â€œç³»ç»Ÿâ€ï¼Œé‡Œé¢ä¹Ÿç”¨ <code>OnUpdate()</code> å‡½æ•°æ¥æ›´æ–°ç³»ç»Ÿã€‚å®ƒä¹Ÿå¯ä»¥è¢«æŒ‡å®šæ›´æ–°çš„é¡ºåºï¼ˆåœ¨æŸä¸ªç³»ç»Ÿçš„ä¹‹å‰æˆ–ä¹‹åæ›´æ–°ç­‰ï¼Œä¸‹æ–‡ä¼šè®²ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥åµŒå…¥åˆ°å…¶ä»–ç³»ç»Ÿç»„ä¸­ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>ComponentSystemGroup</code> çš„ <code>OnUpdate()</code> æ–¹æ³•ä¼šæŒ‰ç…§æˆå‘˜ç³»ç»Ÿï¼ˆmember systemï¼‰çš„é¡ºåºæ¥è°ƒç”¨ä»–ä»¬çš„ <code>Update()</code>ï¼Œå¦‚æœæˆå‘˜ç³»ç»Ÿä¹Ÿæ˜¯ä¸€ä¸ªç³»ç»Ÿç»„ï¼Œé‚£ä¹ˆè¿™ä¸ªç³»ç»Ÿç»„ä¹Ÿä¼šé€’å½’åœ°æ›´æ–°å®ƒçš„æˆå‘˜ç³»ç»Ÿã€‚æ€»ä½“çš„ç³»ç»Ÿéµå¾ªæ ‘çš„æ·±åº¦ä¼˜å…ˆéå†ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// See file: /Packages/com.unity.entities/Unity.Entities/ComponentSystemGroup.cs.</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnUpdate</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (m_systemSortDirty)</span><br><span class="line">        SortSystemUpdateList();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> sys <span class="keyword">in</span> m_systemsToUpdate)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            sys.Update();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception e)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.LogException(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (World.QuitUpdate)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="System-Ordering-Attributesï¼ˆç³»ç»Ÿé¡ºåºå±æ€§ï¼‰">System Ordering Attributesï¼ˆç³»ç»Ÿé¡ºåºå±æ€§ï¼‰</h3><ul><li><code>[UpdateInGroup]</code> æŒ‡å®šæŸä¸ªç³»ç»Ÿæˆä¸ºä¸€ä¸ª <code>ComponentSystemGroup</code> ä¸­çš„æˆå‘˜ç³»ç»Ÿã€‚å¦‚æœæ²¡æœ‰ç”¨è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªç³»ç»Ÿä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°é»˜è®¤ä¸–ç•Œï¼ˆdefault Worldï¼‰çš„ SimulationSystemGroup ä¸­ã€‚</li><li><code>[UpdateBefore]</code> å’Œ <code>[UpdateAfter]</code> æŒ‡å®šç³»ç»Ÿç›¸å¯¹äºå…¶ä»–ç³»ç»Ÿçš„æ›´æ–°é¡ºåºã€‚è¿™ä¸¤ä¸ªç³»ç»Ÿå¿…é¡»åœ¨åŒä¸€ä¸ªç³»ç»Ÿç»„ï¼ˆsystem groupï¼‰ä¸­ï¼Œå‰æ–‡è¯´åˆ°ç³»ç»Ÿç»„ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œå› æ­¤åªè¦ä¸¤ä¸ªç³»ç»Ÿèº«å¤„åŒä¸€ä¸ªæ ¹ç³»ç»Ÿç»„å³å¯ã€‚<ul><li>ä¾‹å­ï¼šå¦‚æœ System A åœ¨ Group A ä¸­ã€System B åœ¨ Group B ä¸­ï¼Œè€Œä¸” Group A å’Œ Group B éƒ½æ˜¯ Group C çš„æˆå‘˜ç³»ç»Ÿï¼Œé‚£ä¹ˆ Group A å’Œ Group B çš„ç›¸å¯¹é¡ºåºä¹Ÿå†³å®šç€ System A å’Œ System B çš„ç›¸å¯¹é¡ºåºï¼Œè¿™æ—¶å€™å°±ä¸éœ€è¦æ˜ç¡®åœ°ç”¨å±æ€§æ ‡æ˜é¡ºåºäº†ã€‚</li></ul></li><li><code>[DisableAutoCreation]</code> é˜»æ­¢ç³»ç»Ÿä»é»˜è®¤çš„ä¸–ç•Œåˆå§‹åŒ–ä¸­åˆ›å»ºæˆ–æ·»åŠ åˆ°ä¸–ç•Œä¸­ã€‚è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æ˜¾å¼åœ°åˆ›å»ºå’Œæ›´æ–°ç³»ç»Ÿã€‚ç„¶è€Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªç³»ç»Ÿå’Œå®ƒçš„æ ‡è®°ï¼ˆtagï¼‰åŠ åˆ° <code>ComponentSystemGroup</code> çš„æ›´æ–°åˆ—è¡¨ä¸­ï¼ˆupdate listï¼‰ï¼Œè¿™æ ·è¿™ä¸ªç³»ç»Ÿä¼šæ­£å¸¸åœ°è‡ªåŠ¨æ›´æ–°ã€‚</li></ul><h3 id="Default-System-Groupsï¼ˆé»˜è®¤ç³»ç»Ÿç»„ï¼‰">Default System Groupsï¼ˆé»˜è®¤ç³»ç»Ÿç»„ï¼‰</h3><p>é»˜è®¤ä¸–ç•Œï¼ˆdefault Worldï¼‰åŒ…å« <code>ComponentSystemGroup</code> å®ä¾‹çš„å±‚æ¬¡ç»“æ„ï¼ˆhierarchyï¼‰ã€‚åœ¨ Unity Player Loop ä¸­ä¼šæ·»åŠ ä¸‰ä¸ªæ ¹å±‚æ¬¡ï¼ˆroot-levelï¼‰çš„ç³»ç»Ÿç»„ã€‚</p><p>ä¸‹å›¾ä¸­æ‰“å¼€ Entity Debuggerï¼Œä¹Ÿèƒ½çœ‹åˆ°è¿™ä¸‰ä¸ªç³»ç»Ÿç»„å’Œå…¶é¡ºåºã€‚</p><p><img src="http://img.frankorz.com/5d2ab0dd94fe244311.png" alt=""></p><p>è¿™ä¸‰ä¸ªç³»ç»Ÿç»„å„å¸å…¶èŒï¼Œ <code>InitializationSystemGroup</code> åšåˆå§‹åŒ–å·¥ä½œï¼Œ <code>SimulationSystemGroup</code> åœ¨ Update ä¸­åšä¸»è¦çš„é€»è¾‘è¿ç®—ï¼Œ <code>PresentationSystemGroup</code> åšå›¾å½¢æ¸²æŸ“å·¥ä½œã€‚</p><p>å¦‚æœå‹¾é€‰ â€œShow Full Player Loopâ€ é¡¹ï¼Œè¿˜èƒ½çœ‹åˆ°å®Œæ•´çš„æ¸¸æˆä¸»å¾ªç¯ï¼Œä»¥åŠç³»ç»Ÿç»„æ‰§è¡Œçš„é¡ºåºã€‚</p><p><img src="http://img.frankorz.com/5d2acd6b5ea8681591.png" alt=""></p><p>ä¸‹é¢åˆ—è¡¨ä¹Ÿå±•ç¤ºäº†é¢„å®šä¹‰çš„ç³»ç»Ÿç»„å’Œå…¶æˆå‘˜ç³»ç»Ÿï¼š</p><ul><li>InitializationSystemGroup ï¼ˆåœ¨æ¸¸æˆå¾ªç¯ï¼ˆPlayer Loopï¼‰çš„Â <code>Initialization</code>Â å±‚æœ€å updateï¼‰<ul><li>BeginInitializationEntityCommandBufferSystem</li><li>CopyInitialTransformFromGameObjectSystem</li><li>SubSceneLiveLinkSystem</li><li>SubSceneStreamingSystem</li><li>EndInitializationEntityCommandBufferSystem</li></ul></li><li>SimulationSystemGroupï¼ˆåœ¨æ¸¸æˆå¾ªç¯çš„ <code>Update</code>Â å±‚æœ€å updateï¼‰<ul><li>BeginSimulationEntityCommandBufferSystem</li><li>TransformSystemGroup<ul><li>EndFrameParentSystem</li><li>CopyTransformFromGameObjectSystem</li><li>EndFrameTRSToLocalToWorldSystem</li><li>EndFrameTRSToLocalToParentSystem</li><li>EndFrameLocalToParentSystem</li><li>CopyTransformToGameObjectSystem</li></ul></li><li>LateSimulationSystemGroup</li><li>EndSimulationEntityCommandBufferSystem</li></ul></li><li>PresentationSystemGroupï¼ˆåœ¨æ¸¸æˆå¾ªç¯çš„ <code>PreLateUpdate</code>Â å±‚æœ€å updateï¼‰<ul><li>BeginPresentationEntityCommandBufferSystem</li><li>CreateMissingRenderBoundsFromMeshRenderer</li><li>RenderingSystemBootstrap</li><li>RenderBoundsUpdateSystem</li><li>RenderMeshSystem</li><li>LODGroupSystemV1</li><li>LodRequirementsUpdateSystem</li><li>EndPresentationEntityCommandBufferSystem</li></ul></li></ul><p><strong>P.S. å†…å®¹å¯èƒ½åœ¨æœªæ¥æœ‰æ›´æ”¹</strong></p><p>Multiple Worldsï¼ˆå¤šä¸ªä¸–ç•Œï¼‰</p><p>å‰æ–‡å¤šå¤„æåˆ°é»˜è®¤çš„ä¸–ç•Œï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªä¸–ç•Œã€‚åŒæ ·çš„ç»„ä»¶ç³»ç»Ÿï¼ˆcomponent systemï¼‰çš„ç±»å¯ä»¥åœ¨ä¸åŒçš„ä¸–ç•Œä¸­åˆå§‹åŒ–ï¼Œè€Œä¸”æ¯ä¸ªå®ä¾‹éƒ½å¯ä»¥å¤„äºä¸åŒçš„åŒæ­¥ç‚¹ä»¥ä¸åŒçš„é€Ÿåº¦è¿›è¡Œupdateã€‚</p><p>å½“å‰æ²¡æœ‰æ–¹æ³•æ‰‹åŠ¨æ›´æ–°ä¸€ä¸ªä¸–ç•Œä¸­çš„æ‰€æœ‰ç³»ç»Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ§åˆ¶å“ªäº›ç³»ç»Ÿè¢«å“ªä¸ªä¸–ç•Œæ§åˆ¶ï¼Œå’Œå®ƒä»¬è¦è¢«åŠ åˆ°å“ªä¸ªç°å­˜çš„ä¸–ç•Œä¸­ã€‚è‡ªå®šä¹‰çš„ä¸–ç•Œå¯ä»¥é€šè¿‡å®ç° <code>ICustomBootstrap</code> æ¥å£æ¥åˆ›å»ºã€‚</p><h3 id="Tips-and-Best-Practicesï¼ˆæç¤ºä¸æœ€ä½³å®è·µï¼‰">Tips and Best Practicesï¼ˆæç¤ºä¸æœ€ä½³å®è·µï¼‰</h3><ul><li>**ç”¨ <code>[UpdateInGroup]</code> ä¸ºä½ çš„ç³»ç»ŸæŒ‡å®šä¸€ä¸ª <code>ComponentSystemGroup</code> ç³»ç»Ÿç»„ã€‚**å¦‚æœæ²¡æœ‰ç”¨è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªç³»ç»Ÿä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°é»˜è®¤ä¸–ç•Œï¼ˆdefault Worldï¼‰çš„ SimulationSystemGroup ä¸­ã€‚</li><li>**ç”¨æ‰‹åŠ¨æ›´æ–°å¾ªç¯ï¼ˆmanually-tickedï¼‰çš„ ComponentSystemGroups æ¥ update åœ¨ä¸»å¾ªç¯ä¸­çš„ç³»ç»Ÿã€‚**æ·»åŠ  <code>[DisableAutoCreation]</code>  é˜»æ­¢ç³»ç»Ÿä»é»˜è®¤çš„ä¸–ç•Œåˆå§‹åŒ–ä¸­åˆ›å»ºæˆ–æ·»åŠ åˆ°ä¸–ç•Œä¸­ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨ä¸»çº¿ç¨‹ä¸­è°ƒç”¨ <code>World.GetOrCreateSystem()</code> æ¥åˆ›å»ºç³»ç»Ÿï¼Œè°ƒç”¨ <code>MySystem.Update()</code> æ¥ update ç³»ç»Ÿã€‚å¦‚æœä½ æœ‰ä¸€ä¸ªç³»ç»Ÿè¦åœ¨å¸§ä¸­æ—©ç‚¹æˆ–è€…æ™šç‚¹è¿è¡Œï¼Œè¿™ç§åšæ³•èƒ½æ›´ç®€å•åœ°æŠŠç³»ç»Ÿæ’åˆ°ä¸»å¾ªç¯ä¸­ã€‚</li><li>**å°½é‡ä½¿ç”¨å·²å­˜åœ¨çš„ <code>EntityCommandBufferSystem</code> è€Œä¸æ˜¯é‡æ–°æ·»åŠ ä¸€ä¸ªæ–°çš„ã€‚**å› ä¸ºä¸€ä¸ª <code>EntityCommandBufferSystem</code> ä»£è¡¨ä¸€ä¸ªä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹å®Œæˆçš„åŒæ­¥ç‚¹ï¼ˆsync pointï¼‰ï¼Œå¦‚æœé‡ç”¨ä¸€ä¸ªåœ¨æ¯ä¸ªæ ¹ç³»ç»Ÿç»„ï¼ˆroot-level system groupï¼‰ä¸­é¢„å®šä¹‰çš„ Begin/End ç³»ç»Ÿï¼Œå°±èƒ½èŠ‚çœå¤šä¸ªåŒæ­¥ç‚¹æ‰€å¸¦æ¥çš„é¢å¤–æ—¶é—´é—´éš”ï¼ˆå¯ä»¥å›å»çœ‹åŒæ­¥ç‚¹å°èŠ‚çš„ç¤ºæ„å›¾ï¼ŒåŒæ­¥ç‚¹çš„ä½ç½®æ˜¯ç”±æœ€æ™šæ‰§è¡Œå®Œçš„å­çº¿ç¨‹æ‰€å†³å®šçš„ï¼‰ã€‚</li><li>**é¿å…æ”¾è‡ªå®šä¹‰çš„é€»è¾‘åˆ° <code>ComponentSystemGroup.OnUpdate()</code> ä¸­ã€‚**è™½ç„¶ <code>ComponentSystemGroup</code> åŠŸèƒ½ä¸Šå’Œä¸€ä¸ªç»„ä»¶ç³»ç»Ÿï¼ˆcomponent systemï¼‰ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥é¿å…è¿™ä¹ˆåšã€‚å› ä¸ºå®ƒä½œä¸ºä¸€ä¸ªç³»ç»Ÿç»„ï¼Œåœ¨å¤–é¢ä¸èƒ½é©¬ä¸ŠçŸ¥é“æˆå‘˜ç³»ç»Ÿæ˜¯å¦å·²ç»æ‰§è¡Œäº† updateï¼Œå› æ­¤æ¨èçš„åšæ³•æ˜¯åªè®©ç³»ç»Ÿç»„å½“ä¸€ä¸ªç»„ï¼ˆgroupï¼‰æ¥ç”¨ï¼Œè€ŒæŠŠé€»è¾‘æ”¾åˆ°ä¸å…¶åˆ†ç¦»çš„ç»„ä»¶ç³»ç»Ÿä¸­ï¼Œå†å®šå¥½è¯¥ç³»ç»Ÿä¸ç³»ç»Ÿç»„çš„ç›¸å¯¹é¡ºåºã€‚</li></ul><h1>æœ€å</h1><p>è‡ªå·±æ‰åˆšè€ƒå®Œè¯•ï¼Œæ‰€ä»¥è®¡åˆ’çš„æ–‡ç« ä¸€ç›´æ‹–åˆ°ç°åœ¨ã€‚ECS å¯¹æˆ‘è€Œè¨€å……æ»¡ç€å¸å¼•åŠ›ï¼Œå¯èƒ½æœ‰äº›ç¨‹åºå‘˜ä¹Ÿä¼šå¯¹æ€§èƒ½ç‰¹åˆ«æ‰§ç€å§ï¼Œå®ƒå°±åƒé­”æ³•ä¸€æ ·ï¼Œå®Œå…¨ä¸åŒçš„å¼€å‘æ¨¡å¼ï¼Œè¿˜éœ€è¦æˆ‘ä»¬æ·±å…¥äº†è§£å†…å­˜çš„ç»“æ„ã€‚å°½ç®¡ ECS å¯èƒ½åœ¨å·¥ä½œä¸­å¯¹æˆ‘æ˜¯ä¸€ç§å± é¾™æŠ€ï¼Œä½†æœ‰äº›çŸ¥è¯†å•Šï¼Œå­¦äº†å°±å·²ç»å¾ˆå¼€å¿ƒäº†~</p><p>æˆ‘çš„æ¯•ä¸šå­£ä¹Ÿåˆ°æ¥äº†ï¼Œæœ‰ç©ºçš„è¯å¯èƒ½ä¼šå†™å†™ Demo æŠŠå‰©ä¸‹çš„å®è·µéƒ¨åˆ†è¡¥å®Œï¼Œå½“ç„¶è®¡åˆ’ä¹Ÿå¯èƒ½ææµ…ã€‚ä¸ç®¡æ€ä¹ˆæ ·ï¼Œå¸Œæœ›æœ¬æ–‡å¯¹ ECS åŒå¥½æœ‰æ‰€å¸®åŠ©ï¼Œæœ‰é—®é¢˜ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºæŒ‡å‡ºã€‚</p><h1>å‚è€ƒ</h1><ul><li><a href="https://docs.unity3d.com/Packages/com.unity.entities@0.0/manual/index.html">ã€ŠEntity Component System Manualã€‹</a></li><li><a href="https://github.com/BrianWill/LearnUnity/tree/master/ecs-jobs">BrianWill LearnUnity/ecs-jobs</a></li><li><a href="https://forum.unity.com/threads/ecs-memory-layout.532028/">ã€ŠECS Memory Layoutã€‹</a></li><li><a href="https://gametorrahod.com/world-system-groups-update-order-and-the-player-loop/">ã€ŠWorld, system groups, update order, and the player loopã€‹</a></li><li><a href="https://docs.google.com/presentation/d/1vxE61D_N79cvgUI3eIocF2n4rn04wjgRRq00ugyoB1M/edit?usp=sharing">UniteLA 2018 - ECS deep dive</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;è™½ç„¶ç½‘ç»œä¸Šå·²ç»æœ‰ä¸å°‘ ECS æ–‡æ¡£çš„æ±‰åŒ–ï¼Œä½†è‡ªå·±è¯»å®˜æ–¹æ–‡æ¡£çš„æ—¶å€™ä¹Ÿä¼šäº§ç”Ÿä¸å°‘ç–‘é—®ï¼Œä¸ºæ­¤é€šè¿‡æŸ¥è¯¢å„ç§èµ„æ–™ï¼Œå†™ä¸‹æœ¬æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ä» ECS å®˜æ–¹æ–‡æ¡£å‡ºå‘ï¼ŒåŠ ä¹‹å†…å­˜å¸ƒå±€ç»“æ„çš„è®²è§£ï¼ŒåŠ›æ±‚è¯»è€…èƒ½å¤Ÿå’Œåšä¸»ä¸€èµ·åƒé€ ECS ä¸­çš„åŸºæœ¬æ¦‚å¿µã€‚åŒæ—¶å»ºè®®è¯»è€…å¯ä»¥å…ˆè¯»è¯»æˆ‘çš„ä¸Šä¸€ç¯‡åšæ–‡&lt;a href=&quot;http://frankorz.com/2019/05/07/simple-talk-unity-dots/#Entity-Component-System&quot;&gt;ã€ŠUnity DOTS èµ°é©¬è§‚èŠ±ã€‹&lt;/a&gt;çš„ ECS éƒ¨åˆ†ï¼Œæœ¬æ–‡ä¸å†å¤è¿°å‰æ–‡å·²ç»æåˆ°è¿‡çš„ç›¸å…³æ¦‚å¿µã€‚&lt;/p&gt;
&lt;h1&gt;ECS ä¸ Job System&lt;/h1&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºæœ‰å¿…è¦é‡ç”³å…¶ä¸¤è€…çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Job System èƒ½å¸®æˆ‘ä»¬æ–¹ä¾¿åœ°å†™å‡ºçº¿ç¨‹å®‰å…¨çš„å¤šçº¿ç¨‹ä»£ç ï¼Œå…¶ä¸­æ¯ä¸ªä»»åŠ¡å•å…ƒç§°ä¸º Jobã€‚&lt;/li&gt;
&lt;li&gt;ECSï¼Œåˆç§°å®ä½“ç»„ä»¶ç³»ç»Ÿã€‚ä¸ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ç›¸æ¯”ï¼ŒECS æ˜¯ä¸€ç§åŸºäºæ•°æ®è®¾è®¡çš„ç¼–ç¨‹æ¨¡å¼ã€‚&lt;a href=&quot;http://frankorz.com/2019/05/07/simple-talk-unity-dots/#Entity-Component-System&quot;&gt;å‰æ–‡&lt;/a&gt;ä»å†…å­˜ç»“æ„åˆ†æäº† OOP æ¨¡å¼çš„ç¼ºç‚¹ï¼Œä¹Ÿæåˆ°äº† ECS æ˜¯æ€ä¹ˆæ ·åŸºäºæ•°æ®çš„è®¾è®¡å†…å­˜ç»“æ„çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Job System æ˜¯ Unity è‡ªå¸¦çš„åº“ï¼Œè€Œè¦ä½¿ç”¨ ECS æˆ‘ä»¬éœ€è¦ä» Package Manager ä¸­å®‰è£… â€œEntitiesâ€ é¢„è§ˆåŒ…ã€‚è¿™ä¸¤è€…è™½è¯´å®Œå…¨æ˜¯ä¸¤ç§ä¸œè¥¿ï¼Œä½†æ˜¯ä»–ä»¬èƒ½å¾ˆå¥½åœ°ç›¸è¾…ç›¸æˆï¼šECS ä¿è¯æ•°æ®çº¿æ€§åœ°æ’åˆ—åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·é€šè¿‡æ›´é«˜æ•ˆçš„æ•°æ®è¯»å–ï¼Œèƒ½æœ‰æ•ˆæå‡ Job çš„æ‰§è¡Œé€Ÿåº¦ï¼ŒåŒæ—¶ä¹Ÿç»™äº† Burst ç¼–è¯‘å™¨æ›´å¤šä¼˜åŒ–çš„æœºä¼šã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Unity" scheme="http://frankorz.com/categories/Unity/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="ECS" scheme="http://frankorz.com/tags/ECS/"/>
    
  </entry>
  
  <entry>
    <title>Unity DOTS èµ°é©¬è§‚èŠ±</title>
    <link href="http://frankorz.com/2019/05/07/simple-talk-unity-dots/"/>
    <id>http://frankorz.com/2019/05/07/simple-talk-unity-dots/</id>
    <published>2019-05-07T21:22:00.000Z</published>
    <updated>2022-12-28T06:52:11.278Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://img.frankorz.com/5cd168d7974ba.png" alt="The Big Picture"></p><p>ç®€å•ä»‹ç» Data-Oriented Technology Stack (DOTS, æ•°æ®å¯¼å‘å‹æŠ€æœ¯æ ˆ) ï¼Œå…¶åŒ…å«äº† C# Job Systemã€the Entity Component System (ECS) å’Œ Burstã€‚</p><span id="more"></span><h1>ç‰¹ç‚¹</h1><p>DOTS è¦å®ç°çš„ç‰¹ç‚¹æœ‰ï¼š</p><ul><li>**æ€§èƒ½çš„å‡†ç¡®æ€§ã€‚**æˆ‘ä»¬å¸Œæœ›çš„æ•ˆæœæ˜¯ï¼šå¦‚æœå¾ªç¯å› ä¸ºæŸäº›åŸå› æ— æ³•å‘é‡åŒ–ï¼Œå®ƒåº”è¯¥ä¼šå‡ºç°ç¼–è¯‘å™¨é”™è¯¯ï¼Œè€Œä¸æ˜¯ä½¿ä»£ç è¿è¡Œé€Ÿåº¦æ…¢ 8 å€ï¼Œå¹¶å¾—åˆ°æ­£ç¡®ç»“æœï¼Œå®Œå…¨ä¸æŠ¥é”™ã€‚</li><li><strong>è·¨å¹³å°æ¶æ„ç‰¹æ€§</strong>ã€‚æˆ‘ä»¬ç¼–å†™çš„è¾“å…¥ä»£ç æ— è®ºæ˜¯é¢å‘ iOS ç³»ç»Ÿè¿˜æ˜¯ Xboxï¼Œéƒ½åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚</li><li>æˆ‘ä»¬åº”è¯¥<strong>æœ‰ä¸é”™çš„è¿­ä»£å¾ªç¯</strong>ã€‚åœ¨ä¿®æ”¹ä»£ç æ—¶ï¼Œå¯ä»¥è½»æ¾æŸ¥çœ‹ä¸ºæ‰€æœ‰æ¶æ„ç”Ÿæˆçš„æœºå™¨ä»£ç ã€‚æœºå™¨ä»£ç â€œæŸ¥çœ‹å™¨â€åº”è¯¥å¾ˆå¥½åœ°è¯´æ˜æˆ–è§£é‡Šæ‰€æœ‰æœºå™¨æŒ‡ä»¤çš„è¡Œä¸ºã€‚</li><li><strong>å®‰å…¨æ€§</strong>ã€‚å¤§å¤šæ•°æ¸¸æˆå¼€å‘è€…ä¸æŠŠå®‰å…¨æ€§æ”¾åœ¨å¾ˆé«˜çš„ä¼˜å…ˆçº§ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºï¼Œè§£å†³ Unity å‡ºç°å†…å­˜æŸåé—®é¢˜æ˜¯å…³é”®ç‰¹æ€§ä¹‹ä¸€ã€‚åœ¨è¿è¡Œä»£ç æ—¶åº”è¯¥æœ‰ä¸€ä¸ªç‰¹åˆ«æ¨¡å¼ï¼Œå¦‚æœè¯»å–æˆ–å†™å…¥åˆ°å†…å­˜ç•Œé™å¤–æˆ–å–æ¶ˆå¼•ç”¨ Null æ—¶ï¼Œå®ƒèƒ½å¤Ÿæä¾›æˆ‘ä»¬æ˜ç¡®çš„é”™è¯¯ä¿¡æ¯ã€‚</li></ul><p>å…¶ä¸­å‘é‡åŒ–æŒ‡çš„æ˜¯ Vectorizationã€‚</p><p>å‘é‡åŒ–çš„ç›¸å…³ä»‹ç»ï¼š</p><ul><li><a href="https://stackoverflow.com/questions/1422149/what-is-vectorization">https://stackoverflow.com/questions/1422149/what-is-vectorization</a></li><li><a href="https://www.wikiwand.com/en/Array_programming">https://www.wikiwand.com/en/Array_programming</a></li></ul><h1>Burst</h1><p>Unity æ„å»ºäº†åä¸º Burst çš„ä»£ç ç”Ÿæˆå™¨å’Œç¼–è¯‘å™¨ã€‚</p><p>å½“ä½¿ç”¨ C# æ—¶ï¼Œæˆ‘ä»¬å¯¹æ•´ä¸ªæµç¨‹æœ‰å®Œæ•´çš„æ§åˆ¶ï¼ŒåŒ…æ‹¬ä»æºä»£ç ç¼–è¯‘åˆ°æœºå™¨ä»£ç ç”Ÿæˆï¼Œå¦‚æœæœ‰æˆ‘ä»¬ä¸æƒ³è¦çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¼šæ‰¾åˆ°å¹¶ä¿®å¤å®ƒã€‚æˆ‘ä»¬ä¼šé€æ¸æŠŠ C++ è¯­è¨€çš„æ€§èƒ½æ•æ„Ÿä»£ç ç§»æ¤ä¸º HPC# ï¼ˆé«˜æ€§èƒ½ C#ï¼Œä¸‹æ–‡ä¼šæåˆ°ï¼‰ä»£ç ï¼Œè¿™æ ·ä¼šæ›´å®¹æ˜“å¾—åˆ°æƒ³è¦çš„æ€§èƒ½ï¼Œæ›´éš¾å‡ºç° Bugï¼Œæ›´å®¹æ˜“è¿›è¡Œå¤„ç†ã€‚</p><p><img src="http://img.frankorz.com/5cd1692330824.png" alt=""></p><p>å¦‚æœ Asset Store èµ„æºæ’ä»¶çš„å¼€å‘è€…åœ¨èµ„æºä¸­ä½¿ç”¨ HPC# ä»£ç ï¼Œèµ„æºæ’ä»¶åœ¨è¿è¡Œæ—¶ä»£ç ä¼šè¿è¡Œå¾—æ›´å¿«ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œé«˜çº§ç”¨æˆ·ä¹Ÿä¼šé€šè¿‡ä½¿ç”¨ HPC# ç¼–å†™å‡ºè‡ªå®šä¹‰é«˜æ€§èƒ½ä»£ç è€Œå—ç›Šã€‚</p><p><a href="https://www.youtube.com/watch?v=QkM6zEGFhDY">ECS Track: Deep Dive into the Burst Compiler - Unite LA</a></p><p>Burst å¯¹äº HPC# æ›´è¯¦ç»†çš„æ”¯æŒå¯ä»¥åœ¨ä¸‹é¢æ‰¾åˆ°ï¼š</p><p><a href="https://docs.unity3d.com/Packages/com.unity.burst@0.2/manual/index.html#cnet-language-support">Burst User Guide</a></p><h2 id="æ·±å…¥æ ˆ">æ·±å…¥æ ˆ</h2><p>å‘é‡åŒ–ï¼ˆVectorizationï¼‰æ— æ³•è¿›è¡Œçš„å¸¸è§æƒ…å†µæ˜¯ï¼Œç¼–è¯‘å™¨æ— æ³•ç¡®ä¿äºŒä¸ªæŒ‡é’ˆä¸æŒ‡å‘ç›¸åŒçš„å†…å­˜ï¼Œå³æ··æ·†æƒ…å†µï¼ˆAliasï¼‰ã€‚Alias çš„é—®é¢˜åœ¨ Unity GDC ä¸­ä¹Ÿæœ‰ä¸€ä¸ªæ¼”è®²æåˆ°è¿‡ï¼š<a href="https://www.youtube.com/watch?v=NF6kcNS6U80">Unity at GDC - C# to Machine Code</a>ã€‚</p><p><a href="https://docs.unity3d.com/Packages/com.unity.collections@0.0/manual/index.html">Collections ç±»</a>å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œè¯ç”Ÿçš„ï¼Œé‡Œé¢åŒ…å« NativeList<T>ã€NativeHashMap&lt;TKey, TValue&gt;ã€NativeMultiHashMap&lt;TKey, TValue&gt; å’Œ NativeQueue<T> å››ç§é¢å¤–çš„æ•°æ®ç»“æ„ã€‚</p><p>ä¸¤ä¸ª NativeArray ä¹‹é—´ä»ä¸ä¼šå‘ç”Ÿæ··æ·†è¿™ç§æƒ…å†µï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å°†ä¼šç»å¸¸ä½¿ç”¨è¿™äº›æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ Burst ä¸­è¿ç”¨è¿™ä¸ªçŸ¥è¯†ï¼Œä½¿å®ƒä¸ä¼šç”±äºå®³æ€•ä¸¤ä¸ªæ•°ç»„æŒ‡é’ˆæŒ‡å‘ç›¸åŒå†…å­˜è€Œæ”¾å¼ƒä¼˜åŒ–ã€‚</p><p>Unity è¿˜ç¼–å†™äº† <a href="https://github.com/Unity-Technologies/Unity.Mathematics">Unity.Mathemetics</a> æ•°å­¦åº“ï¼Œæä¾›äº†å¾ˆå¤šåƒ Shader ä»£ç çš„æ•°æ®ç»“æ„ã€‚Burst ä¹Ÿèƒ½å’Œè¿™æ•°å­¦åº“å¾ˆå¥½çš„å·¥ä½œï¼Œæœªæ¥ Burst å°†èƒ½å¤Ÿä¸º <code>math.sin()</code> ç­‰è®¡ç®—ä½œå‡ºç‰ºç‰²ç²¾åº¦çš„ä¼˜åŒ–ã€‚</p><p>å¯¹äº Burst è€Œè¨€ï¼Œ<code>math.sin()</code> ä¸ä»…æ˜¯è¦ç¼–è¯‘çš„ C# æ–¹æ³•ï¼ŒBurst è¿˜èƒ½ç†è§£å‡º <code>sin()</code> çš„ä¸‰è§’å‡½æ•°å±æ€§ï¼ŒåŒæ—¶çŸ¥é“ x å€¼è¾ƒå°æ—¶ä¼šå‡ºç° <code>sin(x)</code> ç­‰äº x çš„æƒ…å†µï¼Œå¹¶äº†è§£å®ƒèƒ½æ›¿æ¢ä¸ºæ³°å‹’çº§æ•°å±•å¼€ï¼Œä»¥ä¾¿ç‰ºç‰²ç‰¹å®šç²¾åº¦ã€‚</p><p><strong>è·¨å¹³å°å’Œæ¶æ„çš„æµ®ç‚¹å‡†ç¡®æ€§æ˜¯ Burst æœªæ¥çš„ç›®æ ‡ã€‚</strong></p><h1>ä¼ ç»Ÿæ¨¡å¼çš„é—®é¢˜</h1><p>ä¼ ç»Ÿæ¨¡å¼æŒ‡çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><ul><li>è·Ÿ MonoBehaviours æ‰“äº¤é“</li><li>æ•°æ®å’Œå…¶å¤„ç†è¿‡ç¨‹è€¦åˆåœ¨ä¸€èµ·</li><li>é«˜åº¦ä¾èµ–å¼•ç”¨ç±»å‹</li></ul><p><img src="http://img.frankorz.com/5cd16b478f8af.png" alt=""></p><h2 id="é—®é¢˜ä¸€ï¼šæ•°æ®åˆ†å¸ƒåœ¨å†…å­˜çš„å„ä¸ªè§’è½">é—®é¢˜ä¸€ï¼šæ•°æ®åˆ†å¸ƒåœ¨å†…å­˜çš„å„ä¸ªè§’è½</h2><p><img src="http://img.frankorz.com/5cd557e05fa56.jpg" alt=""></p><p>ç¦»æ•£çš„æ•°æ®å¯¼è‡´æœç´¢æ•ˆç‡ååˆ†ä½ä¸‹ï¼Œè¿˜æœ‰ Cache Miss çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥å‚è€ƒä¸‹é¢çš„é“¾æ¥ï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/41652478">ECS çš„æ³›æ³›ä¹‹è°ˆ</a></p><h2 id="é—®é¢˜äºŒï¼šå¾ˆå¤šä¸å¿…è¦çš„æ•°æ®ä¹Ÿè¢«æä¾›äº†">é—®é¢˜äºŒï¼šå¾ˆå¤šä¸å¿…è¦çš„æ•°æ®ä¹Ÿè¢«æä¾›äº†</h2><p><img src="http://img.frankorz.com/5cd56a9b06095.png" alt=""></p><p>ä¾‹å¦‚å½“æˆ‘ä»¬è¦è°ƒç”¨ Transform æ—¶ï¼Œå¯èƒ½å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦ position å’Œ rotation ä¸¤ä¸ªå±æ€§æ¥ç§»åŠ¨ gameObjectï¼Œä½†æ˜¯å…¶ä»–ä¸éœ€è¦çš„æ•°æ®ä¹Ÿè¢«æä¾›ç»™äº† gameObjectã€‚</p><h2 id="é—®é¢˜ä¸‰ï¼šä½æ•ˆçš„å•çº¿ç¨‹æ•°æ®å¤„ç†">é—®é¢˜ä¸‰ï¼šä½æ•ˆçš„å•çº¿ç¨‹æ•°æ®å¤„ç†</h2><p>ä¼ ç»Ÿæ¨¡å¼åªä½¿ç”¨å•çº¿ç¨‹æ¥æŒ‰é¡ºåºä¸€ä¸ªä¸€ä¸ªåœ°å¤„ç†æ•°æ®å’Œæ“ä½œï¼Œè¿™æ ·ååˆ†ä½æ•ˆã€‚</p><h1>é«˜æ€§èƒ½ Cï¼ƒï¼ˆHPC#ï¼‰</h1><p>å½“æˆ‘ä»¬ä½¿ç”¨ C# è¯­è¨€æ—¶ï¼Œä»ç„¶æ— æ³•æ§åˆ¶æ•°æ®åœ¨å†…å­˜ä¸­å¦‚ä½•è¿›è¡Œåˆ†å¸ƒï¼Œä½†è¿™æ˜¯æˆ‘ä»¬æå‡æ€§èƒ½çš„å…³é”®ç‚¹ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæ ‡å‡†åº“é¢å‘çš„æ˜¯â€œå †ä¸Šçš„å¯¹è±¡â€å’Œâ€œå…·æœ‰å…¶å®ƒå¯¹è±¡æŒ‡é’ˆå¼•ç”¨çš„å¯¹è±¡â€ã€‚</p><p>ä¹Ÿå°±æ˜¯æ„å‘³ç€ï¼Œå½“å¤„ç†æ€§èƒ½æ•æ„Ÿä»£ç æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¼ƒä½¿ç”¨å¤§éƒ¨åˆ†æ ‡å‡†åº“ï¼Œä¾‹å¦‚ï¼šLinqã€StringFormatterã€Listã€Dictionaryã€‚ç¦æ­¢å†…å­˜åˆ†é…ï¼Œå³ä¸ä½¿ç”¨ç±»ï¼Œåªä½¿ç”¨ç»“æ„ã€æ˜ å°„ã€åƒåœ¾å›æ”¶å™¨å’Œè™šæ‹Ÿè°ƒç”¨ï¼Œå¹¶æ·»åŠ å¯ä½¿ç”¨çš„éƒ¨åˆ†æ–°å®¹å™¨ï¼Œä¾‹å¦‚ï¼šNativeArray å’Œå…¶ä»–é›†åˆç±»å‹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨è¶Šç•Œè®¿é—®æ—¶å¾—åˆ°é”™è¯¯å’Œé”™è¯¯ä¿¡æ¯ï¼Œä»¥åŠä½¿ç”¨ C++ ä»£ç æ—¶çš„è°ƒè¯•å™¨æ”¯æŒå’Œç¼–è¯‘é€Ÿåº¦ã€‚æˆ‘ä»¬é€šå¸¸æŠŠè¯¥å­é›†ç§°ä¸ºé«˜æ€§èƒ½ C# æˆ– HPC#ã€‚</p><p>å®ƒå¯ä»¥è¢«æ€»ç»“ä¸ºï¼š</p><ul><li>å¤§éƒ¨åˆ†çš„åŸå§‹ç±»å‹ï¼ˆfloatã€intã€uintã€shortã€boolâ€¦ï¼‰ï¼Œenumsï¼Œstructs å’Œå…¶ä»–ç±»å‹çš„æŒ‡é’ˆ</li><li>é›†åˆï¼šç”¨ <code>NavtiveArray&lt;T&gt;</code> ä»£æ›¿ <code>T[]</code></li><li>æ‰€æœ‰çš„æ§åˆ¶æµè¯­å¥ï¼ˆé™¤äº† tryã€finallyã€foreachã€usingï¼‰</li><li>å¯¹ <code>throw new XXXException(...)</code> ç»™äºˆåŸºç¡€æ”¯æŒ</li></ul><h1>Job System</h1><p>Job System æ˜¯é’ˆå¯¹ä¸Šè¿°ä¼ ç»Ÿæ¨¡å¼é—®é¢˜çš„ä¸€ç§è§£å†³æ–¹å¼ã€‚ä¾‹å¦‚ä¸‹å›¾å¯ä»¥æŠŠå‘å°„å­å¼¹çœ‹æˆä¸€ä¸ª Jobï¼Œä»è€Œç”¨å¤šçº¿ç¨‹æ¥å¹¶è¡Œåœ°å¤„ç†å‘å°„æ“ä½œã€‚</p><p><img src="http://img.frankorz.com/5cd549475461e.jpg" alt=""></p><p>ç›®å‰ä¸»æµçš„ CPU æœ‰ 4-6 ä¸ªç‰©ç†æ ¸å¿ƒï¼Œ8-12 ä¸ªé€»è¾‘æ ¸å¿ƒï¼Œå¤šçº¿ç¨‹å¤„ç†å°†èƒ½å¤Ÿæ›´å¥½åœ°å‘æŒ¥ CPU çš„æ€§èƒ½ã€‚</p><p>ä¼ ç»Ÿçš„å¤šçº¿ç¨‹é—®é¢˜ä¹Ÿæœ‰å¾ˆå¤šï¼š</p><ul><li>çº¿ç¨‹å®‰å…¨çš„ä»£ç ååˆ†éš¾å†™</li><li>ç«æ€æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è®¡ç®—ç»“æœä¾èµ–äºä¸¤ä¸ªæˆ–æ›´å¤šè¿›ç¨‹è¢«è°ƒåº¦çš„é¡ºåº</li><li>ä½æ•ˆçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œåˆ‡æ¢çº¿ç¨‹çš„æ—¶å€™ååˆ†è€—æ—¶</li></ul><p>è€Œ Job System å°±æ˜¯ä¸“æ³¨è§£å†³ä¸Šé¢é—®é¢˜çš„ä¸€ä¸ªæ–¹æ¡ˆï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½äº«å—ç€å¤šçº¿ç¨‹çš„å¥½å¤„æ¥å¼€å‘æ¸¸æˆã€‚å½“ç„¶äº†ï¼Œæˆ‘ä»¬ä¹Ÿè¦å†™å‡ºæ­£ç¡®çš„ ECS ä»£ç ï¼Œç†Ÿæ‚‰æ–°çš„å¼€å‘æ¨¡å¼ã€‚</p><h2 id="è§£å†³çš„å¤šçº¿ç¨‹é—®é¢˜">è§£å†³çš„å¤šçº¿ç¨‹é—®é¢˜</h2><p>**C++ å’Œ C# éƒ½æ— æ³•ä¸ºå¼€å‘è€…ç¼–å†™çº¿ç¨‹å®‰å…¨ä»£ç æä¾›å¤ªå¤šå¸®åŠ©ã€‚**å³ä½¿åœ¨ä»Šå¤©ï¼Œæ‹¥æœ‰å¤šä¸ªæ ¸å¿ƒæ¸¸æˆæ¶ˆè´¹çº§ç¡¬ä»¶å‘å±•è‡³ä»Šå·²ç»è¿‡å»äº†åå¹´ï¼Œä½†ä¾æ—§å¾ˆéš¾æœ‰æ•ˆå¤„ç†ä½¿ç”¨å¤šä¸ªæ ¸å¿ƒçš„ç¨‹åºã€‚</p><p>æ•°æ®å†²çªï¼Œä¸ç¡®å®šæ€§å’Œæ­»é”æ˜¯ä½¿å¤šçº¿ç¨‹ä»£ç éš¾ä»¥ç¼–å†™çš„æŒ‘æˆ˜ã€‚Unity æƒ³è¦çš„ç‰¹æ€§æ˜¯â€œç¡®ä¿ä»£ç è°ƒç”¨çš„å‡½æ•°å’Œæ‰€æœ‰å†…å®¹ä¸ä¼šåœ¨å…¨å±€çŠ¶æ€ä¸‹è¯»å–æˆ–å†™å…¥â€ã€‚Unity å¸Œæœ›åº”è¯¥è®©ç¼–è¯‘å™¨æŠ›å‡ºé”™è¯¯æ¥æé†’ï¼Œè€Œä¸æ˜¯å±äºâ€œç¨‹åºå‘˜åº”éµå®ˆçš„å‡†åˆ™â€ï¼ŒBurst åˆ™ä¼šæä¾›ç¼–è¯‘å™¨é”™è¯¯ã€‚</p><p>Unity é¼“åŠ± Unity ç”¨æˆ·ç¼–å†™ â€œJobifiedâ€ ä»£ç ï¼šå°†ã€Œæ‰€æœ‰éœ€è¦å‘ç”Ÿçš„æ•°æ®è½¬æ¢ã€åˆ’åˆ†ä¸º Jobã€‚</p><p>Job ä¼šæ˜ç¡®æŒ‡å®šä½¿ç”¨çš„åªè¯»ç¼“å†²åŒºå’Œè¯»å†™ç¼“å†²åŒºï¼Œå°è¯•è®¿é—®å…¶å®ƒæ•°æ®ä¼šå¾—åˆ°ç¼–è¯‘å™¨é”™è¯¯ã€‚Job è°ƒåº¦ç¨‹åºä¼šç¡®ä¿åœ¨ Job è¿è¡Œæ—¶ï¼Œä»»ä½•ç¨‹åºéƒ½ä¸ä¼šå†™å…¥åªè¯»ç¼“å†²åŒºã€‚Unity ä¹Ÿä¼šç¡®ä¿åœ¨ Job è¿è¡Œæ—¶ï¼Œä»»ä½•ç¨‹åºéƒ½ä¸ä¼šè¯»å–è¯»å†™ç¼“å†²åŒºã€‚</p><p>å¦‚æœè°ƒåº¦çš„ Job è¿åäº†è¿™äº›è§„åˆ™ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°è¿è¡Œæ—¶é”™è¯¯ï¼ˆé€šå¸¸è¿™ç§é”™è¯¯ä¼šåœ¨ç«æ€æ¡ä»¶å‡ºç°æ—¶å¾—åˆ°ï¼‰ã€‚é”™è¯¯ä¿¡æ¯ä¼šè¯´æ˜ï¼Œä½ æ­£åœ¨å°è¯•è°ƒåº¦çš„ Job æƒ³è¦è¯»å–ç¼“å†²åŒº Aï¼Œä½†ä½ ä¹‹å‰å·²ç»è°ƒåº¦äº†ä¼šå†™å…¥ç¼“å†²åŒº A çš„ Job ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦æ‰§è¡Œè¯¥æ“ä½œï¼Œéœ€è¦æŠŠä¹‹å‰çš„ Job æŒ‡å®šä¸ºä¾èµ–ã€‚</p><h1>Entity Component System</h1><p>Unity ä¸€ç›´ä»¥ç»„ä»¶çš„æ¦‚å¿µä¸ºä¸­å¿ƒï¼Œä¾‹å¦‚ï¼šæˆ‘ä»¬å¯ä»¥æ·»åŠ  Rigidbody ç»„ä»¶åˆ°æ¸¸æˆå¯¹è±¡ä¸Šï¼Œä½¿å¯¹è±¡èƒ½å¤Ÿå‘ä¸‹æ‰è½ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ  Light ç»„ä»¶åˆ°æ¸¸æˆå¯¹è±¡ä¸Šï¼Œä½¿å®ƒå¯ä»¥å‘å°„å…‰çº¿ã€‚æˆ‘ä»¬æ·»åŠ  AudioEmitter ç»„ä»¶ï¼Œå¯ä»¥ä½¿æ¸¸æˆå¯¹è±¡å‘å‡ºå£°éŸ³ã€‚</p><p>æˆ‘ä»¬å®ç°ç»„ä»¶ç³»ç»Ÿçš„æ–¹æ³•å¹¶æ²¡æœ‰å¾ˆå¥½åœ°æ¼”å˜ã€‚è¿‡å»æˆ‘ä»¬<strong>ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ€ç»´ç¼–å†™ç»„ä»¶ç³»ç»Ÿ</strong>ï¼Œå¯¼è‡´ç»„ä»¶å’Œæ¸¸æˆå¯¹è±¡éƒ½æ˜¯â€œå¤§é‡ä½¿ç”¨ C++ ä»£ç â€çš„å¯¹è±¡ï¼Œåˆ›å»ºæˆ–é”€æ¯å®ƒä»¬éœ€è¦ä½¿ç”¨äº’æ–¥é”ä¿®æ”¹â€œid åˆ°å¯¹è±¡æŒ‡é’ˆâ€çš„å…¨å±€åˆ—è¡¨ã€‚</p><p>é€šè¿‡ä½¿ç”¨é¢å‘æ•°æ®çš„æ€ç»´æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°å¤„ç†è¿™ç§æƒ…å†µã€‚æˆ‘ä»¬å¯ä»¥ä¿ç•™ç”¨æˆ·çœ¼ä¸­çš„ä¼˜è‰¯ç‰¹æ€§ï¼Œå³<strong>åªéœ€æ·»åŠ ç»„ä»¶å°±å¯ä»¥å®ç°åŠŸèƒ½ï¼Œè€ŒåŒæ—¶é€šè¿‡æ–°ç»„ä»¶ç³»ç»Ÿå–å¾—å‡ºè‰²çš„æ€§èƒ½å’Œå¹¶è¡Œæ•ˆæœã€‚</strong></p><p>è¿™ä¸ªå…¨æ–°çš„ç»„ä»¶ç³»ç»Ÿå°±æ˜¯å®ä½“ç»„ä»¶ç³»ç»Ÿ ECSã€‚ç®€å•æ¥è¯´ï¼Œå¦‚ä»Šæˆ‘ä»¬å¯¹æ¸¸æˆå¯¹è±¡è¿›è¡Œçš„æ“ä½œå¯ç”¨äºå¤„ç†æ–°ç³»ç»Ÿçš„å®ä½“ï¼Œç»„ä»¶ä»ç§°ä½œç»„ä»¶ã€‚é‚£ä¹ˆåŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸåŒºåˆ«åœ¨äºæ•°æ®å¸ƒå±€ã€‚</p><h2 id="ECS-æ•°æ®å¸ƒå±€">ECS æ•°æ®å¸ƒå±€</h2><p>ECS ä½¿ç”¨çš„æ•°æ®å¸ƒå±€ä¼šæŠŠè¿™äº›æƒ…å†µçœ‹ä½œä¸€ç§éå¸¸å¸¸è§çš„æ¨¡å¼ï¼Œå¹¶<strong>ä¼˜åŒ–å†…å­˜å¸ƒå±€</strong>ï¼Œä½¿ç±»ä¼¼æ“ä½œæ›´åŠ å¿«æ·ã€‚</p><h3 id="ç»„ä»¶ï¼ˆComponentï¼‰">ç»„ä»¶ï¼ˆComponentï¼‰</h3><p>é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯è¿™é‡Œçš„â€œç»„ä»¶â€ä¸ä¸Šæ–‡æåˆ°çš„ Rigidbody â€œç»„ä»¶â€æ˜¯ä¸ä¸€æ ·çš„æ¦‚å¿µã€‚ECS ä¸­çš„ç»„ä»¶åªä¼šå­˜å•çº¯çš„æ•°æ®ï¼Œä¸å‚ä¸ä»»ä½•é€»è¾‘è¿ç®—ï¼Œé€»è¾‘è¿ç®—ä¼šäº¤ç”±ç³»ç»Ÿï¼ˆSystemï¼‰æ¥å¤„ç†ã€‚</p><h3 id="åŸå‹ï¼ˆArchetypeï¼‰">åŸå‹ï¼ˆArchetypeï¼‰</h3><p><strong>ECS ä¼šåœ¨å†…å­˜ä¸­å¯¹å¸¦æœ‰ç›¸åŒç»„ä»¶ï¼ˆComponentï¼‰é›†çš„æ‰€æœ‰å®ä½“ï¼ˆEntityï¼‰è¿›è¡Œç»„åˆ</strong>ã€‚ECS æŠŠè¿™ç±»ç»„ä»¶é›†ç§°ä¸ºåŸå‹ï¼ˆArchetypeï¼‰ã€‚</p><p>ä¸‹å›¾çš„åŸå‹å°±æ˜¯ç”± Position ç»„ä»¶ã€Velocity ç»„ä»¶ã€Rigidbody ç»„ä»¶å’Œ Renderer ç»„ä»¶ç»„æˆçš„ã€‚</p><p>å¦‚æœä¸€ä¸ªå®ä½“åªæœ‰ä¸‰ä¸ªç»„ä»¶ï¼ˆä¸åŒäºå‰é¢æåˆ°çš„åŸå‹ï¼‰ï¼Œé‚£ä¹ˆé‚£ä¸‰ä¸ªç»„ä»¶å°±ç»„æˆäº†ä¸€ä¸ªæ–°çš„åŸå‹ã€‚</p><p>ä¸‹é¢çš„å›¾æ¥è‡ª Unite LA çš„ä¸€æ¬¡æ¼”è®²çš„è®²ä¹‰ï¼Œ å¾ˆé—æ†¾é‚£æ¬¡æ¼”è®²æ²¡æœ‰å½•åˆ¶ä¸‹æ¥ã€‚è®²ä¹‰å¯ä»¥åœ¨<a href="https://docs.google.com/presentation/d/1vxE61D_N79cvgUI3eIocF2n4rn04wjgRRq00ugyoB1M/edit?usp=sharing">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p><p><img src="http://img.frankorz.com/5cd16aea80286.png" alt=""></p><p>ECS ä»¥ 16k å¤§å°çš„å—ï¼ˆChunkï¼‰æ¥åˆ†é…å†…å­˜ï¼Œæ¯ä¸ªå—ä»…åŒ…å«å•ä¸ªåŸå‹ä¸­æ‰€æœ‰<strong>å®ä½“</strong>çš„<strong>ç»„ä»¶</strong>æ•°æ®ã€‚</p><p><img src="assets/undefined" alt=""></p><p>ä¸€ä¸ª<a href="https://forum.unity.com/threads/memory-layout-for-ecs-components.590731/">å¸–å­</a>ä¸­æœ‰äººæä¾›äº†æ›´åŠ å½¢è±¡çš„å†…å­˜å¸ƒå±€å›¾ï¼Œä¾‹å¦‚ä¸ŠåŠéƒ¨åˆ†çš„åŸå‹ç”± Position ç»„ä»¶å’Œ Rock ç»„ä»¶ç»„æˆï¼Œå…¶ä¸­æ•´ä¸ªåŸå‹å äº†ä¸€ä¸ªå—ï¼ˆChunkï¼‰ï¼Œä¸¤ä¸ªç»„ä»¶çš„æ•°æ®åˆ†åˆ«å­˜åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­ï¼Œé‡Œé¢è¿˜å¸¦ç€ç»„ä»¶æ•°æ®å¯¹åº”çš„å®ä½“çš„ä¿¡æ¯ã€‚</p><p><img src="http://img.frankorz.com/5cd583e06c6ef.jpg" alt=""></p><p>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª Chunks å—åˆ—è¡¨ï¼Œç”¨æ¥ä¿å­˜åŸå‹çš„å®ä½“ã€‚æˆ‘ä»¬ä¼šå¾ªç¯æ‰€æœ‰å—ï¼Œå¹¶åœ¨æ¯ä¸ªå—ä¸­ï¼Œå¯¹ç´§å‡‘çš„å†…å­˜è¿›è¡Œçº¿æ€§å¾ªç¯å¤„ç†ï¼Œä»¥è¯»å–æˆ–å†™å…¥ç»„ä»¶æ•°æ®ã€‚è¯¥çº¿æ€§å¾ªç¯ä¼šå¯¹æ¯ä¸ªå®ä½“è¿è¡Œç›¸åŒçš„ä»£ç ï¼ŒåŒæ—¶ä¸º Burst åˆ›é€ å‘é‡åŒ–ï¼ˆVectorizationï¼Œå¯ä»¥å‚è€ƒ <a href="https://stackoverflow.com/questions/1422149/what-is-vectorization">StackOverflow çš„é—®é¢˜</a>ï¼‰å¤„ç†çš„æœºä¼šã€‚</p><p>æ¯ä¸ªå—ä¼šè¢«å®‰æ’å¥½å†…å­˜ä¸­çš„ä½ç½®ï¼Œä»¥ä¾¿äºå¿«é€Ÿä»å†…å­˜å¾—åˆ°æƒ³è¦çš„æ•°æ®ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒä¸‹é¢çš„æ–‡ç« ã€‚</p><p><a href="https://blog.csdn.net/yudianxia/article/details/80498015">Unity2018 ECS æ¡†æ¶ Entities æºç è§£æï¼ˆäºŒï¼‰ç»„ä»¶ä¸ Chunk çš„å†…å­˜å¸ƒå±€ - å¤§é¹çš„ä¸“æ </a></p><h3 id="å®ä½“ï¼ˆEntityï¼‰">å®ä½“ï¼ˆEntityï¼‰</h3><p>å®ä½“æ˜¯ä»€ä¹ˆï¼Ÿå®ä½“åªæ˜¯ä¸€ä¸ª 32 ä½çš„æ•´æ•° key ï¼ˆå’Œä¸€äº›é¢å¤–çš„æ•°æ®ä¾‹å¦‚ index å’Œ version å®ä½“ç‰ˆæœ¬ï¼Œä¸è¿‡åœ¨è¿™é‡Œä¸é‡è¦ï¼‰ï¼Œæ‰€ä»¥é™¤äº†å®ä½“çš„ç»„ä»¶æ•°æ®å¤–ï¼Œä¸å¿…ä¸ºå®ä½“ä¿å­˜æˆ–åˆ†é…å¤ªå¤šå†…å­˜ã€‚å®ä½“å¯ä»¥å®ç°æ¸¸æˆå¯¹è±¡çš„æ‰€æœ‰åŠŸèƒ½ï¼Œç”šè‡³æ›´å¤šåŠŸèƒ½ï¼Œå› ä¸ºå®ä½“éå¸¸è½»é‡ã€‚</p><p>å®ä½“çš„æ€§èƒ½æ¶ˆè€—å¾ˆä½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ä½“ç”¨åœ¨ä¸é€‚åˆæ¸¸æˆå¯¹è±¡çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼šä¸ºç²’å­ç³»ç»Ÿå†…çš„æ¯ä¸ªå•ç‹¬ç²’å­ä½¿ç”¨ä¸€ä¸ªå®ä½“ã€‚</p><p>å®ä½“æœ¬èº«ä¸æ˜¯å¯¹è±¡ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠå…¶ç»„ä»¶çš„æ•°æ®å…³è”åˆ°ä¸€èµ·ã€‚</p><p><img src="http://img.frankorz.com/5cd16b1878af0.png" alt=""></p><h3 id="ç³»ç»Ÿï¼ˆSystemï¼‰">ç³»ç»Ÿï¼ˆSystemï¼‰</h3><p><img src="http://img.frankorz.com/5cd16b28a3b79.png" alt=""></p><p>æˆ‘ä»¬ä¸å¿…ä½¿ç”¨ç”¨æˆ·çš„ Update æ–¹æ³•æœç´¢ç»„ä»¶ï¼Œç„¶ååœ¨è¿è¡Œæ—¶å¯¹æ¯ä¸ªå®ä¾‹è¿›è¡Œæ“ä½œï¼Œä½¿ç”¨ ECS æ—¶æˆ‘ä»¬åªéœ€é™æ€åœ°å£°æ˜ï¼šæˆ‘æƒ³å¯¹åŒæ—¶é™„å¸¦ Velocity ç»„ä»¶å’Œ Rigidbody ç»„ä»¶çš„æ‰€æœ‰å®ä½“è¿›è¡Œæ“ä½œã€‚ä¸ºäº†æ‰¾åˆ°æ‰€æœ‰å®ä½“ï¼Œæˆ‘ä»¬åªéœ€æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆ<strong>ç‰¹å®šâ€œç»„ä»¶æœç´¢æŸ¥è¯¢â€çš„åŸå‹</strong>å³å¯ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ç”±ç³»ç»Ÿï¼ˆSystemï¼‰æ¥å®Œæˆçš„ã€‚</p><p>å¾ˆå¤šæƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šåˆ†æˆå¤šä¸ª Job ï¼Œä½¿å¤„ç† ECS ç»„ä»¶çš„ä»£ç è¾¾åˆ°å‡ ä¹ 100% çš„æ ¸å¿ƒåˆ©ç”¨ç‡ã€‚ECS ä¼šå®Œæˆæ‰€æœ‰å·¥ä½œï¼Œæˆ‘ä»¬åªéœ€è¦æä¾›å¯¹æ¯ä¸ªå®ä½“è¿è¡Œçš„ä»£ç å³å¯ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¤„ç†å—è¿­ä»£è¿‡ç¨‹ï¼ˆ<a href="https://github.com/Unity-Technologies/EntityComponentSystemSamples/blob/master/Samples/Assets/HelloECS/HelloCube_03_IJobChunk/README.md">IJobChunk</a>ï¼‰ã€‚</p><p>å½“æˆ‘ä»¬ä»å®ä½“æ·»åŠ æˆ–ç§»é™¤ç»„ä»¶æ—¶ï¼ŒECS ä¼šåˆ‡æ¢åŸå‹ã€‚æˆ‘ä»¬ä¼šæŠŠå®ƒä»å½“å‰å—ç§»åŠ¨åˆ°æ–°åŸå‹çš„å—ï¼Œç„¶åäº¤æ¢ä¹‹å‰å—çš„æœ€åå®ä½“æ¥â€œå¡«è¡¥ç©ºç¼ºâ€ã€‚</p><p>åœ¨ ECS ä¸­ï¼Œæˆ‘ä»¬è¿˜è¦é™æ€å£°æ˜è¦å¯¹ç»„ä»¶æ•°æ®è¿›è¡Œä»€ä¹ˆå¤„ç†ï¼Œæ˜¯ ReadOnly åªè¯»è¿˜æ˜¯ ReadWrite è¯»å†™ï¼ˆJob System ä¸€å°èŠ‚æåˆ°è¿‡çš„ä¸¤ç§ç¼“å†²åŒºï¼‰ã€‚é€šè¿‡ç¡®å®šä»…å¯¹ Position ç»„ä»¶è¿›è¡Œè¯»å–ï¼ŒECS å¯ä»¥æ›´é«˜æ•ˆåœ°è°ƒåº¦ Job ï¼Œå…¶å®ƒéœ€è¦è¯»å– Position ç»„ä»¶çš„ Job ä¸å¿…è¿›è¡Œç­‰å¾…ã€‚</p><p>å¤§ä½“ä¸Šï¼Œå®ä½“æä¾›çº¯ç²¹çš„æ•°æ®ç»™ç³»ç»Ÿï¼Œç³»ç»Ÿæ ¹æ®è‡ªå·±æ‰€éœ€è¦çš„ç»„ä»¶æ¥è·å¾—ç›¸åº”çš„æ»¡è¶³æ¡ä»¶çš„å®ä½“ï¼Œæœ€åç³»ç»Ÿå†é€šè¿‡å¤šçº¿ç¨‹æ¥åŸºäº Job System æ¥å¤„ç†æ•°æ®ã€‚</p><p><img src="http://img.frankorz.com/5cd547a7c0260.jpg" alt=""></p><p>è¿™ç§æ•°æ®å¸ƒå±€ä¹Ÿè§£å†³äº† Unity é•¿æœŸä»¥æ¥çš„å›°æ‰°ï¼Œå³ï¼šåŠ è½½æ—¶é—´å’Œåºåˆ—åŒ–çš„æ€§èƒ½ã€‚ç°åœ¨ä»å¤§å‹åœºæ™¯åŠ è½½æˆ–æµå¼å¤„ç† ECS æ•°æ®çš„æ—¶é—´ï¼Œä¸ä¼šæ¯”ä»ç¡¬ç›˜åŠ è½½å’Œä½¿ç”¨åŸå§‹å­—èŠ‚å¤šå¤šå°‘ã€‚</p><h2 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h2><p>æ€»çš„æ¥è¯´ï¼ŒECS æœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p><ul><li>ä¸ºæ€§èƒ½è€Œç”Ÿ</li><li>æ›´å®¹æ˜“å†™å‡ºé«˜åº¦ä¼˜åŒ–å’Œå¯é‡ç”¨çš„ä»£ç </li><li>æ›´èƒ½å……åˆ†åˆ©ç”¨ç¡¬ä»¶çš„æ€§èƒ½</li><li>åŸå‹çš„æ•°æ®è¢«ç´§å¯†åœ°æ’åˆ—åœ¨å†…å­˜ä¸­</li><li>äº«å— Burst ç¼–è¯‘å™¨å¸¦æ¥çš„é­”æ³•</li></ul><h2 id="ç¼ºç‚¹">ç¼ºç‚¹</h2><p>å¯¹ ECS çš„å¸¸è§è§‚ç‚¹æ˜¯ï¼šECS éœ€è¦ç¼–å†™å¾ˆå¤šä»£ç ã€‚å› æ­¤ï¼Œå®ç°æƒ³è¦çš„åŠŸèƒ½éœ€è¦å¤„ç†å¾ˆå¤šæ ·æ¿ä»£ç ã€‚ç°åœ¨é’ˆå¯¹ç§»é™¤å¤šæ•°æ ·æ¿ä»£ç éœ€æ±‚çš„å¤§é‡æ”¹è¿›å³å°†æ¨å‡ºï¼Œè¿™äº›æ”¹è¿›ä¼šä½¿å¼€å‘è€…æ›´ç®€å•åœ°è¡¨è¾¾è‡ªå·±çš„ç›®çš„ã€‚</p><p>Unity æš‚æ—¶æ²¡æœ‰å®ç°å¤ªå¤šè¿™ç±»æ”¹è¿›ï¼Œå› ä¸º Unity ç°åœ¨æ­£ä¸“æ³¨äºå¤„ç†åŸºç¡€æ€§èƒ½ã€‚</p><blockquote><p>å¤ªå¤šæ ·æ¿ä»£ç å¯¹ ECS æ¸¸æˆä»£ç æ²¡æœ‰å¥½å¤„ï¼Œæˆ‘ä»¬ä¸èƒ½è®©ç¼–å†™ ECS ä»£ç æ¯”ç¼–å†™ MonoBehaviour æ›´éº»çƒ¦ã€‚<br>â€”â€”Unity</p></blockquote><p>è€Œä¸ºç½‘é¡µæ¸¸æˆè€Œç”Ÿçš„åŸºäº ECS çš„ Project Tiny å·²ç»å®ç°äº†éƒ¨åˆ†æ”¹è¿›ï¼Œä¾‹å¦‚ï¼šåŸºäº lambda å‡½æ•°çš„è¿­ä»£ APIã€‚</p><h1>æœ€å</h1><p>ç”±äºè‡ªå·±ç©ºé—²æ—¶é—´ä¸å¤šï¼Œåªèƒ½å›«å›µåæ£åœ°æ‹¼å‡‘å‡ºè¿™æ ·ä¸€ç¯‡ç¬”è®°ã€‚ä¸Šé¢å¤§éƒ¨åˆ†æ–‡å­—éƒ½æ˜¯æ¥è‡ª Unity çš„åšæ–‡ä»‹ç»ï¼Œè‡ªå·±åŠ äº†å…¶ä»–çš„å†…å®¹å¸®åŠ©ç†è§£ã€‚æœ¬æ–‡ä»å†…å­˜å¸ƒå±€ä»‹ç»äº† ECS çš„æ¦‚å¿µï¼Œä¹Ÿä»‹ç»äº† Job System å’Œ Burstã€‚æˆ‘ç›¸ä¿¡èµ°è¿‡ä¸€éæ–‡ç« ä¹‹åï¼Œèƒ½æ¸…æ¥š Unity å¯¹æ•°æ®é©±åŠ¨çš„æœªæ¥å¼€å‘è¶‹åŠ¿çš„å¸ƒå±€ï¼Œä¹Ÿèƒ½æ›´åŠ å®¹æ˜“ä» <a href="https://github.com/Unity-Technologies/EntityComponentSystemSamples">Unity ECS Sample</a> ä¸­ç†è§£å¦‚ä½•å®è·µ ECSã€‚</p><h1>å‚è€ƒ</h1><ul><li><a href="https://indienova.com/indie-game-development/unity-dod-all-in-one/">Unity DOD (ECS) åŸºç¡€æ¦‚å¿µä¸èµ„æ–™æ±‡æ€»</a><ul><li>è¿™ç¯‡æ–‡ç« æ€»ç»“å¾—å¾ˆå¥½ï¼Œä½†å¾ˆå¤šè§†é¢‘é“¾æ¥éƒ½é”™äº†ï¼Œæˆ‘æä¾›ç»™äº†ä¸€ä¸ªæ”¹å¥½çš„ç‰ˆæœ¬ï¼š<a href="https://www.notion.so/frankorz/DOTS-3562fce36b2a44909e5910609ddfd6a7">DOD ç›¸å…³æ–‡ç« </a></li></ul></li><li><a href="https://zhuanlan.zhihu.com/p/36649462">Unity ECS ç¼–ç¨‹å®˜æ–¹æ–‡æ¡£é€‰è¯‘â€“Getting Started</a></li><li><a href="https://mp.weixin.qq.com/s/GsrX6o-sHLrqVgffp1svqg">é¢å‘æ•°æ®æŠ€æœ¯æ ˆ DOTS ä¹‹ ECS å®ä½“ç»„ä»¶ç³»ç»Ÿ</a></li><li><a href="https://blogs.unity3d.com/2019/03/08/on-dots-entity-component-system/">On DOTS: Entity Component System - Unity Blog</a></li><li><a href="https://blogs.unity3d.com/2019/02/26/on-dots-c-c/">On DOTS: C++ &amp; C# - Unity Blog</a></li><li><a href="https://rams3s.github.io/blog/2019-01-09-ecs-deep-dive/">ECS Deep Dive</a></li><li><a href="https://docs.google.com/presentation/d/1vxE61D_N79cvgUI3eIocF2n4rn04wjgRRq00ugyoB1M/edit?usp=sharing">UniteLA 2018 - ECS deep dive</a></li><li><a href="https://www.youtube.com/playlist?list=PLX2vGYjWbI0S4yHZwjDI1boIrYStpBCdN">Intro To The Entity Component System And C# Job System</a><ul><li>è§†é¢‘ä¸­ä»£ç éƒ¨åˆ†å·²ç»è¿‡æ—¶ï¼Œå»ºè®®å‚è€ƒ <a href="https://github.com/Unity-Technologies/EntityComponentSystemSamples">Unity ECS Sample</a> å®˜æ–¹ Demo æ¥å­¦ä¹  ECS</li></ul></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;http://img.frankorz.com/5cd168d7974ba.png&quot; alt=&quot;The Big Picture&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç®€å•ä»‹ç» Data-Oriented Technology Stack (DOTS, æ•°æ®å¯¼å‘å‹æŠ€æœ¯æ ˆ) ï¼Œå…¶åŒ…å«äº† C# Job Systemã€the Entity Component System (ECS) å’Œ Burstã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Unity" scheme="http://frankorz.com/categories/Unity/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="ECS" scheme="http://frankorz.com/tags/ECS/"/>
    
  </entry>
  
  <entry>
    <title>å±äº Unity çš„ Flutterâ€”â€”UIWidgets</title>
    <link href="http://frankorz.com/2019/04/01/uiwidgets-practice/"/>
    <id>http://frankorz.com/2019/04/01/uiwidgets-practice/</id>
    <published>2019-04-01T00:13:00.000Z</published>
    <updated>2022-12-28T06:52:11.278Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»">ä»‹ç»</h2><p><a href="https://github.com/UnityTech/UIWidgets/">UIWidgets</a> æ˜¯ Unity çš„ä¸€ä¸ªæ’ä»¶åŒ…ï¼Œæ˜¯ä¸€ä¸ªä» Google çš„ç§»åŠ¨ UI æ¡†æ¶ Flutter æ¼”å˜è¿‡æ¥çš„ UI æ¡†æ¶ã€‚</p><p>ç›¸å¯¹äºåŸç”Ÿå¼€å‘çš„é«˜å¼€å‘æˆæœ¬ï¼ˆä¸åŒå¹³å°éƒ½éœ€è¦ä¸åŒçš„ä¸€å¥—ä»£ç ï¼‰ï¼ŒFlutterã€React-Native ç­‰è¿™ç§è·¨å¹³å° UI æ¡†æ¶åº”è¿è€Œç”Ÿã€‚</p><p>Flutter è‡ª 2018 å¹´ 3 æœˆå‘å¸ƒä»¥æ¥ï¼Œç¤¾åŒºä¸æ–­å£®å¤§ã€‚ç”±äº Flutter è‡ªèº«è®¾è®¡ç†å¿µçš„å‡ºè‰²ï¼ŒUnity ä¸­å›½å·²ç»ç€æ‰‹å°†å…¶ç§»æ¤è¿‡æ¥ã€‚å½“ç„¶äº†ï¼Œä¹Ÿå› ä¸ºè¿™ä¸¤ä¸ªä¸œè¥¿éƒ½éå¸¸çš„å¹´è½»ï¼Œå› æ­¤å¼€å‘çš„æ—¶å€™éƒ½åƒå¼€è’ä¸€æ ·ã€‚</p><span id="more"></span><h2 id="æ¡†æ¶å›¾">æ¡†æ¶å›¾</h2><p>Flutter æœ‰è‡ªå·±çš„ä¸€å¥—æ¸²æŸ“ç³»ç»Ÿï¼Œé‚£ä¹ˆ Unity ä½œä¸ºä¸€ä¸ªæ¸¸æˆå¼•æ“ï¼Œåº•å±‚çš„å›¾å½¢ API ç”¨è‡ªå·±çš„ä¸€å¥—ä¸œè¥¿å°±è¡Œäº†ï¼Œå› æ­¤ç§»æ¤è¿‡æ¥æ›´æ–¹ä¾¿äº†ã€‚</p><h3 id="Flutter-æ¡†æ¶ç»“æ„">Flutter æ¡†æ¶ç»“æ„</h3><p><img src="http://img.frankorz.com/flutter-architecture.png" alt=""></p><h3 id="UIWidgets-æ¡†æ¶ç»“æ„">UIWidgets æ¡†æ¶ç»“æ„</h3><p><img src="http://img.frankorz.com/5ca0a9930c276.png" alt=""></p><h2 id="æ‰§è¡Œæ•ˆç‡">æ‰§è¡Œæ•ˆç‡</h2><p><img src="http://img.frankorz.com/5ca0b27a35401.gif" alt=""></p><p>è¿™é‡Œæä¸€äº›åŸºç¡€çš„çŸ¥è¯†ï¼š</p><p>Batch å°±æ˜¯ DrawCall çš„å¦ä¸€ç§è¯´æ³•ï¼Œäº†è§£æ¸²æŸ“æµæ°´çº¿çš„åŒå­¦ä¼šçŸ¥é“æµæ°´çº¿åœ¨ CPU ä¸ GPU ä¹‹é—´é€šä¿¡æ—¶ï¼Œä¸€èˆ¬æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ol><li>æŠŠæ•°æ®åŠ è½½åˆ°æ˜¾å­˜ä¸­ã€‚</li><li>è®¾ç½®æ¸²æŸ“çŠ¶æ€ã€‚</li><li>è°ƒç”¨ Draw Call</li></ol><p>Draw Call å°±æ˜¯ä¸€ä¸ªè°ƒç”¨å‘½ä»¤ï¼Œè®© CPU å‘Šè¯‰ GPU è¦æ€ä¹ˆæ ·ç”¨ç»™å®šçš„æ¸²æŸ“çŠ¶æ€å’Œè¾“å…¥çš„é¡¶ç‚¹ä¿¡æ¯æ¥è®¡ç®—ã€‚Batch é‡Œé¢è£…ç€é¡¶ç‚¹ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ DrawCall ä¸­ GPU éœ€è¦çš„é¡¶ç‚¹ä¿¡æ¯ã€‚</p><p>DrawCall å¯ä»¥åœ¨ Profiler ä¸­çœ‹ï¼ŒBatches å¯ä»¥åœ¨ Stats çª—å£çœ‹ï¼Œå¤§å®¶å¯ä»¥ä»”ç»†çœ‹çœ‹ä¸Šé¢åŠ¨å›¾ï¼ˆå³é”®åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€å›¾ç‰‡ï¼‰é‡Œé¢çš„æ•°æ®å˜åŒ–ã€‚</p><p><img src="http://img.frankorz.com/5ca0ac9d4fd8c.png" alt=""></p><p>åœ¨æˆ‘éšä¾¿å†™çš„ä¸€ä¸ªä¾‹å­ä¸­é—´ï¼Œå¯ä»¥çœ‹åˆ° Batches æ•°åªæœ‰ 1 ã€‚å³ä½¿åœ¨æœ‰åŠ¨ç”»çš„æ—¶å€™ Batches ä¼šå¤šä¸€ç‚¹ï¼Œä½†åŠ¨ç”»åœæ­¢å DrawCall å’Œ Batches éƒ½é©¬ä¸Šä¸‹æ¥äº†ã€‚è¿™ä¹Ÿæœ‰æˆ‘è¿™ä¸ªåº”ç”¨å†™çš„å¤ªç®€å•çš„åŸå› ï¼Œä½†æ˜¯è¿™ç§æ•ˆç‡è¿˜æ˜¯éå¸¸å€¼å¾—æœŸå¾…çš„ã€‚</p><h3 id="ç»„ä»¶æ ‘">ç»„ä»¶æ ‘</h3><p>å­¦è¿‡å‰ç«¯çš„åŒå­¦åº”è¯¥ç†Ÿæ‚‰ç»„ä»¶æ ‘ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚</p><p>ä¸ºäº†æ›´é«˜çš„æ¸²æŸ“æ•ˆç‡ï¼ŒUnity é‡‡ç”¨äº† Render Object Compositiing çš„æŠ€æœ¯ã€‚</p><p><img src="http://img.frankorz.com/5ca0b42e394a0.png" alt=""></p><p>å¦‚æœä¸€ä¸ªå­æ ‘æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼ŒUnity å°±ä¼šå°†å…¶æ¸²æŸ“åˆ°ä¸€ä¸ªç¦»å±çš„ Render Texture ä¸Šç¼“å­˜ä¸‹æ¥ï¼Œéœ€è¦çš„æ—¶å€™å†å°†å…¶è´´åˆ°å±å¹•ä¸Šã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œä»¥å‰çš„åšæ³•æ˜¯ï¼ŒCanvas åªè¦æœ‰ UI element æ”¹åŠ¨äº†ï¼Œæ•´ä¸ª Canvas éƒ½éœ€è¦é‡æ–°ç»˜åˆ¶ã€‚å³ä½¿ä¹Ÿæœ‰ä¸€ç§ä¼˜åŒ–åšæ³•æ˜¯å‡†å¤‡ä¸¤ä¸ª Canvas åˆ†åˆ«ç»˜åˆ¶åŠ¨æ€ UI element å’Œ é™æ€ UI elementï¼Œä½†è¿™æ ·ä¹Ÿå­˜åœ¨å¾ˆå¤šæ‰‹åŠ¨ç®¡ç†çš„åœ°æ–¹ã€‚</p><p>å¦å¤–ä¸€æ–¹é¢ï¼Œä½ å¯èƒ½ä¹Ÿæ„è¯†åˆ°äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦å†ç®¡ä»€ä¹ˆç”¨åŒä¸€ä¸ªæè´¨ç­‰ç­‰æ¥ä¼˜åŒ–å›¾çš„åˆæ‰¹ï¼ŒUIWidgets ä¼šè‡ªåŠ¨æ¥ç®¡ç†è¿™äº›äº‹æƒ…ã€‚è¿™æ–¹é¢ä¹Ÿè·Ÿ <a href="http://fairygui.com">FairyGUI</a> éå¸¸åƒï¼Œå¼€å‘è€…èƒ½ä¸“æ³¨åœ¨ç”Ÿäº§æ•ˆç‡ä¸Šï¼Œè®©æ’ä»¶æ¥ç®¡ç†éº»çƒ¦çš„äº‹æƒ…ã€‚</p><h2 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h2><ul><li>èƒ½å¼€å‘æ¸¸æˆä»¥å¤–çš„ APP</li><li>æ¸¸æˆä¸­çš„ UI</li><li>æ–°çš„ç”¨æˆ·ä½“éªŒ</li><li>ä¸ç”¨ç®¡æ¸²æŸ“è¿‡ç¨‹ï¼Œæå‡æ•ˆç‡</li><li>å› ä¸ºæ˜¯ Unity çš„æ’ä»¶ï¼Œå¯ä»¥è½»æ¾åŠ å„ç§ç²’å­æ•ˆæœå’Œå…¶ä»–éªšæ“ä½œã€‚</li><li>ä¸€å¥—ä»£ç èƒ½è·‘åœ¨æ¸¸æˆä¸­ã€APP ä¸­ã€ç½‘é¡µä¸­å’Œ Unity çš„ Editor çª—å£ä¸­ã€‚ï¼ˆå¼€å‘è€…è¿˜ç”¨å…¶åšäº†ä¸€ä¸ª <a href="https://github.com/UnityTech/DocCN">Unity ä¸­æ–‡æ–‡æ¡£çš„ç½‘ç«™</a>ï¼Œä¸€å¥—ä»£ç èƒ½ç”¨åœ¨ç½‘é¡µä¸Šå’Œ APP ç«¯ï¼‰</li><li>åœ¨é™æ€é¡µé¢è¿›è¡Œé™å¸§çš„ä¼˜åŒ–ï¼Œæœ‰åŠ¨ç”»æ•ˆæœå†æŠŠå¸§ç‡æä¸Šæ¥ã€‚</li><li>å’Œ Flutter çš„ API å‡ ä¹ä¸€æ ·ï¼Œå¯ä»¥å‚è€ƒ Flutter æ•™ç¨‹æ¥ç”¨ UIWidgets æ­åº”ç”¨ã€‚</li></ul><h2 id="ç¼ºç‚¹">ç¼ºç‚¹</h2><ul><li>æ— è®ºæ˜¯ Flutter è¿˜æ˜¯ UIWidgets éƒ½è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šç»„ä»¶ UIWidgets è¿˜æ²¡ç§»æ¤è¿‡æ¥ï¼ˆGridViewã€Circle Avatar ç­‰ç­‰ï¼‰</li><li>å®˜æ–¹ç¤ºä¾‹ã€æ–‡æ¡£è¿˜æ²¡å®Œå–„</li><li>å¼€å‘æ—¶æ˜¯å¼€è’æ¨¡å¼ï¼Œæ‰€ä»¥å¯èƒ½å¿ä¸ä½ç›´æ¥è½¬ç”¨ Flutter å»äº†â€¦</li></ul><h2 id="æˆ‘çš„ç¤ºä¾‹">æˆ‘çš„ç¤ºä¾‹</h2><p><img src="http://img.frankorz.com/5ca082d35a884.gif" alt=""></p><p>è¿™é‡Œå€Ÿç”¨äº† <a href="https://github.com/Miraikomachi/MiraikomachiUnity">ãƒŸãƒ©ã‚¤å°ç”º</a> çš„æ¨¡å‹ï¼Œæ‰€ä»¥ä»£ç çª—å£å¤§å°ä¼šæ¯”è¾ƒå¤§ã€‚ï¼ˆé¡¹ç›®é‡Œé¢è¿˜æœ‰ãƒŸãƒ©ã‚¤å°ç”ºçš„è·³èˆåŠ¨ç”» animationï¼ï¼‰</p><p>é¡¹ç›®ä»“åº“ï¼š<a href="https://github.com/Latias94/UIWidget-Practice">Latias94/UIWidget-Practice</a></p><p>UIWidgetsï¼š<a href="https://github.com/UnityTech/UIWidgets/">UnityTech/UIWidgets</a></p><p>å®˜æ–¹è®²è§£å½•æ’­ï¼š<a href="https://www.bilibili.com/video/av47558897">[å®˜æ–¹ç›´æ’­] UIWidgets - ä¸æ­¢æ¸¸æˆï¼å¦‚ä½•ä½¿ç”¨ Unity å¼€å‘è·¨å¹³å°åº”ç”¨</a></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä»‹ç»&quot;&gt;ä»‹ç»&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/UnityTech/UIWidgets/&quot;&gt;UIWidgets&lt;/a&gt; æ˜¯ Unity çš„ä¸€ä¸ªæ’ä»¶åŒ…ï¼Œæ˜¯ä¸€ä¸ªä» Google çš„ç§»åŠ¨ UI æ¡†æ¶ Flutter æ¼”å˜è¿‡æ¥çš„ UI æ¡†æ¶ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹äºåŸç”Ÿå¼€å‘çš„é«˜å¼€å‘æˆæœ¬ï¼ˆä¸åŒå¹³å°éƒ½éœ€è¦ä¸åŒçš„ä¸€å¥—ä»£ç ï¼‰ï¼ŒFlutterã€React-Native ç­‰è¿™ç§è·¨å¹³å° UI æ¡†æ¶åº”è¿è€Œç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;Flutter è‡ª 2018 å¹´ 3 æœˆå‘å¸ƒä»¥æ¥ï¼Œç¤¾åŒºä¸æ–­å£®å¤§ã€‚ç”±äº Flutter è‡ªèº«è®¾è®¡ç†å¿µçš„å‡ºè‰²ï¼ŒUnity ä¸­å›½å·²ç»ç€æ‰‹å°†å…¶ç§»æ¤è¿‡æ¥ã€‚å½“ç„¶äº†ï¼Œä¹Ÿå› ä¸ºè¿™ä¸¤ä¸ªä¸œè¥¿éƒ½éå¸¸çš„å¹´è½»ï¼Œå› æ­¤å¼€å‘çš„æ—¶å€™éƒ½åƒå¼€è’ä¸€æ ·ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Unity" scheme="http://frankorz.com/categories/Unity/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ä¸è¶Šç‹±åœ¨ iOS 12.113.3 è®¾å¤‡å®‰è£… Kodi</title>
    <link href="http://frankorz.com/2019/01/13/install-kodi-with-tweakbox/"/>
    <id>http://frankorz.com/2019/01/13/install-kodi-with-tweakbox/</id>
    <published>2019-01-13T18:01:00.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p><strong>2020 å¹´ 2 æœˆ 11 æ—¥æ›´æ–°å¦å¤–ä¸€ç§æ–¹æ³•</strong></p><p>ä»Šå¤©ä¸€ä¸å°å¿ƒå‘ç° <a href="https://kodi.tv/">Kodi</a> è¿™ä¸ªæ’­æ”¾ç¥å™¨å±…ç„¶è¿˜æœ‰ iPad ç‰ˆï¼</p><p>ä½†æ˜¯è‹¹æœ App Store ä¸å…è®¸ Kodi åº”ç”¨å•†å®¶ï¼Œäºæ˜¯è‡ªå·±åœ¨ç½‘ä¸Šæ‰¾äº†äº›æ–¹æ³•ï¼š</p><ol><li>è¶Šç‹±ï¼ˆæ‰‹åŠ¨å†è§ï¼‰</li><li>ä¸‹è½½å®˜æ–¹æä¾›çš„å®‰è£…åŒ…ç”¨ Xcode æ‰“åŒ…è¿›å»ï¼ˆå¤ªéº»çƒ¦ï¼‰</li><li>å›½å†…åŒæ­¥åŠ©æ‰‹ç­‰æä¾›çš„â€œVIP æœåŠ¡â€ï¼Œè´­ä¹°æœåŠ¡åï¼Œç”¨å®ƒä»¬æä¾›ä¼ä¸šè¯ä¹¦æ¥ä¸‹è½½ï¼ˆåƒç›¸éš¾çœ‹ï¼‰</li><li>â€¦</li></ol><span id="more"></span><h2 id="2020-å¹´-2-æœˆ-11-æ—¥æ›´æ–°">2020 å¹´ 2 æœˆ 11 æ—¥æ›´æ–°</h2><p>æœ€è¿‘åˆæƒ³è£…å› Kodiï¼Œä½†æ˜¯ Tweakbox è‡ªå·±ç”¨ä¸äº†äº†ï¼Œäºæ˜¯æ‰¾äº†æ‰¾å‘ç°äº† AppCakeã€‚</p><p>AppCake å£°ç§°èƒ½åœ¨è¶Šç‹±å’Œéè¶Šç‹±çš„æ‰‹æœºä¸Šä½¿ç”¨ï¼Œç›´æ¥åœ¨è®¾å¤‡ä¸Šç»™åº”ç”¨ç­¾åã€‚</p><ol><li>æ‰‹æœº Safari æ‰“å¼€ <a href="https://iphonecake.com/app/">https://iphonecake.com/app/</a>ï¼Œç‚¹ Installã€‚</li><li>å®‰è£…æè¿°æ–‡ä»¶</li><li>æ‰“å¼€åº”ç”¨ååº”è¯¥è¿˜è¦å†è¦ä½ å®‰è£…å¦ä¸€ä¸ªæè¿°æ–‡ä»¶ç”¨æ¥ç»™åº”ç”¨ç­¾å</li><li>Tweaked Tab æ ‡ç­¾é¡µä¸­ä¸‹è½½å®‰è£… Kodi!</li></ol><p><img src="http://img.frankorz.com/img_0342.png" alt=""></p><h2 id="ä»‹ç»-Tweakbox">ä»‹ç» Tweakbox</h2><p>æœ€ç»ˆå‘ç°äº†å›½å¤–ä¸€ä¸ªä¸é”™çš„å…è´¹æœåŠ¡ï¼š<a href="https://www.tweakboxapp.com/">Tweakbox</a>ï¼Œå®˜æ–¹ä»‹ç»ä¹Ÿå¾ˆä»¤äººæŒ¯å¥‹ï¼š</p><blockquote><p>TweakBox is an app store where you can download apps for iOS devices that are not available in the official Apple app store. TweakBox App is completely free and it has tons of features that make it a very popular choice among the other third party app stores.</p></blockquote><p>ç®€è€Œè¨€ä¹‹ï¼ŒTweakbox å…è®¸ä½ ï¼š</p><ul><li>ä¸éœ€è¦è¶Šç‹±ï¼Œè‹¹æœ ID</li><li>ä¸‹è½½éƒ¨åˆ† Appstore ä¸Šæ²¡æœ‰æˆ–è€…ä»˜è´¹çš„è½¯ä»¶å’Œæ¸¸æˆ</li><li>ä¸‹è½½éƒ¨åˆ†ä¸»æµçš„<strong>ä¿®æ”¹å¢å¼ºç‰ˆ</strong>è½¯ä»¶å’Œæ¸¸æˆ</li></ul><h2 id="å®‰è£…">å®‰è£…</h2><ol><li>iPhone å’Œ iPad è®¾å¤‡ä¸Šåœ¨ Safari æµè§ˆå™¨ä¸­è¿›å…¥ç½‘é¡µ <a href="https://www.tweakboxapp.com/">Download</a></li><li>ç‚¹ â€œInstall Nowâ€ æŒ‰é’®å®‰è£…æè¿°æ–‡ä»¶</li><li>ç„¶åå°±ä¼šä¸‹è½½ Tweakbox åº”ç”¨</li><li>æ‰“å¼€è®¾ç½® -&gt; é€šç”¨ -&gt; æè¿°æ–‡ä»¶ä¸è®¾å¤‡ç®¡ç† -&gt; TweakBox ç‚¹å‡»ä¿¡ä»»</li><li>ä¹‹åå°±èƒ½æ‰“å¼€ Tweakbox åº”ç”¨æ¥å®‰è£…åº”ç”¨äº†ï¼</li><li>æ‰“å¼€ Tweakboxï¼Œç‚¹å‡»å±å¹•ä¸Šæ–¹çš„ Apps é€‰é¡¹ï¼Œç‚¹å‡» Tweakbox Apps ä¸€åˆ—ï¼ŒKodi åº”ç”¨å°±åœ¨å…¶ä¸­ã€‚</li></ol><p><img src="http://img.frankorz.com/5c3b083aede5c.png" alt="å‘ç° Kodi!"></p><p>ç‚¹è¿›å» install å°±èƒ½ä¸‹è½½åº”ç”¨äº†ï¼Œä¸‹è½½å®Œè¿˜éœ€è¦å†æ¬¡å»ä¿¡ä»»æè¿°æ–‡ä»¶æ‰èƒ½ä½¿ç”¨ã€‚</p><p>å”¯ä¸€æœ‰ç‚¹ç¼ºé™·çš„æ˜¯ Kodi æœ‰æ—¶ä¼šå¼¹å‡ºæ’å±å¹¿å‘Šï¼Œæ–­ç½‘ä½¿ç”¨å³å¯ã€‚</p><p>æ±‰åŒ–å‚è€ƒï¼š<a href="https://jingyan.baidu.com/article/6dad50750da52ca122e36e5c.html">KODI æ’­æ”¾å™¨ V17 è®¾ç½®ä¸­æ–‡</a></p><h2 id="æ›´å¤š">æ›´å¤š</h2><p>å‰é¢è¯´åˆ° Tweakbox è¿˜èƒ½å®‰è£…å…¶ä»–å®ç”¨çš„åº”ç”¨ï¼š</p><p><img src="http://img.frankorz.com/5c3b0ade16e14.png" alt=""></p><p><img src="http://img.frankorz.com/5c3b0b00308dd.png" alt="å¢å¼ºç‰ˆ Spotify"></p><p><img src="http://img.frankorz.com/5c3b0b1c42964.png" alt=""></p><p><img src="http://img.frankorz.com/5c3b0b6874005.png" alt=""></p><h2 id="ç¢ç¢å¿µ">ç¢ç¢å¿µ</h2><p>å‘¨æ›´åšå®¢çœŸçš„éš¾ = =ï¼Œæœ‰äº›ä¸»é¢˜è§‰å¾—æ²¡æ¯”åˆ«äººå†™çš„å¥½ï¼Œäºæ˜¯å°±ä¸æƒ³å†™äº†â€¦</p><p>è¿™å‘¨å…ˆæ°´è¿‡å»ï¼Œå†æ¬¡èµä¸‹ Tweakboxï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;2020 å¹´ 2 æœˆ 11 æ—¥æ›´æ–°å¦å¤–ä¸€ç§æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»Šå¤©ä¸€ä¸å°å¿ƒå‘ç° &lt;a href=&quot;https://kodi.tv/&quot;&gt;Kodi&lt;/a&gt; è¿™ä¸ªæ’­æ”¾ç¥å™¨å±…ç„¶è¿˜æœ‰ iPad ç‰ˆï¼&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è‹¹æœ App Store ä¸å…è®¸ Kodi åº”ç”¨å•†å®¶ï¼Œäºæ˜¯è‡ªå·±åœ¨ç½‘ä¸Šæ‰¾äº†äº›æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¶Šç‹±ï¼ˆæ‰‹åŠ¨å†è§ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸‹è½½å®˜æ–¹æä¾›çš„å®‰è£…åŒ…ç”¨ Xcode æ‰“åŒ…è¿›å»ï¼ˆå¤ªéº»çƒ¦ï¼‰&lt;/li&gt;
&lt;li&gt;å›½å†…åŒæ­¥åŠ©æ‰‹ç­‰æä¾›çš„â€œVIP æœåŠ¡â€ï¼Œè´­ä¹°æœåŠ¡åï¼Œç”¨å®ƒä»¬æä¾›ä¼ä¸šè¯ä¹¦æ¥ä¸‹è½½ï¼ˆåƒç›¸éš¾çœ‹ï¼‰&lt;/li&gt;
&lt;li&gt;â€¦&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="å·¥å…·ç™–" scheme="http://frankorz.com/categories/%E5%B7%A5%E5%85%B7%E7%99%96/"/>
    
    
    <category term="iPad" scheme="http://frankorz.com/tags/iPad/"/>
    
    <category term="APP" scheme="http://frankorz.com/tags/APP/"/>
    
  </entry>
  
  <entry>
    <title>Unity å¼€æºåŒç«¯æ¡†æ¶ ET ä¸­åˆå°çƒ­æ›´æ–°æŠ€æœ¯</title>
    <link href="http://frankorz.com/2019/01/06/hotfix-introduction-of-unity-et-framework/"/>
    <id>http://frankorz.com/2019/01/06/hotfix-introduction-of-unity-et-framework/</id>
    <published>2019-01-06T20:42:43.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ET-æ¡†æ¶ç®€ä»‹">ET æ¡†æ¶ç®€ä»‹</h2><p>æ­£æ‰€è°“æ—¶åŠ¿é€ è‹±é›„ï¼Œåœ¨ Web å¼€å‘é¢†åŸŸæˆ–è€…ä¼ ç»Ÿè½¯ä»¶å¼€å‘é¢†åŸŸä¸­ï¼Œäººä»¬æŠŠç»è¿‡åƒé”¤ç™¾ç‚¼çš„ä»£ç æ€»ç»“å‡ºä¸€å¥—å¼€å‘æ¡†æ¶ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡ï¼Œè®©å¼€å‘è€…èƒ½æ›´ä¸“æ³¨äºä¸šåŠ¡æœ¬èº«ã€‚å¯¹äºæ¸¸æˆé¢†åŸŸè€Œè¨€ï¼Œä¸åŒæ¸¸æˆéœ€æ±‚çš„ä¸œè¥¿ä¹Ÿä¸ä¸€æ ·ï¼šæœ‰çš„æ¸¸æˆå¯¹æ€§èƒ½æœ‰ç€è‹›åˆ»è¦æ±‚ï¼Œæœ‰çš„æ¸¸æˆéœ€è¦å¿«é€Ÿåœ°è¿­ä»£å‡ºæ¥ï¼Œæœ‰çš„æ¸¸æˆéœ€è¦è”ç½‘çƒ­æ›´æ–°ç­‰ç­‰ã€‚å› æ­¤ä¸åŒçš„æ¸¸æˆæ¡†æ¶åº”è¿è€Œç”Ÿã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li><a href="https://github.com/EllanJiang/GameFramework">Game Framework</a> æ˜¯ä¸€ä¸ªåŸºäº Unity å¼•æ“çš„æ¸¸æˆæ¡†æ¶ï¼Œä¸»è¦å¯¹æ¸¸æˆå¼€å‘è¿‡ç¨‹ä¸­å¸¸ç”¨æ¨¡å—è¿›è¡Œäº†å°è£…ï¼Œå¾ˆå¤§ç¨‹åº¦åœ°è§„èŒƒå¼€å‘è¿‡ç¨‹ã€åŠ å¿«å¼€å‘é€Ÿåº¦å¹¶ä¿è¯äº§å“è´¨é‡ã€‚</li><li><a href="https://github.com/liangxiegame/QFramework">QFramework</a> ä¸€å¥—æ¸è¿›å¼çš„å¿«é€Ÿå¼€å‘æ¡†æ¶ã€‚æ¡†æ¶å†…éƒ¨ç§¯ç´¯äº†å¤šä¸ªé¡¹ç›®çš„åœ¨å„ä¸ªæŠ€æœ¯æ–¹å‘çš„è§£å†³æ–¹æ¡ˆã€‚</li><li><a href="https://github.com/sschmid/Entitas-CSharp">Entitas</a> ä¸€å¥—åŸºäº C# å’Œ Unity çš„å®ä½“ç»„ä»¶ç³»ç»Ÿã€‚</li><li><a href="https://github.com/Unity-Technologies/EntityComponentSystemSamples">Entities</a> Unity å®˜æ–¹çš„å®ä½“ç»„ä»¶ç³»ç»Ÿå®ç°ï¼Œä¸è¿‡è¿˜æ˜¯ Beta ç‰ˆæœ¬ï¼Œè¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹<a href="https://unity.com/unity/features/job-system-ECS">å®˜ç½‘</a>ã€‚</li><li><a href="https://github.com/strangeioc/strangeioc">StrangeIoC</a> ä¸€å¥—åŸºäº C# å’Œ Unity çš„æ§åˆ¶åè½¬ (Inversion-of-Control) æ¡†æ¶ã€‚</li></ul><p>ä»Šå¤©ä»‹ç»çš„æ˜¯ ET æ¡†æ¶ã€‚</p><blockquote><p>ETæ˜¯ä¸€ä¸ªå¼€æºçš„æ¸¸æˆå®¢æˆ·ç«¯ï¼ˆåŸºäºunity3dï¼‰æœåŠ¡ç«¯åŒç«¯æ¡†æ¶ï¼ŒæœåŠ¡ç«¯æ˜¯ä½¿ç”¨C# .net coreå¼€å‘çš„åˆ†å¸ƒå¼æ¸¸æˆæœåŠ¡ç«¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯å¼€å‘æ•ˆç‡é«˜ï¼Œæ€§èƒ½å¼ºï¼ŒåŒç«¯å…±äº«é€»è¾‘ä»£ç ï¼Œå®¢æˆ·ç«¯æœåŠ¡ç«¯çƒ­æ›´æœºåˆ¶å®Œå–„ï¼ŒåŒæ—¶æ”¯æŒå¯é udp tcp websocketåè®®ï¼Œæ”¯æŒæœåŠ¡ç«¯3D recastå¯»è·¯ç­‰ç­‰</p></blockquote><p>ET æ¡†æ¶èƒ½è®©æˆ‘ä»¬åªç”¨ C# å°±èƒ½æå®šå‰åç«¯ï¼Œçƒ­æ›´æ–°æ–¹é¢ä¹Ÿé‡‡ç”¨äº†åŸºäº C# çš„ IL è¿è¡Œæ—¶â€”â€”<a href="https://ourpalm.github.io/ILRuntime/">ILRuntime</a>ï¼Œ è´¯å½»äº† â€œççˆ±ç”Ÿå‘½ï¼Œè¿œç¦» Luaâ€ è¿™å¥è¯ã€‚ç›®å‰è‡ªå·±æ¥è§¦çš„å¤§å¤šæ˜¯å®¢æˆ·ç«¯éƒ¨åˆ†ï¼Œå› æ­¤æœåŠ¡å™¨æ–¹é¢ä¸åšä»‹ç»ã€‚</p><span id="more"></span><h2 id="æ¡†æ¶æ–‡ä»¶ç»“æ„">æ¡†æ¶æ–‡ä»¶ç»“æ„</h2><p><a href="https://github.com/egametang/ET">ET å®˜ç½‘</a> æœ¬èº«ç»™äº†å¾ˆå¤šä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥å…‹éš† Git ä»“åº“åˆ°æœ¬åœ°ã€‚</p><p>ä¸‹é¢æ¥çœ‹çœ‹æ¯ä¸ªæ–‡ä»¶å¤¹çš„ä½œç”¨ï¼š</p><p><img src="http://img.frankorz.com/5c30b35ce39f5.png" alt=""></p><h2 id="å®¢æˆ·ç«¯æ–‡ä»¶ç»“æ„">å®¢æˆ·ç«¯æ–‡ä»¶ç»“æ„</h2><p>æœ¬æ–‡ä¸»è¦æ¥ä»‹ç»å®¢æˆ·ç«¯ï¼Œå› æ­¤è¿›å…¥åˆ° Unity æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="http://img.frankorz.com/5c30b35088c36.png" alt=""></p><p>å½“å‰ Master åˆ†æ”¯ç›®å‰éœ€è¦ Unity 2018.3 ä»¥ä¸Šç‰ˆæœ¬ã€‚ä½¿ç”¨ä¹‹å‰éœ€è¦å‚è€ƒä¸‹å®˜æ–¹çš„ <a href="https://github.com/egametang/ET/blob/master/Doc/%E8%BF%90%E8%A1%8C%E6%8C%87%E5%8D%97.md">è¿è¡ŒæŒ‡å—</a>ã€‚</p><p>åœ¨ VS ä¸­é‡æ–°ç¼–è¯‘ï¼Œæˆ–è€… Rider Rebuild ä¸€ä¸‹é¡¹ç›®ã€‚Scene é€‰æ‹© Scenes\Init.unityï¼Œç‚¹ Play æŒ‰é’®åº”è¯¥å°±èƒ½æˆåŠŸè¿è¡Œï¼Œçœ‹åˆ°ç™»é™†ç•Œé¢ã€‚</p><p><img src="http://img.frankorz.com/5c30b2ce0c2f1.png" alt=""></p><h2 id="ç»„ä»¶è®¾è®¡">ç»„ä»¶è®¾è®¡</h2><p>ET æ¡†æ¶ä½¿ç”¨äº†ç»„ä»¶çš„è®¾è®¡ï¼Œä¸€åˆ‡éƒ½æ˜¯å®ä½“ï¼ˆEntityï¼‰å’Œç»„ä»¶ï¼ˆComponentï¼‰ï¼Œå®˜æ–¹æ–‡æ¡£ <a href="https://github.com/egametang/ET/blob/master/Doc/%E7%BB%84%E4%BB%B6%E8%AE%BE%E8%AE%A1.md">ç»„ä»¶è®¾è®¡</a> ä»‹ç»çš„å¾ˆè¯¦ç»†ã€‚</p><p>çœ‹å®Œæ–‡æ¡£ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹é¡¹ç›®ä»£ç çš„å¯åŠ¨å…¥å£ã€‚</p><p><img src="http://img.frankorz.com/5c30b502d774a.png" alt=""></p><p>è¿™ä¸ª Init.cs æ–‡ä»¶ï¼Œåœ¨ Model æ–‡ä»¶å¤¹ä¸‹ã€‚å¯èƒ½æœ‰åŒå­¦æ³¨æ„åˆ° Hotfix æ–‡ä»¶å¤¹ä¸‹ä¹Ÿæœ‰ä¸€ä¸ª Init.cs æ–‡ä»¶ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹çš„ç»“æ„å¤§åŒå°å¼‚ï¼Œä¸¤è¾¹éƒ½æœ‰ä¸€äº›ç›¸åŒçš„æ–‡ä»¶ï¼Œè€Œå®ƒä»¬åªæ˜¯å‘½åç©ºé—´ä¸ä¸€æ ·ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç”¨åˆ° ILRuntimeï¼Œè€Œ ILRuntime æœ€å¥½ä¸è¦è·¨åŸŸç»§æ‰¿ã€‚</p><p><code>Model/Init.cs</code> æ–‡ä»¶ä¸­</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">async</span> ETVoid <span class="title">StartAsync</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// æ·»åŠ äº†ç»„ä»¶ï¼Œå°±èµ‹äºˆäº†å„ç§åŠŸèƒ½ã€‚</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚åŠ äº† Timer ç»„ä»¶ï¼Œå°±æœ‰äº†è®¡æ—¶åŠŸèƒ½</span></span><br><span class="line">Game.Scene.AddComponent&lt;TimerComponent&gt;();</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹è½½çƒ­æ›´ç”¨çš„ AssetBundle åŒ…</span></span><br><span class="line"><span class="keyword">await</span> BundleHelper.DownloadBundle();</span><br><span class="line"><span class="comment">// åŠ è½½çƒ­æ›´ç”¨çš„dllç­‰æ–‡ä»¶ï¼Œè°ƒç”¨ Hotfix/Init.cs</span></span><br><span class="line">Game.Hotfix.LoadHotfixAssembly();</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½é…ç½®</span></span><br><span class="line">Game.Scene.GetComponent&lt;ResourcesComponent&gt;().LoadBundle(<span class="string">&quot;config.unity3d&quot;</span>);</span><br><span class="line">Game.Scene.AddComponent&lt;ConfigComponent&gt;();</span><br><span class="line"><span class="comment">// åŠ è½½åå¸è½½ç›¸åº”çš„ AB åŒ…</span></span><br><span class="line">Game.Scene.GetComponent&lt;ResourcesComponent&gt;().UnloadBundle(<span class="string">&quot;config.unity3d&quot;</span>);</span><br><span class="line">Game.Scene.AddComponent&lt;OpcodeTypeComponent&gt;();</span><br><span class="line">Game.Scene.AddComponent&lt;MessageDispatcherComponent&gt;();</span><br><span class="line"></span><br><span class="line">Game.Hotfix.GotoHotfix();</span><br><span class="line"></span><br><span class="line">Game.EventSystem.Run(EventIdType.TestHotfixSubscribMonoEvent, <span class="string">&quot;TestHotfixSubscribMonoEvent&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ç»„ä»¶è®¾è®¡ï¼Œå¯ä»¥è½»æ˜“åœ°åŠ è½½ç»„ä»¶å’Œå¸è½½ç»„ä»¶ï¼Œä¾‹å¦‚æˆ‘å¯ä»¥å†™ä¸€ä¸ªå¿ƒè·³åŒ…ç»„ä»¶æ¥æ¯éš”30ç§’å‘é€ä¸€ä¸ªå¿ƒè·³åŒ…åˆ°æœåŠ¡å™¨ï¼Œå½“æˆ‘éœ€è¦è¿™ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ <code>AddComponent</code>ï¼Œä¸éœ€è¦çš„æ—¶å€™å¯ä»¥ <code>RemoveComponent</code> ç§»é™¤ç»„ä»¶ã€‚</p><h2 id="ç™»é™†ç•Œé¢çš„çƒ­æ›´æ–°å¯åŠ¨è¿‡ç¨‹">ç™»é™†ç•Œé¢çš„çƒ­æ›´æ–°å¯åŠ¨è¿‡ç¨‹</h2><p>æ¥ä¸‹æ¥çœ‹åˆ° <code>Hotfix/Init.cs</code> æ–‡ä»¶ä¸­</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">try</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// æ³¨å†Œçƒ­æ›´å±‚å›è°ƒ</span></span><br><span class="line">ETModel.Game.Hotfix.Update = () =&gt; &#123; Update(); &#125;;</span><br><span class="line">ETModel.Game.Hotfix.LateUpdate = () =&gt; &#123; LateUpdate(); &#125;;</span><br><span class="line">ETModel.Game.Hotfix.OnApplicationQuit = () =&gt; &#123; OnApplicationQuit(); &#125;;</span><br><span class="line">...</span><br><span class="line"><span class="comment">// åŠ è½½çƒ­æ›´é…ç½®</span></span><br><span class="line">ETModel.Game.Scene.GetComponent&lt;ResourcesComponent&gt;().LoadBundle(<span class="string">&quot;config.unity3d&quot;</span>);</span><br><span class="line">Game.Scene.AddComponent&lt;ConfigComponent&gt;();</span><br><span class="line">ETModel.Game.Scene.GetComponent&lt;ResourcesComponent&gt;().UnloadBundle(<span class="string">&quot;config.unity3d&quot;</span>);</span><br><span class="line"></span><br><span class="line">UnitConfig unitConfig = (UnitConfig)Game.Scene.GetComponent&lt;ConfigComponent&gt;().Get(<span class="keyword">typeof</span>(UnitConfig), <span class="number">1001</span>);</span><br><span class="line">Log.Debug(<span class="string">$&quot;config <span class="subst">&#123;JsonHelper.ToJson(unitConfig)&#125;</span>&quot;</span>);</span><br><span class="line"><span class="comment">// å‘é€äº‹ä»¶æ¥å¯åŠ¨ç•Œé¢</span></span><br><span class="line">Game.EventSystem.Run(EventIdType.InitSceneStart);</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥çœ‹çœ‹å‘é€çš„äº‹ä»¶ï¼Œä»£ç åœ¨<br><code>Hotfix\Module\Demo\UI\UILogin\System\InitSceneStart_CreateLoginUI.cs</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">ETHotfix</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// ç”¨ Attribute æ¥æ³¨å†Œäº‹ä»¶</span></span><br><span class="line">[<span class="meta">Event(EventIdType.InitSceneStart)</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InitSceneStart_CreateLoginUI</span>: <span class="title">AEvent</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Run</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">UI ui = UILoginFactory.Create();</span><br><span class="line"><span class="comment">// è¿™é‡Œå°±æ˜¯å¯åŠ¨ç™»é™†ç•Œé¢çš„åœ°æ–¹ï¼Œç•Œé¢å¯ä»¥ç›´æ¥ add æˆ–è€… remove</span></span><br><span class="line">Game.Scene.GetComponent&lt;UIComponent&gt;().Add(ui);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¥çœ‹çœ‹ä¸€ä¸ªç•Œé¢æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œä»£ç åœ¨ <code>Hotfix\Module\Demo\UI\UILogin\System\UILoginFactory.cs</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> UI <span class="title">Create</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"> ...</span><br><span class="line">    ResourcesComponent resourcesComponent = ETModel.Game.Scene.GetComponent&lt;ResourcesComponent&gt;();</span><br><span class="line"><span class="comment">// è®©èµ„æºç»„ä»¶è¯»å–ç™»é™†ç•Œé¢çš„ AB åŒ…</span></span><br><span class="line">    resourcesComponent.LoadBundle(UIType.UILogin.StringToAB());</span><br><span class="line"><span class="comment">// ä» AB åŒ…æ‹¿åˆ°ç™»é™†ç•Œé¢çš„ GameObject</span></span><br><span class="line">    GameObject bundleGameObject = (GameObject) resourcesComponent.GetAsset(UIType.UILogin.StringToAB(), UIType.UILogin);</span><br><span class="line">    GameObject gameObject = UnityEngine.Object.Instantiate(bundleGameObject);</span><br><span class="line"></span><br><span class="line">    UI ui = ComponentFactory.Create&lt;UI, <span class="built_in">string</span>, GameObject&gt;(UIType.UILogin, gameObject, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">// æ·»åŠ ç™»é™†ç•Œé¢ç»„ä»¶</span></span><br><span class="line">    ui.AddComponent&lt;UILoginComponent&gt;();</span><br><span class="line">    <span class="keyword">return</span> ui;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥çœ‹çœ‹ç™»é™†ç•Œé¢ç»„ä»¶ï¼Œä»£ç åœ¨ <code>Hotfix\Module\Demo\UI\UILogin\Component\UILoginComponent.cs</code></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UILoginComponent</span>: <span class="title">Component</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">private</span> GameObject account;</span><br><span class="line"><span class="keyword">private</span> GameObject loginBtn;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// é€šè¿‡å¼•ç”¨æ¥è·å– UI ç»„ä»¶ï¼Œå†ä¸ºå…¶æ·»åŠ ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">ReferenceCollector rc = <span class="keyword">this</span>.GetParent&lt;UI&gt;().GameObject.GetComponent&lt;ReferenceCollector&gt;();</span><br><span class="line">loginBtn = rc.Get&lt;GameObject&gt;(<span class="string">&quot;LoginBtn&quot;</span>);</span><br><span class="line">loginBtn.GetComponent&lt;Button&gt;().onClick.Add(OnLogin);</span><br><span class="line"><span class="keyword">this</span>.account = rc.Get&lt;GameObject&gt;(<span class="string">&quot;Account&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnLogin</span>()</span></span><br><span class="line">&#123; <span class="comment">// æœ‰å…´è¶£å¯ä»¥å†è¿›å»çœ‹çœ‹ OnLoginAsyncï¼Œå…¶ä¸­ç™»é™†çš„ Session è¿æ¥äº†æœåŠ¡å™¨åœ°å€ 127.0.0.1:10002</span></span><br><span class="line">LoginHelper.OnLoginAsync(<span class="keyword">this</span>.account.GetComponent&lt;InputField&gt;().text).Coroutine();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœåŠ¡å™¨åœ°å€å­˜åœ¨äº† Tools èœå•ä¸­çš„å…¨å±€é…ç½®ï¼Œä¸Šé¢çš„èµ„æºè·¯å¾„åˆ™æ˜¯çƒ­æ›´æ–°æœåŠ¡å™¨çš„åœ°å€ã€‚</p><p><img src="http://img.frankorz.com/5c30c3d30a5a8.png" alt=""></p><p>æ¸¸æˆè¿è¡Œåï¼Œåœ¨ Hierarchy ç•Œé¢ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ç»„ä»¶çš„ç»“æ„ï¼Œå…¶ä¸­ <code>uilogin.unity3d</code> å°±æ˜¯ç™»é™†ç•Œé¢çš„ AB åŒ…å¼•ç”¨ï¼š</p><p><img src="http://img.frankorz.com/5c30bd561727f.png" alt=""></p><p>è¿™å°±æ˜¯é€šè¿‡çƒ­æ›´æ–°é€»è¾‘ç”Ÿæˆçš„ç•Œé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ä»£ç è®©æˆ‘ä»¬å¯ä»¥é€šè¿‡çƒ­æ›´æ–°æ¥ç»™åº”ç”¨åŠ è½½å„ç§ç•Œé¢å’Œæ”¹å†™é¡µé¢è·³è½¬é€»è¾‘ï¼Œå½“ç„¶è¿˜å¯ä»¥é€šè¿‡çƒ­æ›´æ¥å¢åŠ ä¿®æ”¹æ¸¸æˆé€»è¾‘å’ŒåŠŸèƒ½ã€‚</p><p>å¦‚æœä¸å–œæ¬¢è¿™ç§é¡µé¢åŠ è½½æ–¹å¼ï¼Œå¯ä»¥è€ƒè™‘ä¸ä½¿ç”¨ <code>Hotfix/Init.cs</code> ä¸­çš„ <code>Game.Scene.AddComponent&lt;UIComponent&gt;();</code> è¿™ä¸ª UIComponentï¼Œè€Œä½¿ç”¨å…¶ä»– UI ç»„ä»¶ï¼Œä¾‹å¦‚ä¸»ä»“åº“ä¸­çš„ FairyGUI åˆ†æ”¯ï¼Œè®© FairyGUI æ¥å•ç‹¬è´Ÿè´£ UI ç•Œé¢ã€‚è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡ºåŸºäºç»„ä»¶çš„æ¡†æ¶çš„çµæ´»æ€§ï¼Œæˆ‘ä»¥åä¹Ÿä¼šå‡ºæ–‡ç« å•ç‹¬ä»‹ç» FairyGUIã€‚</p><h2 id="çƒ­æ›´æ–°åˆ‡æ¢">çƒ­æ›´æ–°åˆ‡æ¢</h2><p>é¦–å…ˆçœ‹çœ‹ä½œè€…çš„ä»‹ç»ï¼š</p><blockquote><p>7.å®¢æˆ·ç«¯çƒ­æ›´æ–°ä¸€é”®åˆ‡æ¢<br>å› ä¸ºiosçš„é™åˆ¶ï¼Œä¹‹å‰unityçƒ­æ›´æ–°ä¸€èˆ¬ä½¿ç”¨luaï¼Œå¯¼è‡´unity3då¼€å‘äººå‘˜è¦å†™ä¸¤ç§ä»£ç ï¼Œéº»çƒ¦çš„è¦æ­»ã€‚ä¹‹åå¹¸å¥½å‡ºäº†ILRuntimeåº“ï¼Œåˆ©ç”¨ILRuntimeåº“ï¼Œunity3då¯ä»¥åˆ©ç”¨C#è¯­è¨€åŠ è½½çƒ­æ›´æ–°dllè¿›è¡Œçƒ­æ›´æ–°ã€‚ILRuntimeä¸€ä¸ªç¼ºé™·å°±æ˜¯å¼€å‘æ—¶å€™ä¸æ”¯æŒVS debugï¼Œè¿™æœ‰ç‚¹ä¸çˆ½ã€‚ETæ¡†æ¶ä½¿ç”¨äº†ä¸€ä¸ªé¢„ç¼–è¯‘æŒ‡ä»¤ILRuntimeï¼Œå¯ä»¥æ— ç¼åˆ‡æ¢ã€‚å¹³å¸¸å¼€å‘çš„æ—¶å€™ä¸ä½¿ç”¨ILRuntimeï¼Œè€Œæ˜¯ä½¿ç”¨Assembly.LoadåŠ è½½çƒ­æ›´æ–°åŠ¨æ€åº“ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿ç”¨VSå•æ­¥è°ƒè¯•ã€‚åœ¨å‘å¸ƒçš„æ—¶å€™ï¼Œå®šä¹‰é¢„ç¼–è¯‘æŒ‡ä»¤ILRuntimeå°±å¯ä»¥æ— ç¼åˆ‡æ¢æˆä½¿ç”¨ILRuntimeåŠ è½½çƒ­æ›´æ–°åŠ¨æ€åº“ã€‚è¿™æ ·å¼€å‘èµ·æ¥åŠå…¶æ–¹ä¾¿ï¼Œå†ä¹Ÿä¸ç”¨ä½¿ç”¨ç‹—å±luaäº†<br>8.å®¢æˆ·ç«¯å…¨çƒ­æ›´æ–°<br>å®¢æˆ·ç«¯å¯ä»¥å®ç°æ‰€æœ‰é€»è¾‘çƒ­æ›´æ–°ï¼ŒåŒ…æ‹¬åè®®ï¼Œconfigï¼Œuiç­‰ç­‰</p></blockquote><p><img src="http://img.frankorz.com/5c30c69760435.png" alt=""></p><p>é¢„ç¼–è¯‘æŒ‡ä»¤æŒ‡çš„å°±æ˜¯åœ¨ Player Setting ä¸­ï¼Œä¸Šå›¾å³ä¸‹è§’ç®­å¤´æŒ‡ç€çš„åœ°æ–¹ã€‚å½“å‰æœ‰ä¸¤ä¸ªé¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œé€šå¸¸åœ¨å¼€å‘ä¸­ï¼Œå¯ä»¥åªå¡«å†™ <code>NET452</code>ï¼Œè¿™æ ·å¯ä»¥å¾—åˆ°å®Œæ•´çš„å †æ ˆä¿¡æ¯æ¥è°ƒè¯•ç¨‹åºã€‚è¿˜æœ‰ä¸€ä¸ªé¢„ç¼–è¯‘æŒ‡ä»¤ <code>ASYNC</code>ï¼ŒåŠ ä¸Šåï¼Œåº”ç”¨å°±ä¼šä»å‰é¢å¡«å†™çš„çƒ­æ›´æ–°æœåŠ¡å™¨ä¸‹è½½çƒ­æ›´åŒ…ï¼Œè¯¥æŒ‡ä»¤åœ¨åæ–‡ä¼šæåˆ°ã€‚</p><p>åœ¨å›½å†…ç¯å¢ƒä¸‹ï¼Œæ‰‹æœºæ¸¸æˆçƒ­æ›´æ–°çš„éœ€æ±‚è¾ƒå¼ºçƒˆã€‚å¸‚åœºä¸Šæ‰‹æœºç³»ç»Ÿæ™®éåˆ†æˆ Android å’Œ iOS é˜µè¥ï¼Œå…¶ä¸­ iOS ä¸æ”¯æŒ JIT çƒ­æ›´ï¼Œå› æ­¤ ET æ¡†æ¶ç»™äº†ä¸¤ç§é€‰æ‹©ï¼šILRuntime çƒ­æ›´æ–°å’Œ Mono çƒ­æ›´æ–°ã€‚</p><p>ä¸¤è€…æ¦‚å¿µå¯ä»¥å‚è€ƒæ–‡æœ«çš„å‚è€ƒé“¾æ¥ï¼Œåœ¨è¿™é‡Œä¸å¤šè¯´ã€‚</p><h2 id="ä½“éªŒçƒ­æ›´æ–°">ä½“éªŒçƒ­æ›´æ–°</h2><p>ä½“éªŒçƒ­æ›´æ–°ä¹‹å‰ï¼Œå…ˆæŠŠé¡¹ç›®åˆ‡åˆ° Android å¹³å°ã€‚</p><p>æŒ‰ç…§ä¸‹å›¾é…ç½® Mono çƒ­æ›´æ–°ï¼š</p><p><img src="http://img.frankorz.com/5c31edd4669a9.png" alt=""></p><p>ç¡®ä¿ Scripting Backend ä¸º Monoï¼Œä¸‹é¢é¢„ç¼–è¯‘å®å»æ‰ ILRuntimeï¼ŒåŠ ä¸Š ASYNCï¼ŒæŒ‰ä¸‹<strong>å›è½¦é”®</strong>æ‰§è¡Œå˜æ›´ã€‚ASYNC è¯´æ˜æˆ‘ä»¬ç°åœ¨çš„çƒ­æ›´æ–°èµ„æºä»èµ„æºæœåŠ¡å™¨ä¸­è·å–ï¼Œè¿™é‡Œçš„çƒ­æ›´æ–°èµ„æºåŒ…æ‹¬ Res æ–‡ä»¶å¤¹ã€Bundles æ–‡ä»¶å¤¹ã€Hotfix æ–‡ä»¶å¤¹ä¸­çš„ä»£ç ç­‰ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç™»é™†ç•Œé¢çš„ä»£ç å°±å·²ç»å†™åœ¨çƒ­æ›´æ–°æ–‡ä»¶å¤¹ä¸­äº†ï¼Œæˆ‘ä»¬å°†å°è¯•é€šè¿‡çƒ­æ›´æ–°æ¥å±•ç¤ºç™»é™†ç•Œé¢ã€‚</p><p>ç‚¹å‡» Play æŒ‰é’®ï¼Œä¼šæœ‰ä¸¤ä¸ªæŠ¥é”™ï¼š</p><p><img src="http://img.frankorz.com/5c31eefc3359a.png" alt=""></p><p>ç¬¬äºŒä¸ª Log ä¿¡æ¯å±•ç¤ºäº†åº”ç”¨æƒ³è¦è·å–èµ„æºçš„çƒ­æ›´èµ„æºæœåŠ¡å™¨åœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯ä»¥åœ¨ Tools èœå•çš„å…¨å±€é…ç½®ä¸­æ‰¾åˆ°ã€‚æŠ¥é”™ä¿¡æ¯æç¤ºæ‰¾ä¸åˆ°ç»ˆç«¯ä¸»æœºã€‚æŠ¥é”™æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ã€‚</p><p>é¦–å…ˆè¦ç”Ÿæˆçƒ­æ›´æ–°æ–‡ä»¶ï¼Œåœ¨ Tools èœå•ä¸­ç‚¹å‡»æ‰“åŒ…å·¥å…·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="http://img.frankorz.com/5c31f02a12e8c.png" alt=""></p><p>å¹³å°é€‰æ‹©å½“å‰çš„ Android å¹³å°ï¼Œç›®å‰ä¸éœ€è¦æ‰“åŒ…åº”ç”¨ï¼Œæ‰€ä»¥æ— è§†ç¬¬ä¸€ä¸ªå•é€‰æŒ‰é’®ã€‚</p><p>å‰é¢çš„æ€ç»´å¯¼å›¾æåˆ°äº† ET æ ¹ç›®å½•çš„ Release æ–‡ä»¶å¤¹å­˜çš„å°±æ˜¯çƒ­æ›´æ–°èµ„æºæ–‡ä»¶ã€‚æ‰“åŒ…å·¥å…·ä¹Ÿä¼šæŠŠæ‰“åŒ…åçš„èµ„æºæ”¾åœ¨ Release æ–‡ä»¶å¤¹ä¸‹ã€‚è€Œç¬¬äºŒä¸ªæŒ‰é’®æŒ‡çš„æ˜¯æ˜¯å¦æŠŠæ‰“åŒ…çš„çƒ­æ›´æ–°èµ„æºä¹Ÿæ”¾åœ¨åº”ç”¨ä¸­ï¼Œç›®å‰ä¹Ÿä¸éœ€è¦é€‰æ‹©ã€‚å¼€å¯çƒ­æ›´æ–°åï¼Œåº”ç”¨ä¼šæ¯”è¾ƒæœåŠ¡å™¨å’Œæœ¬åœ°åº”ç”¨çš„ Version æ–‡ä»¶ï¼Œè®¡ç®—æ–‡ä»¶å·®å¼‚åæ‰ä¼šä¸‹è½½ç›¸å…³çš„çƒ­æ›´æ–°èµ„æºæ–‡ä»¶ã€‚</p><p>å¦‚æœå‹¾é€‰äº†ç¬¬äºŒä¸ªæŒ‰é’®ï¼Œæ‰“åŒ…å·¥å…·å°†ä¼šæŠŠèµ„æºä¹Ÿå¤åˆ¶åˆ° Assets/StreamingAssets æ–‡ä»¶å¤¹ä¸‹ï¼ŒåŒæ—¶æ›´æ–° Version æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°†ä¸èƒ½æµ‹è¯•ä¸‹è½½çƒ­æ›´åŒ…çš„è¿‡ç¨‹ã€‚</p><p><img src="http://img.frankorz.com/5c31f17b71319.png" alt=""></p><p>ç‚¹å‡»å¼€å§‹æ‰“åŒ…åï¼Œçƒ­æ›´æ–‡ä»¶å°±ç”Ÿæˆäº†ï¼š</p><p><img src="http://img.frankorz.com/5c31f2f8dbf1d.png" alt=""></p><p>å†ç‚¹å‡» Tools èœå•ä¸­çš„ web èµ„æºæœåŠ¡å™¨å¼€å¯æ˜ å°„äº† Release æ–‡ä»¶å¤¹çš„æœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨ã€‚</p><p>ç‚¹å‡» Play æŒ‰é’®ï¼Œåº”ç”¨é€šè¿‡ä¸‹è½½çƒ­æ›´æ–°èµ„æºï¼Œç”Ÿæˆäº†ç™»é™†ç•Œé¢ï¼Œä¹ŸæŠŠçƒ­æ›´èµ„æºä¸‹è½½åˆ°äº†åº”ç”¨ä¸­ï¼Œä¹Ÿå°±æ˜¯ Assets/StreamingAssets æ–‡ä»¶å¤¹ã€‚</p><p><img src="http://img.frankorz.com/5c31f3b4ad69f.png" alt=""></p><p>é‡æ–°å¯åŠ¨ web èµ„æºæœåŠ¡å™¨æ¸…é™¤ log ä¿¡æ¯ï¼Œå†æ¬¡è¿è¡Œåº”ç”¨ï¼Œä¼šå‘ç°æ²¡æœ‰å†æ¬¡ä¸‹è½½çƒ­æ›´æ–°èµ„æºã€‚å› ä¸ºå¯¹æ¯”äº† Version æ–‡ä»¶åï¼Œåº”ç”¨æœ¬åœ°çš„æ–‡ä»¶å·²ç»ä¸éœ€è¦æ›´æ–°äº†ã€‚</p><p><img src="http://img.frankorz.com/5c31f4aa1c424.png" alt=""></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€æ¬¡å®Œæ•´çš„çƒ­æ›´æ–°ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>ET æ¡†æ¶ç»™äº†æˆ‘ä»¬ä¸€ç§ç»Ÿä¸€çš„å¼€å‘ä½“éªŒï¼Œæä¾›äº†æ–¹ä¾¿çš„çƒ­æ›´æ–°åˆ‡æ¢å’Œè°ƒè¯•æ–¹æ¡ˆï¼Œè¿™è¶³ä»¥æ”¯æ’‘èµ·ä¸€äº›å°æ¸¸æˆçš„å¼€å‘éœ€æ±‚ï¼Œæœ‰éœ€è¦çš„åŒå­¦å¯ä»¥äº†è§£ä¸‹ <a href="https://github.com/egametang/ET">ET æ¡†æ¶</a>~</p><p>2019 å¹´ç«‹äº†ä¸ª Flagï¼šå‘¨æ›´æŠ€æœ¯åšå®¢ï¼Œæ¬¢è¿ç£ä¿ƒå’Œäº¤æµï¼Œä¹Ÿæ¬¢è¿å¸¸æ¥æˆ‘åšå®¢ <a href="http://frankorz.com">è¤ç«ä¹‹æ£®</a> é€›ï¼</p><h2 id="å‚è€ƒ">å‚è€ƒ</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/34551169">ä¸€äº›æ–°æ½®çš„Unityçƒ­æ›´æ–¹æ¡ˆ</a></li><li><a href="https://answer.uwa4d.com/question/5abdea21425802635474fbb4">Monoå’ŒIL2CPPé€‰å“ªä¸ªæ›´åˆé€‚ï¼Ÿ</a></li><li><a href="https://zhuanlan.zhihu.com/p/37291067">Unityå®ç°c#çƒ­æ›´æ–°æ–¹æ¡ˆæ¢ç©¶ï¼ˆä¸€ï¼‰</a></li><li><a href="https://answer.uwa4d.com/question/5a9fc420d35eb22c10a0a365">å…³äºçƒ­æ›´æ–°ï¼Œå¤§å®¶ç°åœ¨éƒ½æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</a> ä¸­ç½‘å‹ gx çš„å›ç­”</li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ET-æ¡†æ¶ç®€ä»‹&quot;&gt;ET æ¡†æ¶ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;æ­£æ‰€è°“æ—¶åŠ¿é€ è‹±é›„ï¼Œåœ¨ Web å¼€å‘é¢†åŸŸæˆ–è€…ä¼ ç»Ÿè½¯ä»¶å¼€å‘é¢†åŸŸä¸­ï¼Œäººä»¬æŠŠç»è¿‡åƒé”¤ç™¾ç‚¼çš„ä»£ç æ€»ç»“å‡ºä¸€å¥—å¼€å‘æ¡†æ¶ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡ï¼Œè®©å¼€å‘è€…èƒ½æ›´ä¸“æ³¨äºä¸šåŠ¡æœ¬èº«ã€‚å¯¹äºæ¸¸æˆé¢†åŸŸè€Œè¨€ï¼Œä¸åŒæ¸¸æˆéœ€æ±‚çš„ä¸œè¥¿ä¹Ÿä¸ä¸€æ ·ï¼šæœ‰çš„æ¸¸æˆå¯¹æ€§èƒ½æœ‰ç€è‹›åˆ»è¦æ±‚ï¼Œæœ‰çš„æ¸¸æˆéœ€è¦å¿«é€Ÿåœ°è¿­ä»£å‡ºæ¥ï¼Œæœ‰çš„æ¸¸æˆéœ€è¦è”ç½‘çƒ­æ›´æ–°ç­‰ç­‰ã€‚å› æ­¤ä¸åŒçš„æ¸¸æˆæ¡†æ¶åº”è¿è€Œç”Ÿã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/EllanJiang/GameFramework&quot;&gt;Game Framework&lt;/a&gt; æ˜¯ä¸€ä¸ªåŸºäº Unity å¼•æ“çš„æ¸¸æˆæ¡†æ¶ï¼Œä¸»è¦å¯¹æ¸¸æˆå¼€å‘è¿‡ç¨‹ä¸­å¸¸ç”¨æ¨¡å—è¿›è¡Œäº†å°è£…ï¼Œå¾ˆå¤§ç¨‹åº¦åœ°è§„èŒƒå¼€å‘è¿‡ç¨‹ã€åŠ å¿«å¼€å‘é€Ÿåº¦å¹¶ä¿è¯äº§å“è´¨é‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/liangxiegame/QFramework&quot;&gt;QFramework&lt;/a&gt; ä¸€å¥—æ¸è¿›å¼çš„å¿«é€Ÿå¼€å‘æ¡†æ¶ã€‚æ¡†æ¶å†…éƒ¨ç§¯ç´¯äº†å¤šä¸ªé¡¹ç›®çš„åœ¨å„ä¸ªæŠ€æœ¯æ–¹å‘çš„è§£å†³æ–¹æ¡ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/sschmid/Entitas-CSharp&quot;&gt;Entitas&lt;/a&gt; ä¸€å¥—åŸºäº C# å’Œ Unity çš„å®ä½“ç»„ä»¶ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Unity-Technologies/EntityComponentSystemSamples&quot;&gt;Entities&lt;/a&gt; Unity å®˜æ–¹çš„å®ä½“ç»„ä»¶ç³»ç»Ÿå®ç°ï¼Œä¸è¿‡è¿˜æ˜¯ Beta ç‰ˆæœ¬ï¼Œè¯¦ç»†ä»‹ç»å¯ä»¥æŸ¥çœ‹&lt;a href=&quot;https://unity.com/unity/features/job-system-ECS&quot;&gt;å®˜ç½‘&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/strangeioc/strangeioc&quot;&gt;StrangeIoC&lt;/a&gt; ä¸€å¥—åŸºäº C# å’Œ Unity çš„æ§åˆ¶åè½¬ (Inversion-of-Control) æ¡†æ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»Šå¤©ä»‹ç»çš„æ˜¯ ET æ¡†æ¶ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ETæ˜¯ä¸€ä¸ªå¼€æºçš„æ¸¸æˆå®¢æˆ·ç«¯ï¼ˆåŸºäºunity3dï¼‰æœåŠ¡ç«¯åŒç«¯æ¡†æ¶ï¼ŒæœåŠ¡ç«¯æ˜¯ä½¿ç”¨C# .net coreå¼€å‘çš„åˆ†å¸ƒå¼æ¸¸æˆæœåŠ¡ç«¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯å¼€å‘æ•ˆç‡é«˜ï¼Œæ€§èƒ½å¼ºï¼ŒåŒç«¯å…±äº«é€»è¾‘ä»£ç ï¼Œå®¢æˆ·ç«¯æœåŠ¡ç«¯çƒ­æ›´æœºåˆ¶å®Œå–„ï¼ŒåŒæ—¶æ”¯æŒå¯é udp tcp websocketåè®®ï¼Œæ”¯æŒæœåŠ¡ç«¯3D recastå¯»è·¯ç­‰ç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ET æ¡†æ¶èƒ½è®©æˆ‘ä»¬åªç”¨ C# å°±èƒ½æå®šå‰åç«¯ï¼Œçƒ­æ›´æ–°æ–¹é¢ä¹Ÿé‡‡ç”¨äº†åŸºäº C# çš„ IL è¿è¡Œæ—¶â€”â€”&lt;a href=&quot;https://ourpalm.github.io/ILRuntime/&quot;&gt;ILRuntime&lt;/a&gt;ï¼Œ è´¯å½»äº† â€œççˆ±ç”Ÿå‘½ï¼Œè¿œç¦» Luaâ€ è¿™å¥è¯ã€‚ç›®å‰è‡ªå·±æ¥è§¦çš„å¤§å¤šæ˜¯å®¢æˆ·ç«¯éƒ¨åˆ†ï¼Œå› æ­¤æœåŠ¡å™¨æ–¹é¢ä¸åšä»‹ç»ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Unity" scheme="http://frankorz.com/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>Unity ä¸­ç”¨æœ‰é™çŠ¶æ€æœºæ¥å®ç°ä¸€ä¸ª AI</title>
    <link href="http://frankorz.com/2018/06/22/finite-state-machine-in-unity/"/>
    <id>http://frankorz.com/2018/06/22/finite-state-machine-in-unity/</id>
    <published>2018-06-22T18:19:31.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨é˜…è¯»ã€Šæ¸¸æˆäººå·¥æ™ºèƒ½ç¼–ç¨‹æ¡ˆä¾‹ç²¾ç²¹ï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹ï¼Œæœ¬æ–‡æ˜¯ä¹¦ä¸­ç¬¬äºŒç« çš„ä¸€ç¯‡ç¬”è®°ã€‚</p><p>æœ‰é™çŠ¶æ€æœºï¼ˆè‹±è¯­ï¼šFinite-state machine, ç¼©å†™ï¼šFSMï¼‰ï¼Œæ˜¯ä¸€ä¸ªè¢«æ•°å­¦å®¶ç”¨æ¥è§£å†³é—®é¢˜çš„ä¸¥æ ¼å½¢å¼åŒ–çš„è®¾å¤‡ï¼Œåœ¨æ¸¸æˆä¸šä¸­ä¹Ÿå¸¸è§æœ‰é™çŠ¶æ€æœºçš„èº«å½±ã€‚</p><p>å¯¹äºæ¸¸æˆç¨‹åºå‘˜æ¥è¯´ï¼Œå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå®šä¹‰æ¥äº†è§£ï¼š</p><blockquote><p>ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºæ˜¯ä¸€ä¸ªè®¾å¤‡ï¼ˆdeviceï¼‰ï¼Œæˆ–æ˜¯ä¸€ä¸ªè®¾å¤‡æ¨¡å‹ï¼ˆa model of a deviceï¼‰ã€‚å…·æœ‰æœ‰é™æ•°é‡çš„çŠ¶æ€ï¼Œå®ƒå¯ä»¥åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´æ ¹æ®è¾“å…¥è¿›è¡Œæ“ä½œï¼Œæ˜¯çš„ä»ä¸€ä¸ªçŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ï¼Œæˆ–è€…æ˜¯ä¿ƒä½¿ä¸€ä¸ªè¾“å‡ºæˆ–è€…ä¸€ç§è¡Œä¸ºçš„å‘ç”Ÿã€‚ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºåœ¨ä»»ä½•ç¬é—´åªèƒ½å¤„åœ¨ä¸€ç§çŠ¶æ€ã€‚<br>â€”â€”ã€Šæ¸¸æˆäººå·¥æ™ºèƒ½ç¼–ç¨‹æ¡ˆä¾‹ç²¾ç²¹ï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹ Mat Buckland</p></blockquote><p>æœ‰é™çŠ¶æ€æœºå°±æ˜¯è¦æŠŠä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºåˆ†è§£æˆæ˜“äºå¤„ç†çš„â€œå—â€æˆ–è€…çŠ¶æ€ã€‚æ‹¿æŸä¸ªå¼€å…³æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ†æˆä¸¤ä¸ªçŠ¶æ€ï¼šå¼€æˆ–å…³ã€‚å…¶ä¸­å¼€å¼€å…³è¿™ä¸ªæ“ä½œï¼Œå°±æ˜¯ä¸€æ¬¡<strong>çŠ¶æ€è½¬ç§»</strong>ï¼Œä½¿å¼€å…³çš„çŠ¶æ€ä»â€œå…³â€å˜æ¢åˆ°â€œå¼€â€ï¼Œåä¹‹äº¦ç„¶ã€‚</p><span id="more"></span><p>æ‹¿æ¸¸æˆæ¥ä¸¾ä¾‹ï¼Œä¸€ä¸ª FPS æ¸¸æˆä¸­çš„æ•Œäºº AI çŠ¶æ€å¯ä»¥åˆ†æˆï¼šå·¡é€»ã€ä¾¦æŸ¥ï¼ˆå¬åˆ°äº†ç©å®¶ï¼‰ã€è¿½é€ï¼ˆç©å®¶å‡ºç°åœ¨ AI è§†é‡ï¼‰ã€æ”»å‡»ï¼ˆç©å®¶è¿›å…¥ AI æ”»å‡»èŒƒå›´ï¼‰ã€æ­»äº¡ç­‰ï¼Œè¿™äº›<strong>æœ‰é™çš„</strong>çŠ¶æ€éƒ½<strong>äº’ç›¸ç‹¬ç«‹</strong>ï¼Œä¸”è¦<strong>æ»¡è¶³æŸç§æ¡ä»¶</strong>æ‰èƒ½ä»ä¸€ä¸ªçŠ¶æ€è½¬ç§»åˆ°å¦å¤–ä¸€ä¸ªçŠ¶æ€ã€‚</p><p>æœ‰é™çŠ¶æ€æœºç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>å­˜å‚¨ä»»åŠ¡ä¿¡æ¯çš„ä¸€äº›<strong>çŠ¶æ€ï¼ˆstatesï¼‰</strong>ï¼Œä¾‹å¦‚ä¸€ä¸ª AI å¯ä»¥æœ‰æ¢ç´¢çŠ¶æ€ã€è¿½è¸ªçŠ¶æ€ã€æ”»å‡»çŠ¶æ€ç­‰ç­‰ã€‚</li><li>çŠ¶æ€ä¹‹é—´çš„ä¸€äº›<strong>å˜æ¢ï¼ˆtransitionsï¼‰</strong>ï¼Œè½¬ç§»ä»£è¡¨çŠ¶æ€çš„è½¬ç§»ï¼Œå¹¶ä¸”æè¿°ç€çŠ¶æ€è½¬ç§»çš„æ¡ä»¶ã€‚ä¾‹å¦‚å¬åˆ°äº†ä¸»è§’çš„è„šæ­¥å£°ï¼Œå°±è½¬ç§»åˆ°è¿½è¸ªçŠ¶æ€ã€‚</li><li>éœ€è¦è·Ÿéšæ¯ä¸ªçŠ¶æ€çš„ä¸€ç³»åˆ—<strong>è¡Œä¸ºï¼ˆactionsï¼‰</strong>ã€‚ä¾‹å¦‚åœ¨æ¢ç´¢çŠ¶æ€ï¼Œè¦éšæœºç§»åŠ¨å’Œæ‰¾ä¸œè¥¿ã€‚</li></ul><p>ä¸‹å›¾æ˜¯åªæœ‰ä¸‰ç§çŠ¶æ€çš„ AI çš„æœ‰é™çŠ¶æ€æœºå›¾ç¤ºï¼š<br><img src="http://img.frankorz.com/5b2cc09f49f70.png" alt=""></p><h2 id="ä¼˜ç¼ºç‚¹">ä¼˜ç¼ºç‚¹</h2><p>å®ç°æœ‰é™çŠ¶æ€æœºä¹‹å‰ï¼Œè¦å…ˆäº†è§£å®ƒçš„ä¼˜ç‚¹ï¼š</p><ol><li><strong>ç¼–ç¨‹å¿«é€Ÿç®€å•</strong>ï¼šå¾ˆå¤šæœ‰é™çŠ¶æ€æœºçš„å®ç°éƒ½è¾ƒç®€å•ï¼Œæœ¬æ–‡ä¼šåˆ—å‡ºä¸‰ç§å®ç°æ–¹æ³•ã€‚</li><li><strong>æ˜“äºè°ƒè¯•</strong>ï¼šå› ä¸ºè¡Œä¸ºè¢«åˆ†æˆå•ä¸€çš„çŠ¶æ€å—ï¼Œå› æ­¤è¦è°ƒè¯•çš„æ—¶å€™ï¼Œå¯ä»¥åªè·Ÿè¸ªæŸä¸ªå¼‚å¸¸çŠ¶æ€çš„ä»£ç ã€‚</li><li><strong>å¾ˆå°‘çš„è®¡ç®—å¼€é”€</strong>ï¼šå‡ ä¹ä¸å ç”¨çè´µçš„å¤„ç†å™¨æ—¶é—´ï¼Œå› ä¸ºé™¤äº† if-this-then-that è¿™ç§æ€è€ƒå¤„ç†ä¹‹å¤–ï¼Œæ˜¯ä¸å­˜åœ¨çœŸæ­£çš„â€œæ€è€ƒâ€çš„ã€‚</li><li><strong>ç›´è§‰æ€§</strong>ï¼šäººä»¬æ€»æ˜¯è‡ªç„¶åœ°æŠŠäº‹ç‰©æ€è€ƒä¸ºå¤„åœ¨ä¸€ç§æˆ–å¦ä¸€ç§çŠ¶æ€ã€‚äººç±»å¹¶ä¸æ˜¯åƒæœ‰é™çŠ¶æ€æœºä¸€æ ·å·¥ä½œï¼Œä½†æˆ‘ä»¬å‘ç°è¿™ç§æ–¹å¼ä¸‹è€ƒè™‘è¡Œä¸ºæ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæˆ–è€…è¯´æˆ‘ä»¬èƒ½æ›´å¥½æ›´å®¹æ˜“åœ°è¿›è¡Œ AI çŠ¶æ€çš„åˆ†è§£å’Œåˆ›å»ºæ“ä½œ AI çš„è§„åˆ™ï¼Œå®¹æ˜“ç†è§£çš„æ¦‚å¿µä¹Ÿè®©ç¨‹åºå‘˜ä¹‹é—´èƒ½æ›´å¥½åœ°äº¤æµå…¶è®¾è®¡ã€‚</li><li><strong>çµæ´»æ€§</strong>ï¼šæ¸¸æˆ AI çš„æœ‰é™çŠ¶æ€æœºèƒ½å¾ˆå®¹æ˜“åœ°ç”±ç¨‹åºå‘˜è¿›è¡Œè°ƒæ•´ï¼Œå¢æ·»æ–°çš„çŠ¶æ€å’Œè§„åˆ™ä¹Ÿå¾ˆå®¹æ˜“æ‰©å±•ä¸€ä¸ª AI çš„è¡Œä¸ºã€‚</li></ol><p>æœ‰é™çŠ¶æ€æœºçš„ç¼ºç‚¹æ˜¯ï¼š</p><ol><li>å½“çŠ¶æ€è¿‡å¤šæ—¶ï¼Œéš¾ä»¥ç»´æŠ¤ä»£ç ã€‚</li><li>ã€ŠAI Game Developmentã€‹çš„ä½œè€… Alex J. Champandard å‘è¡¨è¿‡ä¸€ç¯‡æ–‡ç« <a href="http://aigamedev.com/open/article/fsm-age-is-over/">ã€Š10 Reasons the Age of Finite State Machines is Overã€‹</a></li></ol><h2 id="if-then-å®ç°">if-then å®ç°</h2><p>è¿™æ˜¯ç¬¬ä¸€ç§å®ç°æœ‰é™çŠ¶æ€æœºçš„æ–¹æ³•ï¼Œç”¨ä¸€ç³»åˆ— if-then è¯­å¥æˆ–è€… switch è¯­å¥æ¥è¡¨è¾¾çŠ¶æ€ã€‚</p><p>ä¸‹é¢æ‹¿é‚£ä¸ªåªæœ‰ä¸‰ä¸ªçŠ¶æ€çš„åƒµå°¸ AI ä¸¾ä¾‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> ZombieState</span><br><span class="line">&#123;</span><br><span class="line">    Chase, Attack, Die</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Zombie</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> ZombieState currentState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (currentState)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> ZombieState.Chase:</span><br><span class="line">                <span class="keyword">if</span> (currentHealth &lt;= <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    ChangeState(ZombieState.Die);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ç©å®¶åœ¨æ”»å‡»èŒƒå›´å†…åˆ™è¿›å…¥æ”»å‡»çŠ¶æ€</span></span><br><span class="line">                <span class="keyword">if</span> (PlayerInAttackRange())</span><br><span class="line">                &#123;</span><br><span class="line">                    ChangeState(ZombieState.Attack);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> ZombieState.Attack:</span><br><span class="line">                <span class="keyword">if</span> (currentHealth &lt;= <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    ChangeState(ZombieState.Die);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (!PlayerInAttackRange())</span><br><span class="line">                &#123;</span><br><span class="line">                    ChangeState(ZombieState.Chase);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> ZombieState.Die:</span><br><span class="line">                Debug.Log(<span class="string">&quot;åƒµå°¸æ­»äº¡&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•èƒ½å®ç°æœ‰é™çŠ¶æ€æœºï¼Œä½†å½“æ¸¸æˆå¯¹è±¡å¤æ‚åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œcase å°±ä¼šå˜å¾—ç‰¹åˆ«å¤šï¼Œä½¿ç¨‹åºéš¾ä»¥ç†è§£ã€è°ƒè¯•ã€‚å¦å¤–è¿™ç§å†™æ³•ä¹Ÿä¸çµæ´»ï¼Œéš¾ä»¥æ‰©å±•è¶…å‡ºå®ƒåŸå§‹è®¾å®šçš„èŒƒå›´ã€‚</p><p>æ­¤å¤–ï¼Œæˆ‘ä»¬å¸¸éœ€è¦åœ¨<strong>è¿›å…¥çŠ¶æ€</strong>å’Œ<strong>é€€å‡ºçŠ¶æ€</strong>æ—¶åšäº›ä»€ä¹ˆï¼Œä¾‹å¦‚åƒµå°¸åœ¨å¼€å§‹æ”»å‡»æ—¶åƒçŒ©çŒ©ä¸€æ ·é”¤å‡ ä¸‹èƒ¸å£ï¼Œç©å®¶è·‘å‡ºæ”»å‡»èŒƒå›´çš„æ—¶å€™ï¼Œåƒµå°¸è¦â€œæ‘‡æ‘‡å¤´â€è®©è‡ªå·±æ¸…é†’ï¼Œå¥½è®©è‡ªå·±æ‰“èµ·ç²¾ç¥ç»§ç»­è¿½è¸ªç©å®¶ã€‚</p><h3 id="çŠ¶æ€å˜æ¢è¡¨">çŠ¶æ€å˜æ¢è¡¨</h3><p>ä¸€ä¸ªç”¨äºç»„ç»‡çŠ¶æ€å’Œå½±å“çŠ¶æ€å˜æ¢çš„æ›´å¥½çš„æœºåˆ¶æ˜¯ä¸€ä¸ª<strong>çŠ¶æ€å˜æ¢è¡¨</strong>ã€‚</p><table><thead><tr><th>å½“å‰çŠ¶æ€</th><th style="text-align:center">æ¡ä»¶</th><th style="text-align:right">çŠ¶æ€è½¬ç§»</th></tr></thead><tbody><tr><td>è¿½è¸ª</td><td style="text-align:center">ç©å®¶è¿›å…¥æ”»å‡»èŒƒå›´</td><td style="text-align:right">æ”»å‡»</td></tr><tr><td>è¿½è¸ª</td><td style="text-align:center">åƒµå°¸ç”Ÿå‘½å€¼å°äºæˆ–ç­‰äº0</td><td style="text-align:right">æ­»äº¡</td></tr><tr><td>æ”»å‡»</td><td style="text-align:center">ç©å®¶è„±ç¦»æ”»å‡»èŒƒå›´</td><td style="text-align:right">è¿½è¸ª</td></tr><tr><td>æ”»å‡»</td><td style="text-align:center">åƒµå°¸ç”Ÿå‘½å€¼å°äºæˆ–ç­‰äº0</td><td style="text-align:right">æ­»äº¡</td></tr></tbody></table><p>è¿™è¡¨æ ¼å¯ä»¥è¢«åƒµå°¸ AI ä¸é—´æ–­åœ°æŸ¥è¯¢ã€‚ä½¿å¾—å®ƒèƒ½åŸºäºä»æ¸¸æˆç¯å¢ƒçš„å˜åŒ–æ¥è¿›è¡ŒçŠ¶æ€å˜æ¢ã€‚æ¯ä¸ªçŠ¶æ€å¯ä»¥æ¨¡å‹åŒ–ä¸ºä¸€ä¸ªåˆ†ç¦»çš„å¯¹è±¡æˆ–è€…å­˜åœ¨äº AI å¤–çš„å‡½æ•°ã€‚æä¾›äº†ä¸€ä¸ªæ¸…æ¥šä¸”çµæ´»çš„ç»“æ„ã€‚</p><p>æˆ‘ä»¬åªç”¨å‘Šè¯‰åƒµå°¸å®ƒæœ‰å¤šå°‘ä¸ªçŠ¶æ€ï¼Œåƒµå°¸åˆ™ä¼šæ ¹æ®è‡ªå·±è·å¾—çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ç©å®¶æ˜¯å¦åœ¨å®ƒçš„æ”»å‡»èŒƒå›´å†…ï¼‰æ¥å¤„ç†è§„åˆ™ï¼ˆè½¬ç§»çŠ¶æ€ï¼‰ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Zombie</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> ZombieState currentState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿå‘½å€¼å°äºç­‰äº0ï¼Œè¿›å…¥æ­»äº¡çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (currentHealth &lt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ChangeState(ZombieState.Die);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç©å®¶åœ¨æ”»å‡»èŒƒå›´å†…åˆ™è¿›å…¥æ”»å‡»çŠ¶æ€ï¼Œåä¹‹è¿›å…¥è¿½è¸ªçŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (PlayerInAttackRange())</span><br><span class="line">        &#123;</span><br><span class="line">            ChangeState(ZombieState.Attack);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ChangeState(ZombieState.Chase);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†…ç½®è§„åˆ™">å†…ç½®è§„åˆ™</h3><p>å¦ä¸€ç§æ–¹æ³•å°±æ˜¯å°†çŠ¶æ€è½¬ç§»è§„åˆ™<strong>å†…ç½®åˆ°çŠ¶æ€å†…éƒ¨</strong>ã€‚</p><p>åœ¨è¿™é‡Œï¼Œæ¯ä¸€ä¸ªçŠ¶æ€éƒ½æ˜¯ä¸€ä¸ªå°æ¨¡å—ï¼Œè™½ç„¶æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥æ„è¯†åˆ°å…¶ä»–æ¨¡å—çš„å­˜åœ¨ï¼Œä½†æ˜¯æ¯ä¸ªæ¨¡å—éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å•ä½ï¼Œè€Œä¸”ä¸ä¾èµ–ä»»ä½•å¤–éƒ¨çš„é€»è¾‘æ¥å†³å®šè‡ªå·±æ˜¯å¦è¦è¿›è¡ŒçŠ¶æ€è½¬ç§»ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Zombie</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> State currentState;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> CurrentHealth &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        currentState.Execute(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChangeState</span>(<span class="params">State state</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        currentState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">PlayerInAttackRange</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ...æ¸¸æˆé€»è¾‘</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Zombie zombie</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ChaseState</span> : <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Zombie zombie</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (zombie.CurrentHealth &lt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            zombie.ChangeState(<span class="keyword">new</span> DieState());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (zombie.PlayerInAttackRange())</span><br><span class="line">        &#123;</span><br><span class="line">            zombie.ChangeState(<span class="keyword">new</span> AttackState());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AttackState</span> : <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Zombie zombie</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (zombie.CurrentHealth &lt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            zombie.ChangeState(<span class="keyword">new</span> DieState());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!zombie.PlayerInAttackRange())</span><br><span class="line">        &#123;</span><br><span class="line">            zombie.ChangeState(<span class="keyword">new</span> ChaseState());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DieState</span> : <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Zombie zombie</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;åƒµå°¸æ­»äº¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Update()</code> å‡½æ•°åªéœ€è¦æ ¹æ® <code>currentState</code> æ¥æ‰§è¡Œä»£ç ï¼Œå½“ <code>currentState</code> æ”¹å˜æ—¶ï¼Œä¸‹ä¸€æ¬¡ <code>Update()</code> çš„è°ƒç”¨ä¹Ÿä¼šè¿›è¡ŒçŠ¶æ€è½¬ç§»ã€‚è¿™ä¸‰ä¸ªçŠ¶æ€éƒ½ä½œä¸ºå¯¹è±¡å°è£…ï¼Œå¹¶ä¸”éƒ½ç»™å‡ºäº†å½±å“çŠ¶æ€è½¬ç§»çš„è§„åˆ™ï¼ˆæ¡ä»¶ï¼‰ã€‚</p><p>è¿™ä¸ªç»“æ„è¢«ç§°ä¸º<strong>çŠ¶æ€è®¾è®¡æ¨¡å¼ï¼ˆstate design patternï¼‰</strong>ï¼Œå®ƒæä¾›äº†ä¸€ç§ä¼˜é›…çš„æ–¹å¼æ¥å®ç°çŠ¶æ€é©±åŠ¨è¡Œä¸ºã€‚è¿™ç§å®ç°ç¼–ç ç®€å•ï¼Œå®¹æ˜“æ‰©å±•ï¼Œä¹Ÿå¯ä»¥å®¹æ˜“åœ°ä¸ºçŠ¶æ€å¢åŠ <strong>è¿›å…¥</strong>å’Œ<strong>é€€å‡º</strong>çš„åŠ¨ä½œã€‚ä¸‹æ–‡ä¼šç»™å‡ºæ›´å®Œæ•´çš„å®ç°ã€‚</p><h2 id="West-World-é¡¹ç›®">West World é¡¹ç›®</h2><p>è¿™é¡¹ç›®æ˜¯å…³äºä½¿ç”¨æœ‰é™çŠ¶æ€æœºåˆ›å»ºä¸€ä¸ª AI çš„å®é™…ä¾‹å­ã€‚æ¸¸æˆç¯å¢ƒæ˜¯ä¸€ä¸ªå¤è€è¥¿éƒ¨é£æ ¼çš„å¼€é‡‡é‡‘çŸ¿çš„å°é•‡ï¼Œç§°ä½œ West Worldã€‚ä¸€å¼€å§‹åªæœ‰ä¸€ä¸ªæŒ–é‡‘çŸ¿å·¥ Bobï¼ŒåæœŸä¼šåŠ å…¥ä»–çš„å¦»å­ã€‚ä»»ä½•çš„çŠ¶æ€æ”¹å˜æˆ–è€…è¾“å‡ºéƒ½ä¼šå‡ºç°åœ¨æ§åˆ¶å°çª—å£ä¸­ã€‚West World ä¸­æœ‰å››ä¸ªä½ç½®ï¼šé‡‘çŸ¿ï¼Œå¯ä»¥å­˜é‡‘å—çš„é“¶è¡Œï¼Œå¯ä»¥è§£é™¤å¹²æ¸´çš„é…’å§ï¼Œè¿˜æœ‰å®¶ã€‚çŸ¿å·¥ Bob ä¼šæŒ–çŸ¿ã€ç¡è§‰ã€å–é…’ç­‰ï¼Œä½†è¿™äº›éƒ½ç”± Bob çš„å½“å‰çŠ¶æ€å†³å®šã€‚</p><p>é¡¹ç›®åœ¨è¿™é‡Œï¼š<a href="https://github.com/Latias94/programming-game-ai-by-example-in-unity/tree/master/WestWorld">programming-game-ai-by-example-in-unity/WestWorld/</a><br><img src="http://img.frankorz.com/5b2cd71f9ebdb.gif" alt="West World"></p><p>å½“ä½ çœ‹åˆ°çŸ¿å·¥æ”¹å˜äº†ä½ç½®æ—¶ï¼Œå°±ä»£è¡¨çŸ¿å·¥æ”¹å˜äº†çŠ¶æ€ï¼Œå…¶ä»–çš„äº‹æƒ…éƒ½æ˜¯çŠ¶æ€ä¸­å‘ç”Ÿçš„äº‹æƒ…ã€‚</p><h3 id="Base-Game-Entity-ç±»">Base Game Entity ç±»</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">BaseGameEntity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¯ä¸ªå®ä½“å…·æœ‰ä¸€ä¸ªå”¯ä¸€çš„è¯†åˆ«æ•°å­—</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> m_ID;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¿™æ˜¯ä¸‹ä¸€ä¸ªæœ‰æ•ˆçš„IDï¼Œæ¯æ¬¡ BaseGameEntity è¢«å®ä¾‹åŒ–è¿™ä¸ªå€¼å°±è¢«æ›´æ–°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¿™é¡¹ç›®å±…æ°‘è¾ƒå°‘ï¼Œé‡‡ç”¨é¢„å®šä¹‰ id çš„æ–¹å¼ï¼Œå¯ä»¥å¿½è§†</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> m_iNextValidID &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="title">BaseGameEntity</span>(<span class="params"><span class="built_in">int</span> id</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_ID = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> ID</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">return</span> m_ID; &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            m_ID = <span class="keyword">value</span>;</span><br><span class="line">            m_iNextValidID = m_ID + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åœ¨ GameManager çš„ Update() å‡½æ•°ä¸­è°ƒç”¨ï¼Œç›¸å½“äºå®ä½“è‡ªå·±çš„ Update å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">EntityUpdate</span>()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Miner-ç±»">Miner ç±»</h3><p>MIner ç±»æ˜¯ä» BaseGameEntity ç±»ä¸­ç»§æ‰¿çš„ï¼ŒåŒ…å«å¾ˆå¤šæˆå‘˜å˜é‡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Miner</span> : <span class="title">BaseGameEntity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æŒ‡å‘ä¸€ä¸ªçŠ¶æ€å®ä¾‹çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> State m_pCurrentState;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ—·å·¥å½“å‰æ‰€å¤„çš„ä½ç½®</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> LocationType m_Location;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ—·å·¥çš„åŒ…ä¸­è£…äº†å¤šå°‘é‡‘å—</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> m_iGoldCarried;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ—·å·¥åœ¨é“¶è¡Œå­˜äº†å¤šå°‘é‡‘å—</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> m_iMoneyInBank;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å£æ¸´ç¨‹åº¦ï¼Œå€¼è¶Šé«˜ï¼Œæ—·å·¥è¶Šå£æ¸´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> m_iThirst;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ç–²å€¦ç¨‹åº¦,å€¼è¶Šé«˜ï¼Œæ—·å·¥è¶Šç–²å€¦</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> m_iFatigue;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Miner</span>(<span class="params"><span class="built_in">int</span> id</span>) : <span class="title">base</span>(<span class="params">id</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_Location = LocationType.Shack;</span><br><span class="line">        m_iGoldCarried = <span class="number">0</span>;</span><br><span class="line">        m_iMoneyInBank = <span class="number">0</span>;</span><br><span class="line">        m_iThirst = <span class="number">0</span>;</span><br><span class="line">        m_iFatigue = <span class="number">0</span>;</span><br><span class="line">        m_pCurrentState = GoHomeAndSleepTilRested.Instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ç­‰äº Update å‡½æ•°ï¼Œåœ¨ GameManager å†…è¢«è°ƒç”¨ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡å°±å˜å¾—è¶Šå£æ¸´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">EntityUpdate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_iThirst += <span class="number">1</span>;</span><br><span class="line">        m_pCurrentState.Execute(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...å…¶ä»–çš„ä»£ç çœ‹ Github é¡¹ç›®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Miner-çŠ¶æ€">Miner çŠ¶æ€</h3><p>é‡‘çŸ¿å·¥äººæœ‰å››ç§çŠ¶æ€ï¼š</p><ul><li><strong>EnterMineAndDigForNugget</strong>ï¼šå¦‚æœçŸ¿å·¥æ²¡åœ¨é‡‘çŸ¿ï¼Œåˆ™æ”¹å˜ä½ç½®ã€‚åœ¨é‡‘çŸ¿é‡Œäº†ï¼Œå°±æŒ–æ˜é‡‘å—ã€‚</li><li><strong>VisitBankAndDepositGold</strong>ï¼šçŸ¿å·¥ä¼šèµ°åˆ°é“¶è¡Œå¹¶ä¸”å­˜å‚¨ä»–æºå¸¦çš„æ‰€æœ‰å¤©ç„¶é‡‘çŸ¿ã€‚</li><li><strong>GoHomeAndSleepTilRested</strong>ï¼šçŸ¿å·¥ä¼šå›åˆ°ä»–çš„å°æœ¨å±‹ç¡è§‰çŸ¥é“ä»–çš„ç–²åŠ³å€¼ä¸‹é™åˆ°å¯æ¥å—çš„ç¨‹åº¦ã€‚é†’æ¥ç»§ç»­å»æŒ–çŸ¿ã€‚</li><li><strong>QuenchThirst</strong>ï¼šå»é…’å§ä¹°ä¸€æ¯å¨å£«å¿Œï¼Œä¸å£æ¸´äº†ç»§ç»­æŒ–çŸ¿ã€‚</li></ul><table><thead><tr><th>å½“å‰çŠ¶æ€</th><th style="text-align:center">æ¡ä»¶</th><th style="text-align:right">çŠ¶æ€è½¬ç§»</th></tr></thead><tbody><tr><td>EnterMineAndDigForNugget</td><td style="text-align:center">æŒ–çŸ¿æŒ–åˆ°å£è¢‹è£…ä¸ä¸‹</td><td style="text-align:right">VisitBankAndDepositGold</td></tr><tr><td>EnterMineAndDigForNugget</td><td style="text-align:center">å£æ¸´</td><td style="text-align:right">QuenchThirst</td></tr><tr><td>VisitBankAndDepositGold</td><td style="text-align:center">è§‰å¾—è‡ªå·±å­˜å¤Ÿé’±èƒ½å®‰å¿ƒäº†</td><td style="text-align:right">GoHomeAndSleepTilRested</td></tr><tr><td>VisitBankAndDepositGold</td><td style="text-align:center">æ²¡å­˜å¤Ÿé’±</td><td style="text-align:right">EnterMineAndDigForNugget</td></tr><tr><td>GoHomeAndSleepTilRested</td><td style="text-align:center">ç–²åŠ³å€¼ä¸‹é™åˆ°ä¸€å®šç¨‹åº¦</td><td style="text-align:right">EnterMineAndDigForNugget</td></tr><tr><td>QuenchThirst</td><td style="text-align:center">ä¸å£æ¸´äº†</td><td style="text-align:right">EnterMineAndDigForNugget</td></tr></tbody></table><h3 id="å†è°ˆçŠ¶æ€è®¾è®¡æ¨¡å¼">å†è°ˆçŠ¶æ€è®¾è®¡æ¨¡å¼</h3><p>ä¹‹å‰æåˆ°è¦ä¸ºçŠ¶æ€å®ç°<strong>è¿›å…¥</strong>å’Œ<strong>é€€å‡º</strong>è¿™ä¸¤ä¸ªä¸€ä¸ªçŠ¶æ€åªæ‰§è¡Œä¸€æ¬¡çš„é€»è¾‘ï¼Œè¿™æ ·å¯ä»¥å¢åŠ æœ‰é™çŠ¶æ€æœºçš„çµæ´»æ€§ã€‚ä¸‹é¢æ˜¯å¨åŠ›åŠ å¼ºç‰ˆï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å½“çŠ¶æ€è¢«è¿›å…¥æ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Enter</span>(<span class="params">Miner miner</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ—·å·¥æ›´æ–°çŠ¶æ€å‡½æ•°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Miner miner</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å½“çŠ¶æ€é€€å‡ºæ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Exit</span>(<span class="params">Miner miner</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå¢åŠ çš„æ–¹æ³•åªæœ‰åœ¨çŸ¿å·¥æ”¹å˜çŠ¶æ€æ—¶æ‰ä¼šè¢«è°ƒç”¨ã€‚æˆ‘ä»¬ä¹Ÿéœ€è¦ä¿®æ”¹ <code>ChangeState</code> æ–¹æ³•çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChangeState</span>(<span class="params">State state</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œä¸Šä¸€ä¸ªçŠ¶æ€çš„é€€å‡ºæ–¹æ³•</span></span><br><span class="line">    m_pCurrentState.Exit(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// æ›´æ–°çŠ¶æ€</span></span><br><span class="line">    m_pCurrentState = state;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œå½“å‰çŠ¶æ€çš„è¿›å…¥æ–¹æ³•</span></span><br><span class="line">    m_pCurrentState.Enter(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œæ¯ä¸ªå…·ä½“çš„çŠ¶æ€éƒ½æ·»åŠ äº†<strong>å•ä¾‹æ¨¡å¼</strong>ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜èµ„æºï¼Œä¸å¿…é‡å¤åˆ†é…å’Œé‡Šæ”¾å†…å­˜ç»™æ”¹å˜çš„çŠ¶æ€ã€‚ä»¥å…¶ä¸­ä¸€ä¸ªçŠ¶æ€ä¸ºä¾‹å­ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnterMineAndDigForNugget</span> : <span class="title">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> EnterMineAndDigForNugget Instance &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">EnterMineAndDigForNugget</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Instance = <span class="keyword">new</span> EnterMineAndDigForNugget();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Enter</span>(<span class="params">Miner miner</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (miner.Location() != LocationType.Goldmine)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;çŸ¿å·¥ï¼šèµ°å»é‡‘çŸ¿&quot;</span>);</span><br><span class="line">            miner.ChangeLocation(LocationType.Goldmine);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">Miner miner</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        miner.AddToGoldCarried(<span class="number">1</span>);</span><br><span class="line">        miner.IncreaseFatigue();</span><br><span class="line">        Debug.Log(<span class="string">&quot;çŸ¿å·¥ï¼šé‡‡åˆ°ä¸€ä¸ªé‡‘å— | èº«ä¸Šæœ‰ &quot;</span> + miner.GoldCarried() + <span class="string">&quot; ä¸ªé‡‘å—&quot;</span>);</span><br><span class="line">        <span class="comment">// å£è¢‹é‡Œé‡‘å—æ»¡äº†å°±å»é“¶è¡Œå­˜</span></span><br><span class="line">        <span class="keyword">if</span> (miner.PocketsFull())</span><br><span class="line">        &#123;</span><br><span class="line">            miner.ChangeState(VisitBankAndDepositGold.Instance);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å£æ¸´äº†å°±å»é…’å§å–å¨å£«å¿Œ</span></span><br><span class="line">        <span class="keyword">if</span> (miner.Thirsty())</span><br><span class="line">        &#123;</span><br><span class="line">            miner.ChangeState(QuenchThirst.Instance);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">Exit</span>(<span class="params">Miner miner</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;çŸ¿å·¥ï¼šç¦»å¼€é‡‘çŸ¿&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™é‡Œï¼Œå¤§å®¶åº”è¯¥éƒ½ä¼šå¾ˆç†Ÿæ‚‰ã€‚è¿™ä¸å°±æ˜¯ Unity ä¸­åŠ¨ç”»æ§åˆ¶å™¨ Animator çš„åŠŸèƒ½å—ï¼</p><p>æ²¡é”™ï¼ŒAnimator ä¹Ÿæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œæœ‰å’Œæˆ‘ä»¬ä¹‹å‰å®ç°ååˆ†ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šæ·»åŠ çŠ¶æ€è½¬ç§»çš„æ¡ä»¶ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½æœ‰è¿›å…¥ã€æ‰§è¡Œã€é€€å‡ºä¸‰ä¸ªå›è°ƒæ–¹æ³•ä¾›ä½¿ç”¨ã€‚</p><p><img src="http://img.frankorz.com/5b2ce778774fa.png" alt=""></p><p>æˆ‘ä»¬å¯ä»¥åˆ›å»º Behaviour è„šæœ¬ï¼Œå¯¹ Animator ä¸­æ¯ä¸€ä¸ªçŠ¶æ€çš„è¿›å…¥ã€æ‰§è¡Œã€é€€å‡ºç­‰æ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰ï¼Œæ‰€ä»¥æœ‰äº›äººç›´æ¥æ‹¿ Animator å½“çŠ¶æ€æœºæ¥ä½¿ç”¨ï¼Œä¸è¿‡æˆ‘ä»¬åœ¨ä¸‹æ–‡è¿˜ä¼šä¸ºæˆ‘ä»¬çš„çŠ¶æ€æœºå®ç°æ‰©å±•æ›´å¤šçš„åŠŸèƒ½ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewState</span> : <span class="title">StateMachineBehaviour</span> &#123;</span><br><span class="line">    <span class="comment">// OnStateEnter is called when a transition starts and the state machine starts to evaluate this state</span></span><br><span class="line">    <span class="comment">//override public void OnStateEnter(Animator animator, AnimatorStateInfo stateInfo, int layerIndex) &#123;</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// OnStateUpdate is called on each Update frame between OnStateEnter and OnStateExit callbacks</span></span><br><span class="line">    <span class="comment">//override public void OnStateUpdate(Animator animator, AnimatorStateInfo stateInfo, int layerIndex) &#123;</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// OnStateExit is called when a transition ends and the state machine finishes evaluating this state</span></span><br><span class="line">    <span class="comment">//override public void OnStateExit(Animator animator, AnimatorStateInfo stateInfo, int layerIndex) &#123;</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿-State-åŸºç±»å¯é‡ç”¨">ä½¿ State åŸºç±»å¯é‡ç”¨</h2><p>ç”±äºä¸Šé¢å››ä¸ªçŠ¶æ€æ˜¯çŸ¿å·¥ç‹¬æœ‰çš„çŠ¶æ€ï¼Œå¦‚æœè¦æ–°å»ºä¸åŒåŠŸèƒ½çš„è§’è‰²ï¼Œå°±æœ‰å¿…è¦åˆ›å»ºä¸€ä¸ªåˆ†ç¦»çš„ State åŸºç±»ï¼Œè¿™é‡Œç”¨æ³›å‹å®ç°ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">State</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å½“çŠ¶æ€è¢«è¿›å…¥æ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Enter</span>(<span class="params">T entity</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ—·å·¥æ›´æ–°çŠ¶æ€å‡½æ•°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Execute</span>(<span class="params">T entity</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å½“çŠ¶æ€é€€å‡ºæ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">Exit</span>(<span class="params">T entity</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çŠ¶æ€ç¿»è½¬ï¼ˆState-Blipï¼‰">çŠ¶æ€ç¿»è½¬ï¼ˆState Blipï¼‰</h2><p>è¿™ä¸ªé¡¹ç›®å…¶å®æœ‰ç‚¹åƒæ¨¡æ‹Ÿäººç”Ÿè¿™ä¸ªæ¸¸æˆï¼Œå…¶ä¸­æœ‰ä¸€ç‚¹æœ‰æ„æ€çš„æ˜¯ï¼Œå½“æ¨¡æ‹Ÿäººç”Ÿçš„ä¸»è§’åšæŸä»¶äº‹æ—¶å¿½ç„¶è¦ä¸Šå•æ‰€ï¼Œå»å®Œä¹‹åä¼šç»§ç»­åšä¹‹å‰åœæ­¢çš„äº‹æƒ…ã€‚è¿™ç§è¿”å›å‰ä¸€ä¸ªçŠ¶æ€çš„è¡Œä¸ºå°±æ˜¯<strong>çŠ¶æ€ç¿»è½¬ï¼ˆState Blipï¼‰</strong>ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> State&lt;T&gt; m_pCurrentState;</span><br><span class="line"><span class="keyword">private</span> State&lt;T&gt; m_pPreviousState;</span><br><span class="line"><span class="keyword">private</span> State&lt;T&gt; m_pGlobalState;</span><br></pre></td></tr></table></figure><p><code>m_pGlobalState</code> æ˜¯ä¸€ä¸ªå…¨å±€çŠ¶æ€ï¼Œä¹Ÿä¼šåœ¨ <code>Update()</code> å‡½æ•°ä¸­å’Œ <code>m_pCurrentState</code> ä¸€èµ·è°ƒç”¨ã€‚å¦‚æœæœ‰ç´§æ€¥çš„è¡Œä¸ºä¸­æ–­çŠ¶æ€ï¼Œå°±æŠŠè¿™è¡Œä¸ºï¼ˆä¾‹å¦‚ä¸Šå•æ‰€ï¼‰æ”¾åˆ°å…¨å±€çŠ¶æ€ä¸­ï¼Œç­‰åˆ°å…¨å±€çŠ¶æ€ä¸ºç©ºå†è¿›å…¥å½“å‰çŠ¶æ€ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StateUpdate</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœæœ‰ä¸€ä¸ªå…¨å±€çŠ¶æ€å­˜åœ¨ï¼Œè°ƒç”¨å®ƒçš„æ‰§è¡Œæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> (m_pGlobalState != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_pGlobalState.Execute(m_pOwner);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m_pCurrentState != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_pCurrentState.Execute(m_pOwner);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="StateMachine-ç±»">StateMachine ç±»</h2><p>é€šè¿‡æŠŠæ‰€æœ‰ä¸çŠ¶æ€ç›¸å…³çš„æ•°æ®å’Œæ–¹æ³•å°è£…åˆ°ä¸€ä¸ª StateMachine ç±»ä¸­ï¼Œå¯ä»¥ä½¿å¾—è®¾è®¡æ›´ä¸ºç®€æ´ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StateMachine</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> T m_pOwner;</span><br><span class="line">    <span class="keyword">private</span> State&lt;T&gt; m_pCurrentState;</span><br><span class="line">    <span class="keyword">private</span> State&lt;T&gt; m_pPreviousState;</span><br><span class="line">    <span class="keyword">private</span> State&lt;T&gt; m_pGlobalState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StateMachine</span>(<span class="params">T owner</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_pOwner = owner;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetCurrentState</span>(<span class="params">State&lt;T&gt; state</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_pCurrentState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetPreviousState</span>(<span class="params">State&lt;T&gt; state</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_pPreviousState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetGlobalState</span>(<span class="params">State&lt;T&gt; state</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_pGlobalState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">StateMachineUpdate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰ä¸€ä¸ªå…¨å±€çŠ¶æ€å­˜åœ¨ï¼Œè°ƒç”¨å®ƒçš„æ‰§è¡Œæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">if</span> (m_pGlobalState != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_pGlobalState.Execute(m_pOwner);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (m_pCurrentState != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_pCurrentState.Execute(m_pOwner);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChangeState</span>(<span class="params">State&lt;T&gt; newState</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        m_pPreviousState = m_pCurrentState;</span><br><span class="line">        m_pCurrentState.Exit(m_pOwner);</span><br><span class="line">        m_pCurrentState = newState;</span><br><span class="line">        m_pCurrentState.Enter(m_pOwner);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¿”å›ä¹‹å‰çš„çŠ¶æ€</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RevertToPreviousState</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        ChangeState(m_pPreviousState);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> State&lt;T&gt; <span class="title">CurrentState</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> m_pCurrentState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> State&lt;T&gt; <span class="title">PreviousState</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> m_pPreviousState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> State&lt;T&gt; <span class="title">GlobalState</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> m_pGlobalState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">IsInState</span>(<span class="params">State&lt;T&gt; state</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> m_pCurrentState == state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ–°äººç‰©-Elsa">æ–°äººç‰© Elsa</h2><p>ç¬¬äºŒä¸ªé¡¹ç›®ä¼šæ¼”ç¤ºä¹‹å‰çš„æ”¹è¿›ã€‚Elsa æ˜¯çŸ¿å·¥ Bob çš„å¦»å­ï¼Œå¥¹ä¼šæ¸…ç†å°æœ¨å±‹å’Œä¸Šå•æ‰€ï¼ˆè€å–å’–å•¡ï¼‰ã€‚å…¶ä¸­ VisitBathroom çŠ¶æ€æ˜¯ç”¨çŠ¶æ€ç¿»è½¬å®ç°çš„ï¼Œå³ä¸Šå®Œå•æ‰€è¦å›åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Latias94/programming-game-ai-by-example-in-unity/tree/master/WestWorldWithWoman">programming-game-ai-by-example-in-unity/WestWorldWithWoman/</a></p><p><img src="http://img.frankorz.com/5b2ce58c91280.gif" alt="West World With Woman"></p><h2 id="æ¶ˆæ¯åŠŸèƒ½">æ¶ˆæ¯åŠŸèƒ½</h2><p>å¥½çš„æ¸¸æˆå®ç°è¶‹å‘äºäº‹ä»¶é©±åŠ¨ã€‚å³å½“ä¸€ä»¶äº‹æƒ…å‘ç”Ÿäº†ï¼ˆå‘å°„äº†æ­¦å™¨ï¼Œä¸»è§’å‘å‡ºäº†å£°éŸ³ç­‰ç­‰ï¼‰ï¼Œäº‹ä»¶ä¼šè¢«å¹¿æ’­ç»™æ¸¸æˆä¸­ç›¸å…³çš„å¯¹è±¡ã€‚</p><p>æ•´åˆäº‹ä»¶ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰çš„çŠ¶æ€æœºå¯ä»¥å®ç°æ›´çµæ´»çš„éœ€æ±‚ï¼Œä¾‹å¦‚ï¼šä¸€ä¸ªè¶³çƒè¿åŠ¨å‘˜ä»é˜Ÿå‹æ—è¾¹é€šè¿‡æ—¶ï¼Œä¼ çƒè€…å¯ä»¥å‘é€ä¸€ä¸ªï¼ˆå»¶æ—¶ï¼‰æ¶ˆæ¯ï¼Œé€šçŸ¥é˜Ÿå‹åº”è¯¥ä»€ä¹ˆæ—¶å€™åˆ°ç›¸åº”ä½ç½®æ¥æ¥çƒï¼›ä¸€ä¸ªå£«å…µæ­£åœ¨å¼€æªæ”»å‡»æ•Œäººï¼Œå¿½ç„¶ä¸€ä¸ªé˜Ÿå‹ä¸­äº†æµå¼¹ï¼Œè¿™æ—¶å€™é˜Ÿå‹å¯ä»¥å‘é€ä¸€ä¸ªï¼ˆå³æ—¶ï¼‰æ¶ˆæ¯ï¼Œé€šçŸ¥å£«å…µç«‹åˆ»æ•‘æ´é˜Ÿå‹ã€‚</p><h3 id="Telegram-ç»“æ„">Telegram ç»“æ„</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">struct</span> Telegram</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> BaseGameEntity Sender &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> BaseGameEntity Receiver &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> MessageType Message &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">float</span> DispatchTime &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; ExtraInfo &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Telegram</span>(<span class="params"><span class="built_in">float</span> time, BaseGameEntity sender, BaseGameEntity receiver, MessageType message,</span></span></span><br><span class="line"><span class="params"><span class="function">        Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; extraInfo = <span class="literal">null</span></span>) : <span class="title">this</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Sender = sender;</span><br><span class="line">        Receiver = receiver;</span><br><span class="line">        DispatchTime = time;</span><br><span class="line">        Message = message;</span><br><span class="line">        ExtraInfo = extraInfo;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨ç»“æ„ä½“æ¥å®ç°æ¶ˆæ¯ã€‚è¦å‘é€çš„æ¶ˆæ¯å¯ä»¥ä½œä¸ºæšä¸¾åŠ åœ¨ <code>MessageType</code> ä¸­ï¼ŒDispatchTime æ˜¯å†³å®šç«‹åˆ»å‘é€è¿˜æ˜¯å»¶æ—¶å‘é€çš„æ—¶é—´æˆ³ï¼ŒExtraInfo èƒ½æºå¸¦é¢å¤–çš„ä¿¡æ¯ã€‚è¿™é‡Œåªç”¨ä¸¤ç§æ¶ˆæ¯åšä¾‹å­ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> MessageType</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> çŸ¿å·¥è®©å¦»å­çŸ¥é“ä»–å·²ç»å›åˆ°å°å±‹äº†</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    HiHoneyImHome,    </span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¦»å­é€šçŸ¥çŸ¿å·¥è‡ªå·±ä»€ä¹ˆæ—¶å€™è¦å°†æ™šé¥­ä»çƒ¤ç®±ä¸­æ‹¿å‡ºæ¥</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä»¥åŠé€šçŸ¥çŸ¿å·¥é£Ÿç‰©å·²ç»æ”¾åœ¨æ¡Œå­ä¸Šäº†</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    StewReady,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘é€æ¶ˆæ¯">å‘é€æ¶ˆæ¯</h3><p>ä¸‹é¢æ˜¯ MessageDispatcher ç±»ï¼Œç”¨æ¥ç®¡ç†æ¶ˆæ¯çš„å‘é€ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ç®¡ç†æ¶ˆæ¯å‘é€çš„ç±»</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> å¤„ç†ç«‹åˆ»è¢«å‘é€çš„æ¶ˆæ¯ï¼Œå’Œæ‰“ä¸Šæ—¶é—´æˆ³çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MessageDispatcher</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> MessageDispatcher Instance &#123; <span class="keyword">get</span>; <span class="keyword">private</span> <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="title">MessageDispatcher</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Instance = <span class="keyword">new</span> MessageDispatcher();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">MessageDispatcher</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        priorityQueue = <span class="keyword">new</span> HashSet&lt;Telegram&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ ¹æ®æ—¶é—´æ’åºçš„ä¼˜å…ˆçº§é˜Ÿåˆ—</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> HashSet&lt;Telegram&gt; priorityQueue;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¯¥æ–¹æ³•è¢« DispatchMessage æˆ–è€… DispatchDelayedMessages åˆ©ç”¨ã€‚</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¯¥æ–¹æ³•ç”¨æœ€æ–°åˆ›å»ºçš„ telegram è°ƒç”¨æ¥å—å®ä½“çš„æ¶ˆæ¯å¤„ç†æˆå‘˜å‡½æ•° receiver</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Discharge</span>(<span class="params">BaseGameEntity receiver, Telegram telegram</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!receiver.HandleMessage(telegram))</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.LogWarning(<span class="string">&quot;æ¶ˆæ¯æœªå¤„ç†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ›å»ºå’Œç®¡ç†æ¶ˆæ¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;delay&quot;&gt;</span>æ—¶é—´çš„å»¶è¿Ÿï¼ˆè¦ç«‹åˆ»å‘é€å°±ç”¨é›¶æˆ–è´Ÿå€¼ï¼‰<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;senderId&quot;&gt;</span>å‘é€è€… ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;receiverId&quot;&gt;</span>æ¥å—è€… ID<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;message&quot;&gt;</span>æ¶ˆæ¯æœ¬èº«<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;extraInfo&quot;&gt;</span>é™„åŠ æ¶ˆæ¯<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DispatchMessage</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">float</span> delay,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">int</span> senderId,</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="built_in">int</span> receiverId,</span></span></span><br><span class="line"><span class="params"><span class="function">        MessageType message,</span></span></span><br><span class="line"><span class="params"><span class="function">        Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; extraInfo</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è·å¾—æ¶ˆæ¯å‘é€è€…</span></span><br><span class="line">        BaseGameEntity sender = EntityManager.Instance.GetEntityFromId(senderId);</span><br><span class="line">        <span class="comment">// è·å¾—æ¶ˆæ¯æ¥å—è€…</span></span><br><span class="line">        BaseGameEntity receiver = EntityManager.Instance.GetEntityFromId(receiverId);</span><br><span class="line">        <span class="keyword">if</span> (receiver == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.LogWarning(<span class="string">&quot;[MessageDispatcher] æ‰¾ä¸åˆ°æ¶ˆæ¯æ¥æ”¶è€…&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">float</span> currentTime = Time.time;</span><br><span class="line">        <span class="keyword">if</span> (delay &lt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Telegram telegram = <span class="keyword">new</span> Telegram(<span class="number">0</span>, sender, receiver, message, extraInfo);</span><br><span class="line"></span><br><span class="line">            Debug.Log(<span class="built_in">string</span>.Format(</span><br><span class="line">                <span class="string">&quot;æ¶ˆæ¯å‘é€æ—¶é—´: &#123;0&#125; ï¼Œå‘é€è€…æ˜¯ï¼š&#123;1&#125;ï¼Œæ¥æ”¶è€…æ˜¯ï¼š&#123;2&#125;ã€‚æ¶ˆæ¯æ˜¯ &#123;3&#125;&quot;</span>,</span><br><span class="line">                currentTime,</span><br><span class="line">                sender.Name,</span><br><span class="line">                receiver.Name,</span><br><span class="line">                message.ToString()));</span><br><span class="line">            Discharge(receiver, telegram);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Telegram delayedTelegram = <span class="keyword">new</span> Telegram(currentTime + delay, sender, receiver, message, extraInfo);</span><br><span class="line">            priorityQueue.Add(delayedTelegram);</span><br><span class="line"></span><br><span class="line">            Debug.Log(<span class="built_in">string</span>.Format(</span><br><span class="line">                <span class="string">&quot;å»¶æ—¶æ¶ˆæ¯å‘é€æ—¶é—´: &#123;0&#125; ï¼Œå‘é€è€…æ˜¯ï¼š&#123;1&#125;ï¼Œæ¥æ”¶è€…æ˜¯ï¼š&#123;2&#125;ã€‚æ¶ˆæ¯æ˜¯ &#123;3&#125;&quot;</span>,</span><br><span class="line">                currentTime,</span><br><span class="line">                sender.Name,</span><br><span class="line">                receiver.Name,</span><br><span class="line">                message.ToString()));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å‘é€å»¶æ—¶æ¶ˆæ¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è¿™ä¸ªæ–¹æ³•ä¼šæ”¾åœ¨æ¸¸æˆçš„ä¸»å¾ªç¯ä¸­ï¼Œä»¥æ­£ç¡®åœ°å’ŒåŠæ—¶åœ°å‘é€ä»»ä½•å®šæ—¶çš„æ¶ˆæ¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DisplayDelayedMessages</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">float</span> currentTime = Time.time;</span><br><span class="line">        <span class="keyword">while</span> (priorityQueue.Count &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">               priorityQueue.First().DispatchTime &lt; currentTime &amp;&amp;</span><br><span class="line">               priorityQueue.First().DispatchTime &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Telegram telegram = priorityQueue.First();</span><br><span class="line">            BaseGameEntity receiver = telegram.Receiver;</span><br><span class="line"></span><br><span class="line">            Debug.Log(<span class="built_in">string</span>.Format(<span class="string">&quot;å»¶æ—¶æ¶ˆæ¯å¼€å§‹å‡†å¤‡åˆ†å‘ï¼Œæ¥æ”¶è€…æ˜¯ &#123;0&#125;ï¼Œæ¶ˆæ¯æ˜¯ &#123;1&#125;&quot;</span>,</span><br><span class="line">                receiver.Name,</span><br><span class="line">                telegram.Message.ToString()));</span><br><span class="line">            <span class="comment">// å¼€å§‹åˆ†å‘æ¶ˆæ¯</span></span><br><span class="line">            Discharge(receiver, telegram);</span><br><span class="line">            priorityQueue.Remove(telegram);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>DispatchMessage</code> å‡½æ•°ä¼šç®¡ç†æ¶ˆæ¯çš„å‘é€ï¼Œå³æ—¶æ¶ˆæ¯ä¼šç›´æ¥ç”± <code>Discharge</code> å‡½æ•°å‘é€åˆ°æ¥æ”¶è€…ï¼Œå»¶æ—¶æ¶ˆæ¯ä¼šè¿›å…¥é˜Ÿåˆ—ï¼Œé€šè¿‡ GameManager æ¸¸æˆä¸»å¾ªç¯ï¼Œæ¯ä¸€å¸§è°ƒç”¨ <code>DisplayDelayedMessages()</code> å‡½æ•°æ¥è½®è¯¢è¦å‘é€çš„æ¶ˆæ¯ï¼Œå½“å‘ç°å½“å‰æ—¶é—´è¶…è¿‡äº†æ¶ˆæ¯çš„å‘é€æ—¶é—´ï¼Œå°±æŠŠæ¶ˆæ¯å‘é€ç»™æ¥æ”¶è€…ã€‚</p><h3 id="å¤„ç†æ¶ˆæ¯">å¤„ç†æ¶ˆæ¯</h3><p>å¤„ç†æ¶ˆæ¯çš„è¯ä¿®æ”¹ BaseGameEntity æ¥å¢åŠ å¤„ç†æ¶ˆæ¯çš„åŠŸèƒ½ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">BaseGameEntity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ... çœç•¥æ— å…³ä»£ç </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="built_in">bool</span> <span class="title">HandleMessage</span>(<span class="params">Telegram message</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Miner</span> : <span class="title">BaseGameEntity</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">bool</span> <span class="title">HandleMessage</span>(<span class="params">Telegram message</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> m_stateMachine.HandleMessage(message);</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>StateMachine ä»£ç ä¹Ÿè¦æ”¹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">StateMachine</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">HandleMessage</span>(<span class="params">Telegram message</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (m_pCurrentState != <span class="literal">null</span> &amp;&amp; m_pCurrentState.OnMessage(m_pOwner, message))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// å¦‚æœå½“å‰çŠ¶æ€æ²¡æœ‰ä»£ç é€‚å½“çš„å¤„ç†æ¶ˆæ¯</span></span><br><span class="line">        <span class="comment">// å®ƒä¼šå‘é€åˆ°å®ä½“çš„å…¨å±€çŠ¶æ€çš„æ¶ˆæ¯å¤„ç†è€…</span></span><br><span class="line">        <span class="keyword">if</span> (m_pCurrentState != <span class="literal">null</span> &amp;&amp; m_pGlobalState.OnMessage(m_pOwner, message))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>State åŸºç±»ä¹Ÿè¦ä¿®æ”¹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title">State</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¤„ç†æ¶ˆæ¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entity&quot;&gt;</span>æ¥å—è€…<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;message&quot;&gt;</span>è¦å¤„ç†çš„æ¶ˆæ¯<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>æ¶ˆæ¯æ˜¯å¦æˆåŠŸè¢«å¤„ç†<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="built_in">bool</span> <span class="title">OnMessage</span>(<span class="params">T entity, Telegram message</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Discharge</code> å‡½æ•°å‘é€æ¶ˆæ¯ç»™æ¥æ”¶è€…ï¼Œæ¥æ”¶è€…å°†æ¶ˆæ¯ç»™ä»– StateMachine çš„ <code>HandleMessage</code> å‡½æ•°å¤„ç†ï¼Œæ¶ˆæ¯æœ€åé€šè¿‡ StateMachine åˆ°è¾¾å„ç§çŠ¶æ€çš„ <code>OnMessage</code> å‡½æ•°ï¼Œå¼€å§‹æ ¹æ®æ¶ˆæ¯çš„ç±»å‹æ¥åšå‡ºå¤„ç†ï¼ˆä¾‹å¦‚è¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼‰ã€‚</p><p>å…·ä½“å®ç°è¯·çœ‹é¡¹ç›®ä»£ç ï¼š<a href="https://github.com/Latias94/programming-game-ai-by-example-in-unity/tree/master/WestWorldWithMessaging">programming-game-ai-by-example-in-unity/WestWorldWithMessaging/</a></p><p><img src="http://img.frankorz.com/5b2cf105c1153.png" alt="West World With Messaging"></p><p>è¿™é‡Œå®ç°çš„åœºæ™¯æ˜¯ï¼š</p><ol><li>çŸ¿å·¥ Bob å›å®¶åå‘é€ HiHoneyImHome <strong>å³æ—¶æ¶ˆæ¯</strong>ç»™ä»–çš„å¦»å­ Elsaï¼Œæé†’å¥¹åšé¥­ã€‚</li><li>Elsa æ”¶åˆ°æ¶ˆæ¯åï¼Œåœæ­¢æ‰‹ä¸Šçš„æ´»å„¿ï¼Œå¼€å§‹è¿›å…¥ CookStew çŠ¶æ€åšé¥­ã€‚</li><li>Elsa è¿›å…¥ CookStew çŠ¶æ€åï¼ŒæŠŠè‚‰æ”¾åˆ°çƒ¤ç‚‰é‡Œé¢ï¼Œå¹¶ä¸”å‘é€ StewReady <strong>å»¶æ—¶æ¶ˆæ¯</strong>æé†’è‡ªå·±åœ¨ä¸€æ®µæ—¶é—´åæ‹¿å‡ºçƒ¤ç‚‰ä¸­çš„è‚‰ã€‚</li><li>Elsa æ”¶åˆ° StewReady æ¶ˆæ¯åï¼Œå‘é€ä¸€ä¸ª StewReady <strong>å³æ—¶æ¶ˆæ¯</strong>ç»™ Bob æé†’ä»–é¥­å·²ç»åšå¥½äº†ã€‚å¦‚æœ Bob è¿™æ—¶ä¸åœ¨å®¶ï¼Œå‘½ä»¤è¡Œå°†æ˜¾ç¤º Discharge å‡½æ•°ä¸­çš„ Warning â€œæ¶ˆæ¯æœªå¤„ç†â€ã€‚Bob åœ¨å®¶ï¼Œå°±ä¼šå¼€å¿ƒåœ°å»åƒé¥­ã€‚</li><li>Bob æ”¶åˆ° StewReady çš„æ¶ˆæ¯ï¼ŒçŠ¶æ€è½¬ç§»åˆ° EatStewï¼Œå¼€å§‹åƒé¥­ã€‚</li></ol><h2 id="æ€»ç»“">æ€»ç»“</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šç”¨åˆ°å¤šä¸ªçŠ¶æ€æœºæ¥å¹¶è¡Œå·¥ä½œï¼Œä¾‹å¦‚ä¸€ä¸ª AI æœ‰å¤šä¸ªçŠ¶æ€ï¼Œå…¶ä¸­åŒ…æ‹¬æ”»å‡»çŠ¶æ€ï¼Œè€Œæ”»å‡»çŠ¶æ€åˆæœ‰ä¸åŒæ”»å‡»ç±»å‹ï¼ˆç„å‡†å’Œå°„å‡»ï¼‰ï¼Œåƒä¸€ä¸ªçŠ¶æ€æœºåŒ…å«å¦ä¸€ä¸ªçŠ¶æ€æœºè¿™ç§<strong>å±‚æ¬¡åŒ–çš„çŠ¶æ€æœº</strong>ã€‚å½“ç„¶ä¹Ÿæœ‰å…¶ä»–ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬ä¸èƒ½å—é™äºè‡ªå·±çš„æƒ³è±¡åŠ›ã€‚</p><p>æœ¬æ–‡æ ¹æ®ã€Šæ¸¸æˆäººå·¥æ™ºèƒ½ç¼–ç¨‹æ¡ˆä¾‹ç²¾ç²¹ï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹è¿›è¡Œäº† Unity ç‰ˆæœ¬çš„å®ç°ï¼Œæˆ‘å¯¹æœ‰é™çŠ¶æ€æœºä¹Ÿæœ‰äº†æ›´æ¸…æ™°çš„è®¤è¯†ã€‚é˜…è¯»è¿™æœ¬ä¹¦çš„åŒæ—¶ä¹Ÿä¼šæŠŠ Unity å®ç°æ”¾åˆ°ä¸‹é¢çš„ä»“åº“åœ°å€ä¸­ï¼Œä¸‹ç¯‡æ–‡ç« å¯èƒ½ä¼šæ€»ç»“è¡Œä¸ºæ ‘çš„çŸ¥è¯†ï¼Œå¦‚æœæ²¡çœ‹åˆ°è¯·ç£ä¿ƒæˆ‘~</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/Latias94/programming-game-ai-by-example-in-unity">programming-game-ai-by-example-in-unity</a></p><h2 id="å¼•ç”¨">å¼•ç”¨</h2><ul><li><a href="https://book.douban.com/subject/19930152/">ã€Šæ¸¸æˆäººå·¥æ™ºèƒ½ç¼–ç¨‹æ¡ˆä¾‹ç²¾ç²¹ï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘åœ¨é˜…è¯»ã€Šæ¸¸æˆäººå·¥æ™ºèƒ½ç¼–ç¨‹æ¡ˆä¾‹ç²¾ç²¹ï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹ï¼Œæœ¬æ–‡æ˜¯ä¹¦ä¸­ç¬¬äºŒç« çš„ä¸€ç¯‡ç¬”è®°ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰é™çŠ¶æ€æœºï¼ˆè‹±è¯­ï¼šFinite-state machine, ç¼©å†™ï¼šFSMï¼‰ï¼Œæ˜¯ä¸€ä¸ªè¢«æ•°å­¦å®¶ç”¨æ¥è§£å†³é—®é¢˜çš„ä¸¥æ ¼å½¢å¼åŒ–çš„è®¾å¤‡ï¼Œåœ¨æ¸¸æˆä¸šä¸­ä¹Ÿå¸¸è§æœ‰é™çŠ¶æ€æœºçš„èº«å½±ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¸¸æˆç¨‹åºå‘˜æ¥è¯´ï¼Œå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå®šä¹‰æ¥äº†è§£ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºæ˜¯ä¸€ä¸ªè®¾å¤‡ï¼ˆdeviceï¼‰ï¼Œæˆ–æ˜¯ä¸€ä¸ªè®¾å¤‡æ¨¡å‹ï¼ˆa model of a deviceï¼‰ã€‚å…·æœ‰æœ‰é™æ•°é‡çš„çŠ¶æ€ï¼Œå®ƒå¯ä»¥åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´æ ¹æ®è¾“å…¥è¿›è¡Œæ“ä½œï¼Œæ˜¯çš„ä»ä¸€ä¸ªçŠ¶æ€å˜æ¢åˆ°å¦ä¸€ä¸ªçŠ¶æ€ï¼Œæˆ–è€…æ˜¯ä¿ƒä½¿ä¸€ä¸ªè¾“å‡ºæˆ–è€…ä¸€ç§è¡Œä¸ºçš„å‘ç”Ÿã€‚ä¸€ä¸ªæœ‰é™çŠ¶æ€æœºåœ¨ä»»ä½•ç¬é—´åªèƒ½å¤„åœ¨ä¸€ç§çŠ¶æ€ã€‚&lt;br&gt;
â€”â€”ã€Šæ¸¸æˆäººå·¥æ™ºèƒ½ç¼–ç¨‹æ¡ˆä¾‹ç²¾ç²¹ï¼ˆä¿®è®¢ç‰ˆï¼‰ã€‹ Mat Buckland&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ‰é™çŠ¶æ€æœºå°±æ˜¯è¦æŠŠä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºåˆ†è§£æˆæ˜“äºå¤„ç†çš„â€œå—â€æˆ–è€…çŠ¶æ€ã€‚æ‹¿æŸä¸ªå¼€å…³æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒåˆ†æˆä¸¤ä¸ªçŠ¶æ€ï¼šå¼€æˆ–å…³ã€‚å…¶ä¸­å¼€å¼€å…³è¿™ä¸ªæ“ä½œï¼Œå°±æ˜¯ä¸€æ¬¡&lt;strong&gt;çŠ¶æ€è½¬ç§»&lt;/strong&gt;ï¼Œä½¿å¼€å…³çš„çŠ¶æ€ä»â€œå…³â€å˜æ¢åˆ°â€œå¼€â€ï¼Œåä¹‹äº¦ç„¶ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/categories/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="Unity" scheme="http://frankorz.com/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>2D åƒç´ é£å¹³å°æ¸¸æˆ Arethaâ€™s Journey</title>
    <link href="http://frankorz.com/2018/06/17/arethas-journey/"/>
    <id>http://frankorz.com/2018/06/17/arethas-journey/</id>
    <published>2018-06-17T19:38:10.000Z</published>
    <updated>2022-12-28T06:52:11.270Z</updated>
    
    <content type="html"><![CDATA[<p>ç»§<a href="https://frankorz.com/2018/04/13/first-board-game/">ã€Šæˆ‘è®¾è®¡çš„ç¬¬ä¸€ä¸ªæ¡Œæ¸¸ã€‹</a>åï¼Œè¿™æ¬¡å¸¦æ¥çš„æ˜¯ç”µå­æ¸¸æˆçš„ä½œä¸šâ€”â€” 2Dåƒç´ å¹³å°æ¸¸æˆ Arethaâ€™s Journeyã€‚</p><h2 id="æ¸¸æˆèƒŒæ™¯">æ¸¸æˆèƒŒæ™¯</h2><p>æ¥è‡ªæ½˜è¾¾å°¼äºšçš„å¥³å­© Aretha å·²ç»ç¦»ä¹¡åˆ«äº•å‡ å¹´äº†ï¼Œå›ä¹¡ä¹‹é™…ï¼Œå‘ç°æ—äººä»¬éƒ½è¢«ç¥æ‰€è¯…å’’è€Œå˜æˆäº†çŸ³å¤´ï¼ŒåŸå› æ˜¯ä»–ä»¬çš„æ—äººæ›¾å°è¯•åæŠ—ç¥ã€‚äºæ˜¯ Aretha ä¾¿è¸ä¸Šæ‹¯æ•‘å®¶å›­ä¹‹è·¯â€¦</p><span id="more"></span><h2 id="æ¸¸æˆæˆªå›¾">æ¸¸æˆæˆªå›¾</h2><p>ç¾æœ¯é£æ ¼é‡‡ç”¨äº†åƒç´ é£ï¼Œæ¸¸æˆä¸€å…±æœ‰äº”å…³ï¼Œç¬¬ä¸€å…³ä¸ºæ•™å­¦å…³ï¼Œç¬¬äº”å…³ä¸º Boss æˆ˜ï¼Œæˆªå›¾å¦‚ä¸‹ï¼š</p><p><img src="http://img.frankorz.com/5b2624189ebf8.png" alt="Stage01"></p><p><img src="http://img.frankorz.com/5b2624185d904.png" alt="Stage02"></p><p><img src="http://img.frankorz.com/5b2624187816a.png" alt="Stage03"></p><p><img src="http://img.frankorz.com/5b262418800b1.png" alt="Stage04"></p><p><img src="http://img.frankorz.com/5b2624f413674.png" alt="Stage05"></p><h2 id="æ¸¸æˆä»‹ç»">æ¸¸æˆä»‹ç»</h2><p>æ¸¸æˆç±»å‹æ˜¯å¸¸è§çš„å¹³å°æ¸¸æˆã€‚ä¸»è§’å¯ä»¥æ”¶é›†é‡‘å¸ï¼Œå»å•†äººé‚£è´­ä¹°&quot;é—ç‰©&quot;ï¼ˆRelicï¼‰ï¼Œé—ç‰©å¯ä»¥çœ‹åšæ˜¯ä¸€ç§è£…å¤‡ï¼Œç©¿ä¸Šèƒ½æä¾›ä¸€äº›ç‰¹æ®Šå¢ç›Šï¼Œä¾‹å¦‚å¢åŠ è¡€ä¸Šé™ã€æ‰“æ€ªå¸è¡€ç­‰ã€‚æœ¬æ¥æƒ³è®¾è®¡æˆ Roguelike ä¸­ä¼—å¤šèƒ½æä¾›ä¸åŒèƒ½åŠ›çš„é“å…·ï¼Œä½†è‹¦äºæ—¶é—´ä¸è¶³ï¼Œå› æ­¤åœ¨æ¸¸æˆä¸­åªè®¾è®¡äº†å‡ ä¸ªèƒ½è´­ä¹°çš„é—ç‰©ï¼Œæœ‰äº›é—ç‰©èƒ½åœ¨å®ç®±é‡Œé¢éšæœºå¼€å‡ºæ¥ã€‚</p><p>æ¸¸æˆåœ°å›¾æ˜¯ç”¨ Unity 2017 çš„æ–°ç‰¹æ€§ TileMap åšçš„ï¼Œé•œå¤´ä½¿ç”¨ 2D Cinemachineã€‚ç°åœ¨å›çœ‹ä½œå“ï¼Œå…¶å®è¿™ä¸€ç±»å‹çš„æ¸¸æˆå¹¶ä¸éš¾ï¼Œä½†æ˜¯æˆ‘ä»¬å›¢é˜Ÿé™¤äº†æˆ‘éƒ½æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ Unityï¼Œè¸©è¿‡ä¸å°‘å‘ï¼Œä¹Ÿå¯¼è‡´åˆ° Due çš„æ—¶å€™å¾ˆå¤šä¸œè¥¿éƒ½æ²¡åšå®Œã€‚</p><p>æˆ‘è´Ÿè´£äº†æ¸¸æˆä¸­é™¤æˆ˜æ–—ç³»ç»Ÿå¤–çš„ç¼–ç¨‹ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼šGame Loopã€Item Respawnã€è§’è‰²çŠ¶æ€ã€èƒŒåŒ…ç³»ç»Ÿç­‰åŠŸèƒ½ã€‚å¯ä»¥è¯´å¾ˆå¤šä»£ç éƒ½æ˜¯é‡ç”¨æ€§å¾ˆé«˜çš„ï¼Œä½†è‡ªå·±ä»¥å‰æ²¡æœ‰ç§¯ç´¯ï¼Œæ‰€ä»¥åšè¿™æ¸¸æˆçš„æ—¶å€™ä¹Ÿåªèƒ½ä»é›¶å¼€å§‹åšï¼Œåœ¨ç¼–ç¨‹ä¸­é€æ¸æ¨¡å—åŒ–ç³»ç»Ÿä»£ç ã€‚</p><h2 id="Showcase">Showcase</h2><p>ä¸è¿‡å¾ˆå¼€å¿ƒçš„æ˜¯ï¼Œæ¸¸æˆè¢«å…¥é€‰åˆ°å­¦æ ¡çš„ Student Games Showcase é‡Œé¢ï¼Œè¿™ä¸ª Showcase é‡Œè¿˜æœ‰å…¶ä»–åŒå­¦æœŸå…¶ä»–åŒå­¦æ‰€åšçš„ä¼˜ç§€çš„æ¸¸æˆä½œå“ã€‚å¤§å®¶æœ‰å…´è¶£çš„è¯å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™æŸ¥çœ‹2018å¹´çš„å…¥é€‰æ¸¸æˆï¼š<a href="http://www.gamesstudio.org/games">Student Games</a> ã€‚æˆ‘ä»¬æ¸¸æˆåœ¨ Showcase çš„è¯„å§”æŠ•ç¥¨å’Œå…¬å¼€æŠ•ç¥¨ä¸­éƒ½è·å¾—ç¬¬äºŒåçš„æˆç»©ï¼Œè‡ªå·±å’Œå°ç»„éƒ½æ˜¯å¾ˆå¼€å¿ƒçš„~</p><p><img src="http://img.frankorz.com/5b262a27c0eb6.jpg" alt="çŒœçŒœæˆ‘ä»¬ç»„åœ¨å“ª~"></p><p><img src="http://img.frankorz.com/5b262a292f38c.jpg" alt="è¯„å§”æŠ•ç¥¨"></p><h2 id="ç»“è¯­">ç»“è¯­</h2><p>æ¸¸æˆä¸‹è½½ï¼š<a href="https://github.com/Latias94/Aretha-s-Journey">Aretha-s-Journey</a></p><p>æ€»è€Œè¨€ä¹‹ï¼Œæ¸¸æˆè®¾è®¡è¯¾è®¤è¯†ä¸å°‘æ–°æœ‹å‹ï¼Œä¹Ÿæ”¶è·äº†å¾ˆå¤šï¼Œè‡ªå·±åœ¨æ¸¸æˆå¼€å‘çš„è·¯ä¸Šåˆå¾€å‰èµ°äº†ä¸€æ­¥ã€‚</p><p>Flag: ä»¥ååšå®¢ä¼šæ›´æ–°å¾—å‹¤ä¸€äº›ï¼Œå­¦äº†å•¥å°±å†™å•¥ï¼Œä¸èƒ½ç­‰åˆ°åƒé€äº†ä¸€ä¸ªä¸œè¥¿å†æ”¾ä¸Šæ¥= =ã€‚</p><blockquote><p>Thank you for playing my game.</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç»§&lt;a href=&quot;https://frankorz.com/2018/04/13/first-board-game/&quot;&gt;ã€Šæˆ‘è®¾è®¡çš„ç¬¬ä¸€ä¸ªæ¡Œæ¸¸ã€‹&lt;/a&gt;åï¼Œè¿™æ¬¡å¸¦æ¥çš„æ˜¯ç”µå­æ¸¸æˆçš„ä½œä¸šâ€”â€” 2Dåƒç´ å¹³å°æ¸¸æˆ Arethaâ€™s Journeyã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ¸¸æˆèƒŒæ™¯&quot;&gt;æ¸¸æˆèƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;æ¥è‡ªæ½˜è¾¾å°¼äºšçš„å¥³å­© Aretha å·²ç»ç¦»ä¹¡åˆ«äº•å‡ å¹´äº†ï¼Œå›ä¹¡ä¹‹é™…ï¼Œå‘ç°æ—äººä»¬éƒ½è¢«ç¥æ‰€è¯…å’’è€Œå˜æˆäº†çŸ³å¤´ï¼ŒåŸå› æ˜¯ä»–ä»¬çš„æ—äººæ›¾å°è¯•åæŠ—ç¥ã€‚äºæ˜¯ Aretha ä¾¿è¸ä¸Šæ‹¯æ•‘å®¶å›­ä¹‹è·¯â€¦&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ¸¸æˆè®¾è®¡" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘è®¾è®¡çš„ç¬¬ä¸€ä¸ªæ¡Œæ¸¸</title>
    <link href="http://frankorz.com/2018/04/13/first-board-game/"/>
    <id>http://frankorz.com/2018/04/13/first-board-game/</id>
    <published>2018-04-13T14:45:07.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ˆä¹…æ²¡å†™æ–‡ç« äº†ï¼Œè¿™æ¬¡å¸¦æ¥çš„æ˜¯æ¸¸æˆè®¾è®¡è¯¾ä¸­çš„æ¡Œæ¸¸å¤§ä½œä¸šã€‚</p><p>å°ç»„æˆå‘˜åœ¨ç¬¬ä¸€èŠ‚è¯¾å°±éšæœºåˆ†å¥½äº†ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹é€‰æ‹©æ¯äººå‡†å¤‡ä¸€ä¸ªæ¡Œæ¸¸åŸå‹ï¼Œç„¶åå…±åŒé€‰æ‹©ä¸€ä¸ªåŸå‹æ¥æ·±å…¥è®¾è®¡ï¼Œæœ€åä¸€èµ·é€‰æ‹©äº†æˆ‘çš„è®¾è®¡åŸå‹ã€‚</p><span id="more"></span><h2 id="ç¬¬ä¸€ç‰ˆè®¾è®¡">ç¬¬ä¸€ç‰ˆè®¾è®¡</h2><p><img src="http://img.frankorz.com/5ad027ce886e5.png" alt="ç¬¬ä¸€ç‰ˆåœ°å›¾"></p><p>æˆ‘çš„è®¾è®¡æ˜¯ï¼šæ¯ä¸ªç©å®¶åˆå§‹æœ‰ 4 HPï¼Œå››ä¸ªç©å®¶ä»å·¦ä¸‹è§’é€šè¿‡æ·éª°å­çš„æ–¹å¼åœ¨åœ°å›¾çš„ç‚¹ä¸Šå¾€ç»ˆç‚¹èµ°ï¼Œå…ˆåˆ°ç»ˆç‚¹è€…èƒœï¼ŒHPä¸ºé›¶æ—¶éœ€è¦ä»èµ·ç‚¹é‡æ–°å¼€å§‹ã€‚åœ°å›¾ä¸­æœ‰å››ç§ä¸åŒåŠŸèƒ½çš„ç‚¹ï¼Œç©å®¶åˆ°è¾¾æŸä¸ªç‚¹æ—¶ä¼šè§¦å‘ç›¸åº”æ•ˆæœï¼š</p><ul><li>é»‘ç‚¹ï¼šæ— ç‰¹æ®Šæ•ˆæœ</li><li>ç»¿ç‚¹ï¼šä¼‘æ¯ç‚¹ï¼Œå› 1 HP</li><li>çº¢ç‚¹ï¼šé™·é˜±ç‚¹ï¼Œæ‹¿ä¸€å¼ é™·é˜±å¡ï¼Œç«‹å³ä½¿ç”¨æ¥æ¥å—æƒ©ç½šï¼Œå¦‚ï¼š æ‰£è¡€ã€ç¦ä¸€å›åˆç­‰æ•ˆæœ</li><li>é»„ç‚¹ï¼šå®ç‰©ç‚¹ï¼Œæ‹¿ä¸€å¼ å®ç‰©å¡ï¼Œå¯ä»¥åœ¨å½“å‰å›åˆä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è—èµ·æ¥ç­‰ä»¥åçš„å›åˆä½¿ç”¨ï¼Œå¦‚ï¼šå›è¡€ã€å…¶ä»–ç©å®¶å€’é€€ä¸‰æ­¥ã€ç¦æŸç©å®¶ä¸€å›åˆç­‰æ•ˆæœ</li></ul><p>åŸå‹çš„çµæ„Ÿä¸»è¦æ¥è‡ªäºæœ€è¿‘å¸¸ç©çš„ <a href="http://store.steampowered.com/app/646570/Slay_the_Spire/">â€œSlay the Spireâ€</a> ä¸­çš„åœ°å›¾ï¼Œç©å®¶é€šè¿‡é€‰æ‹©ä¸åŒçš„é“è·¯æŠ‰æ‹©ï¼Œç›®æ ‡æ˜¯æ´»ç€æ‰“è´¥å…³åº• BOSSã€‚åœ¨ç¬¬ä¸€ç‰ˆè®¾è®¡ä¸­ï¼Œæ•´ä¸ªçš„PVEè®¾è®¡ä¸‹ï¼Œä¹Ÿè€ƒè™‘äº† PVP å› ç´ ï¼šä¸¤ä¸ªç©å®¶èµ°åˆ°åŒä¸€ä¸ªç‚¹æ—¶å¯ä»¥è¿›è¡Œå†³æ–—ï¼Œæ¯äºº -1 HPã€‚ç”±äºæ­¥æ•°ä¸»è¦ä¾èµ–äºéšæœºçš„éª°å­å¾—æ¥çš„æ•°å­—ï¼Œæ‰€ä»¥é“è·¯ä¸èƒ½è®¾è®¡å¤ªå¤šï¼Œå°½é‡å¢åŠ ç©å®¶ç›¸é‡çš„æœºä¼šã€‚åŒæ—¶åœ¨è¾ƒé•¿çš„æ”¯è·¯ä¸­ï¼Œå®ç‰©ç‚¹è¾ƒå¤šï¼Œé™·é˜±ç‚¹ä¹Ÿè¾ƒå¤šï¼Œæœºé‡ä¸é£é™©å¹¶å­˜ã€‚</p><p>è¿™æ ·è®¾è®¡çš„è¯ï¼Œæˆ‘ä»¬ä¸»è¦è€ƒè™‘åœ°å›¾è®¾è®¡çš„å¹³è¡¡å’Œå»æ‰©å±•å¡ç‰Œçš„æ•ˆæœå³å¯ã€‚</p><p>ä½†æ˜¯é—®é¢˜ä¹Ÿæ¥äº†ï¼š</p><ul><li>æ€»æœ‰è¿æ°”å‡ºå¥‡å¥½çš„ç©å®¶ä¸€è·¯è¶‹å‰é¿å‡¶ï¼Œä»€ä¹ˆæŒ«æŠ˜éƒ½æ²¡é‡åˆ°å°±åˆ°ç»ˆç‚¹äº†</li><li>ç©å®¶æ­»äº†ä¹‹åå°±è¦å›åˆ°èµ·ç‚¹é‡æ–°å¼€å§‹ï¼Œæ²¡å¹²åŠ²ç»§ç»­ç©äº†</li><li>æ¸¸æˆæ€§ä¸è¶³ï¼Œç°æœ‰çš„æ¸¸æˆå…ƒç´ è¿˜æ˜¯å¤ªå°‘ï¼Œä¸»è¦é éª°å­å’ŒæŠ“ç‰Œæ—¶çš„è¿æ°”ï¼Œç©å®¶è¦è€ƒè™‘çš„å®é™…ä¸Šä¸å¤š</li></ul><h2 id="ç¬¬äºŒç‰ˆè®¾è®¡">ç¬¬äºŒç‰ˆè®¾è®¡</h2><p>é’ˆå¯¹å‰é¢çš„ç¬¬ä¸€ç‚¹é—®é¢˜ï¼Œæ–°å¢äº†â€œåœ°å½¢â€çš„è®¾è®¡ï¼š</p><p><img src="http://img.frankorz.com/5ad02e2f1a8be.png" alt=""></p><p>åœ°å½¢ä¸æ˜¯ä¸€ä¸ªèƒ½èµ°çš„ç‚¹ï¼Œæ•ˆæœåªæœ‰åœ¨ç©å®¶èµ°è¿‡ï¼ˆåœ¨ç‚¹ä¸Šèµ°è·¨è¶Šåœ°å½¢ï¼‰æ—¶è§¦å‘ã€‚ç›¸å¯¹äºç‚¹çš„è®¾è®¡ï¼Œåœ°å½¢æ˜¯ä¸€ä¸ªâ€œå¿…é¡»è§¦å‘â€çš„è®¾è®¡ã€‚æ¯ä¸ªç©å®¶åœ¨è·¨è¿‡å±±è„‰çš„æ—¶å€™å¿…é¡» -1 HPï¼Œé‡åˆ°é¾™çªŸçš„æ—¶å€™ä¹Ÿèƒ½å¿…å¾—ä¸€å¼ å®ç‰©å¡ï¼Œè¿™æ ·é™ä½äº†è¿æ°”çš„æˆåˆ†ï¼Œæé«˜äº†åŠŸèƒ½å¡çš„åˆ©ç”¨ç‡ã€‚</p><p>å¯¹äºä¸Šé¢çš„ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡è®¾è®¡â€œæ—…é¦†â€çš„ä¸€ç§åœ°å½¢ï¼Œç©å®¶èµ°è¿‡ +1 HPï¼ŒåŒæ—¶å¯ä»¥å½“åšç©å®¶çš„é‡ç”Ÿç‚¹ï¼Œç©å®¶æ­»åå¯ä»¥ä»è·¯è¿‡çš„æ—…é¦†é‡ç”Ÿã€‚</p><p>é’ˆå¯¹ç¬¬ä¸‰ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ–°å¢äº†è‹±é›„å¡çš„è®¾è®¡ã€‚æ¯ä¸ªè‹±é›„æœ‰ä¸åŒèƒ½åŠ›ï¼Œä¾‹å¦‚å¦å…‹å¤©ç”Ÿå¸¦ 5 HPï¼Œä¸€äº›ç‰¹æ®Šçš„è‹±é›„è¿˜èƒ½æ ¹æ®ç°æœ‰å…ƒç´ è®¾è®¡èƒ½åŠ›ã€‚æˆ‘ä»¬ä¹Ÿæ–°å¢äº† APï¼ˆæ”»å‡»åŠ›ï¼‰å’Œè£…å¤‡å¡çš„è®¾è®¡ï¼Œæ³¨å…¥æ›´å¤šçš„ RPG å…ƒç´ ã€‚</p><h2 id="æˆå“">æˆå“</h2><h3 id="åœ°å›¾">åœ°å›¾</h3><p><img src="http://img.frankorz.com/5ad030cf4f485.jpg" alt=""></p><h3 id="è‹±é›„å¡">è‹±é›„å¡</h3><p><img src="http://img.frankorz.com/5ad031273fd55.jpg" alt=""></p><h3 id="è£…å¤‡å¡åŠå¡èƒŒ">è£…å¤‡å¡åŠå¡èƒŒ</h3><p><img src="http://img.frankorz.com/5ad031592c916.jpg" alt=""></p><h3 id="é™·é˜±å¡">é™·é˜±å¡</h3><p>é™·é˜±å¡å¤ªå¤šå°±ä¸æ”¾ä¸Šæ¥äº†ï¼Œæ•ˆæœä¸»è¦æ˜¯é€€å‡ æ­¥ã€ç¦ä¸€å›åˆã€ä¸¢åˆ°æ‰€æœ‰çš„å¡ç‰Œå›åˆ°æœ€è¿‘çš„èµ·ç‚¹ç­‰ç­‰ã€‚</p><h3 id="å®ç‰©å¡">å®ç‰©å¡</h3><p>æ•ˆæœä¸»è¦æœ‰ï¼š</p><ul><li>å›è¡€</li><li>å·åˆ«äººä¸€å¼ å¡ï¼ˆå®ç‰©å¡æˆ–è€…è£…å¤‡å¡ï¼‰</li><li>å…¶ä»–ç©å®¶é€€ä¸‰æ­¥</li><li>å¤šä¸€æ¬¡æ·éª°å­è¡ŒåŠ¨çš„æœºä¼š</li><li>+1 HP å¹¶å†æ‹¿ä¸€å¼ å®ç‰©å¡</li><li>æ¯ä¸ªç©å®¶æ‹¿ä¸€å¼ å®ç‰©å¡ï¼ˆå¢åŠ å¡ç‰Œåˆ©ç”¨ç‡ï¼‰</li><li>å’ŒæŸç©å®¶å†³æ–—ï¼ï¼ˆå¢åŠ  PVP çš„å­˜åœ¨æ„Ÿï¼‰</li><li>â€¦</li></ul><h3 id="è¯´æ˜ä¹¦ä¸­éƒ¨åˆ†å†…å®¹">è¯´æ˜ä¹¦ä¸­éƒ¨åˆ†å†…å®¹</h3><p><img src="http://img.frankorz.com/5ad033beeed3b.png" alt=""></p><p><img src="http://img.frankorz.com/5ad034060f860.png" alt=""></p><h2 id="ç»“è¯­">ç»“è¯­</h2><p>åœ¨æ˜¨å¤©æ™šä¸Šçš„æ¸¸æˆè®¾è®¡è¯¾é‡Œï¼Œæ¯ä¸ªå°ç»„éƒ½è¦ç©åˆ«çš„å°ç»„åšçš„æ¡Œæ¸¸å¹¶æ‰“åˆ†ï¼Œåœ¨äº”åˆ†æ»¡åˆ†çš„å‰æä¸‹ï¼Œå‚ä¸çš„å°ç»„ç»™æˆ‘ä»¬æ¸¸æˆå¤§å¤šæ‰“äº†å››åˆ†ä»¥ä¸Šï¼Œä¸»è¦è¿›è¡Œæ¸¸æˆè®¾è®¡éƒ¨åˆ†çš„æˆ‘è¿˜æ˜¯å¾ˆå¼€å¿ƒçš„ï¼ï¼ï¼åœ¨æ–‡å°¾å†æ¬¡æ„Ÿè°¢å°ç»„æˆå‘˜æ‰€ä»˜å‡ºçš„åŠªåŠ›ï¼Œç‰¹åˆ«æ˜¯ä¸»è¦è¿›è¡Œç¾æœ¯è®¾è®¡çš„éŸ©å›½å°å“¥ã€‚</p><p>ä¸‹ä¸€ä¸ªå¤§ä½œä¸šåšç”µå­æ¸¸æˆï¼Œå‡†å¤‡åš Roguelikeï¼Œæœ‰ä»€ä¹ˆå¥½çš„å»ºè®®ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºæå‡º~</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¾ˆä¹…æ²¡å†™æ–‡ç« äº†ï¼Œè¿™æ¬¡å¸¦æ¥çš„æ˜¯æ¸¸æˆè®¾è®¡è¯¾ä¸­çš„æ¡Œæ¸¸å¤§ä½œä¸šã€‚&lt;/p&gt;
&lt;p&gt;å°ç»„æˆå‘˜åœ¨ç¬¬ä¸€èŠ‚è¯¾å°±éšæœºåˆ†å¥½äº†ï¼Œæˆ‘ä»¬ä¸€å¼€å§‹é€‰æ‹©æ¯äººå‡†å¤‡ä¸€ä¸ªæ¡Œæ¸¸åŸå‹ï¼Œç„¶åå…±åŒé€‰æ‹©ä¸€ä¸ªåŸå‹æ¥æ·±å…¥è®¾è®¡ï¼Œæœ€åä¸€èµ·é€‰æ‹©äº†æˆ‘çš„è®¾è®¡åŸå‹ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ¸¸æˆè®¾è®¡" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>å¯»è·¯ç®—æ³•-è´ªå©ªæœ€ä½³ä¼˜å…ˆç®—æ³•</title>
    <link href="http://frankorz.com/2017/12/16/greedy-best-find-search/"/>
    <id>http://frankorz.com/2017/12/16/greedy-best-find-search/</id>
    <published>2017-12-16T23:24:27.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å¼€å§‹æ¥è§¦å¯»è·¯ç®—æ³•ï¼Œå¯¹æ­¤ä¸å¤ªäº†è§£çš„è¯å»ºè®®è¯»è€…å…ˆçœ‹è¿™ç¯‡æ–‡ç« <a href="http://www.gameres.com/777251.html">ã€Šå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æœ€ä¼˜è·¯çº¿ï¼Ÿæ·±å…¥ç†è§£æ¸¸æˆä¸­å¯»è·¯ç®—æ³•ã€‹</a> ã€‚</p><blockquote><p>æ‰€æœ‰å¯»è·¯ç®—æ³•éƒ½éœ€è¦ä¸€ç§æ–¹æ³•ä»¥æ•°å­¦çš„æ–¹å¼ä¼°ç®—æŸä¸ªèŠ‚ç‚¹æ˜¯å¦åº”è¯¥è¢«é€‰æ‹©ã€‚å¤§å¤šæ•°æ¸¸æˆéƒ½ä¼šä½¿ç”¨<strong>å¯å‘å¼</strong>ï¼ˆheuristicï¼‰ ï¼Œä»¥ h(x) è¡¨ç¤ºï¼Œå°±æ˜¯ä¼°ç®—ä»æŸä¸ªä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„å¼€é”€ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¯å‘å¼ç»“æœè¶Šæ¥è¿‘çœŸå®è¶Šå¥½ã€‚</p><p>â€”â€”ã€Šæ¸¸æˆç¼–ç¨‹ç®—æ³•ä¸æŠ€å·§ã€‹</p></blockquote><p>ä»Šå¤©ä¸»è¦è¯´çš„æ˜¯è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢ï¼ˆGreedy Best-First Searchï¼‰ï¼Œè´ªå¿ƒç®—æ³•çš„å«ä¹‰æ˜¯ï¼šæ±‚è§£é—®é¢˜æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰æ¥è¯´æœ€å¥½çš„é€‰æ‹©ã€‚é€šä¿—ç‚¹è¯´å°±æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªâ€œçŸ­è§†â€çš„ç®—æ³•ã€‚</p><span id="more"></span><p>ä¸ºä»€ä¹ˆè¯´æ˜¯â€œçŸ­è§†â€å‘¢ï¼Ÿé¦–å…ˆè¦æ˜ç™½ä¸€ä¸ªæ¦‚å¿µï¼š<a href="https://baike.baidu.com/item/%E6%9B%BC%E5%93%88%E9%A1%BF%E8%B7%9D%E7%A6%BB">æ›¼å“ˆé¡¿è·ç¦»</a>ã€‚</p><h3 id="æ›¼å“ˆé¡¿è·ç¦»">æ›¼å“ˆé¡¿è·ç¦»</h3><p>æ›¼å“ˆé¡¿è·ç¦»è¢«è®¤ä¸ºä¸èƒ½æ²¿ç€å¯¹è§’çº¿ç§»åŠ¨ï¼Œå¦‚ä¸‹å›¾ä¸­ï¼Œçº¢ã€è“ã€é»„çº¿éƒ½ä»£è¡¨ç­‰è·ç¦»çš„æ›¼å“ˆé¡¿è·ç¦»ã€‚ç»¿çº¿ä»£è¡¨<a href="https://baike.baidu.com/item/%E6%AC%A7%E6%B0%8F%E8%B7%9D%E7%A6%BB">æ¬§æ°è·ç¦»</a>ï¼Œå¦‚æœåœ°å›¾å…è®¸å¯¹è§’çº¿ç§»åŠ¨çš„è¯ï¼Œæ›¼å“ˆé¡¿è·ç¦»ä¼šç»å¸¸æ¯”æ¬§å¼è·ç¦»é«˜ã€‚</p><p><img src="assets/u=591525660,2345357852&amp;fm=27&amp;gp=0.jpg" alt="img"></p><p>åœ¨ 2D åœ°å›¾ä¸­ï¼Œæ›¼å“ˆé¡¿è·ç¦»çš„è®¡ç®—å¦‚ä¸‹ï¼š</p><p><img src="http://img.frankorz.com/5a353e6bc0c97.png" alt="img"></p><h3 id="è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢çš„ç®€ä»‹">è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢çš„ç®€ä»‹</h3><p>è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢çš„æ¯ä¸€æ­¥ï¼Œéƒ½ä¼šæŸ¥æ‰¾ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œè®¡ç®—å®ƒä»¬è·ç¦»ç»ˆç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»ï¼Œå³æœ€ä½å¼€é”€çš„å¯å‘å¼ã€‚</p><p>è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢åœ¨éšœç¢ç‰©å°‘çš„æ—¶å€™è¶³å¤Ÿçš„å¿«ï¼Œä½†æœ€ä½³ä¼˜å…ˆæœç´¢å¾—åˆ°çš„éƒ½æ˜¯æ¬¡ä¼˜çš„è·¯å¾„ã€‚ä¾‹å¦‚ä¸‹å›¾ï¼Œç®—æ³•ä¸æ–­åœ°å¯»æ‰¾å½“å‰ hï¼ˆå¯å‘å¼ï¼‰æœ€å°çš„å€¼ï¼Œä½†è¿™æ¡è·¯å¾„å¾ˆæ˜æ˜¾ä¸æ˜¯æœ€ä¼˜çš„ã€‚</p><p><img src="http://img.frankorz.com/5a352478a9196.png" alt="img"></p><p>è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢â€œæœªèƒ½è¿œè°‹â€ï¼Œå¤§å¤šæ•°æ¸¸æˆéƒ½è¦æ¯”è´ªå©ªæœ€ä½³ä¼˜å…ˆç®—æ³•æ‰€èƒ½æä¾›çš„æ›´å¥½çš„å¯»è·¯ï¼Œä½†å¤§å¤šæ•°å¯»è·¯ç®—æ³•éƒ½æ˜¯åŸºäºè´ªå©ªç®—æ³•ï¼Œæ‰€ä»¥äº†è§£è¯¥ç®—æ³•å¾ˆæœ‰å¿…è¦ã€‚</p><p>é¦–å…ˆæ˜¯èŠ‚ç‚¹ç±»ï¼Œæ¯ä¸ªèŠ‚ç‚¹éœ€è¦å­˜å‚¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨å’Œ h å€¼ï¼Œå…¶ä»–ä¿¡æ¯æ˜¯ä¸ºäº†æ–¹ä¾¿ç®—æ³•çš„å®ç°ã€‚å­˜å‚¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨æ˜¯ä¸ºäº†åƒä¸€ä¸ªé“¾è¡¨ä¸€æ ·ï¼Œæœ€åèƒ½é€šè¿‡å¼•ç”¨å¾—åˆ°è·¯å¾„ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Node</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// ä¸Šä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">public</span> Node parent;</span><br><span class="line"><span class="comment">// èŠ‚ç‚¹çš„ h(x) å€¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">float</span> h;</span><br><span class="line"><span class="comment">// ä¸å½“å‰èŠ‚ç‚¹ç›¸é‚»çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Node&gt; adjecent = <span class="keyword">new</span> List&lt;Node&gt;();</span><br><span class="line"><span class="comment">// èŠ‚ç‚¹æ‰€åœ¨çš„è¡Œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> row;</span><br><span class="line"><span class="comment">// èŠ‚ç‚¹æ‰€åœ¨çš„åˆ—</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> col;</span><br><span class="line"><span class="comment">// æ¸…é™¤èŠ‚ç‚¹ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Clear</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">parent = <span class="literal">null</span>;</span><br><span class="line">h = <span class="number">0.0f</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å›¾ç±»ï¼Œå›¾ç±»æœ€ä¸»è¦çš„ä»»åŠ¡å°±æ˜¯æ ¹æ®æä¾›çš„äºŒç»´æ•°ç»„åˆå§‹åŒ–æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å¯»æ‰¾ä»–ä»¬çš„ç›¸é‚»èŠ‚ç‚¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Graph</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> rows = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">int</span> cols = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> Node[] nodes;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Graph</span>(<span class="params"><span class="built_in">int</span>[, ] grid</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">rows = grid.GetLength(<span class="number">0</span>);</span><br><span class="line">cols = grid.GetLength(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">nodes = <span class="keyword">new</span> Node[grid.Length];</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; nodes.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">Node node = <span class="keyword">new</span> Node();</span><br><span class="line">node.row = i / cols;</span><br><span class="line">node.col = i - (node.row * cols);</span><br><span class="line">nodes[i] = node;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾åˆ°æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">foreach</span> (Node node <span class="keyword">in</span> nodes)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">int</span> row = node.row;</span><br><span class="line"><span class="built_in">int</span> col = node.col;</span><br><span class="line"><span class="comment">// å¢™ï¼Œå³èŠ‚ç‚¹ä¸èƒ½é€šè¿‡çš„æ ¼å­ </span></span><br><span class="line"><span class="comment">// 1 ä¸ºå¢™ï¼Œ0 ä¸ºå¯é€šè¿‡çš„æ ¼å­</span></span><br><span class="line"><span class="keyword">if</span> (grid[row, col] != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// ä¸Šæ–¹çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (row &gt; <span class="number">0</span> &amp;&amp; grid[row - <span class="number">1</span>, col] != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">node.adjecent.Add(nodes[cols * (row - <span class="number">1</span>) + col]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å³è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (col &lt; cols - <span class="number">1</span> &amp;&amp; grid[row, col + <span class="number">1</span>] != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">node.adjecent.Add(nodes[cols * row + col + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹æ–¹çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (row &lt; rows - <span class="number">1</span> &amp;&amp; grid[row + <span class="number">1</span>, col] != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">node.adjecent.Add(nodes[cols * (row + <span class="number">1</span>) + col]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¦è¾¹çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (col &gt; <span class="number">0</span> &amp;&amp; grid[row, col - <span class="number">1</span>] != <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">node.adjecent.Add(nodes[cols * row + col - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç®—æ³•ç±»ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•å¼€æ”¾é›†åˆå’Œå°é—­é›†åˆã€‚å¼€æ”¾é›†åˆæŒ‡çš„æ˜¯å½“å‰æ­¥éª¤æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚ç®—æ³•å¼€å§‹æ—¶å°±è¦è€ƒè™‘åˆå§‹èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹ï¼Œå¹¶ä»å…¶æ‰¾åˆ°æœ€ä½çš„ h(x) å€¼å¼€é”€çš„èŠ‚ç‚¹ã€‚å°é—­é›†åˆå­˜æ”¾å·²ç»è®¡ç®—è¿‡çš„èŠ‚ç‚¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼€æ”¾é›†åˆ</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Node&gt; reachable;</span><br><span class="line"><span class="comment">// å°é—­é›†åˆï¼Œå­˜æ”¾å·²ç»è¢«ç®—æ³•ä¼°å€¼çš„èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Node&gt; explored;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç®—æ³•ä¸»è¦çš„é€»è¾‘ï¼Œé¢å¤–çš„å‡½æ•°å¯ä»¥æŸ¥çœ‹é¡¹ç›®æºç ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Stack&lt;Node&gt; <span class="title">Finding</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å­˜æ”¾æŸ¥æ‰¾è·¯å¾„çš„æ ˆ</span></span><br><span class="line">    Stack&lt;Node&gt; path;</span><br><span class="line">    Node currentNode = reachable[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">// è¿­ä»£æŸ¥æ‰¾ï¼Œç›´è‡³æ‰¾åˆ°ç»ˆç‚¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">while</span> (currentNode != destination)</span><br><span class="line">    &#123;</span><br><span class="line">        explored.Add(currentNode);</span><br><span class="line">        reachable.Remove(currentNode);</span><br><span class="line">      <span class="comment">// å°†å½“å‰èŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹åŠ å…¥å¼€æ”¾é›†åˆ</span></span><br><span class="line">        AddAjacent(currentNode);</span><br><span class="line"><span class="comment">// æŸ¥æ‰¾äº†ç›¸é‚»èŠ‚ç‚¹åä¾ç„¶æ²¡æœ‰å¯ä»¥è€ƒè™‘çš„èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾å¤±è´¥ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (reachable.Count == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      <span class="comment">// å°†å¼€æ”¾é›†åˆä¸­hå€¼æœ€å°çš„èŠ‚ç‚¹å½“åšå½“å‰èŠ‚ç‚¹</span></span><br><span class="line">        currentNode = FindLowestH();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æˆåŠŸï¼Œåˆ™æ ¹æ®èŠ‚ç‚¹parentæ‰¾åˆ°æŸ¥æ‰¾åˆ°çš„è·¯å¾„</span></span><br><span class="line">    path = <span class="keyword">new</span> Stack&lt;Node&gt;();</span><br><span class="line">    Node node = destination;</span><br><span class="line">    <span class="comment">// å…ˆå°†ç»ˆç‚¹å‹å…¥æ ˆï¼Œå†è¿­ä»£åœ°æŠŠnodeçš„å‰ä¸€ä¸ªèŠ‚ç‚¹å‹å…¥æ ˆ</span></span><br><span class="line">    path.Push(node);</span><br><span class="line">    <span class="keyword">while</span> (node.parent != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        path.Push(node.parent);</span><br><span class="line">        node = node.parent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> path;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä»¥å¤–è¿˜æœ‰äº›å±•ç¤ºç®—æ³•çš„ç±»ï¼Œä»£ç ä¸åœ¨è¿™é‡Œå±•å‡ºã€‚ä¸‹é¢æ˜¯ç®—æ³•æ‰§è¡Œçš„æˆªå›¾ï¼Œå…¶ä¸­ç™½è‰²æ ¼å­ä¸ºå¯èµ°çš„æ ¼å­ï¼Œç°è‰²æ ¼å­æ˜¯ä¸å¯ç©¿è¶Šçš„ï¼Œçº¢è‰²æ ¼å­ä¸ºæŸ¥æ‰¾åˆ°çš„è·¯å¾„ï¼Œå·¦ä¸Šè§’æ ¼å­ä¸ºæŸ¥æ‰¾èµ·ç‚¹ï¼Œå³ä¸Šè§’æ ¼å­ä¸ºæŸ¥æ‰¾ç»ˆç‚¹ã€‚</p><p><img src="http://img.frankorz.com/5a352df416fd6.png" alt="small"></p><p><img src="http://img.frankorz.com/5a352f076fc3c.png" alt="big"></p><p>åä¸€ä¸ªå®ä¾‹ä¹Ÿå±•ç°äº†å…¶&quot;çŸ­è§†&quot;çš„ç¼ºç‚¹ï¼Œçº¢çº¿èµ°äº†å…±65ä¸ªæ ¼å­ï¼Œä½†è“ç®­å¤´æ–¹å‘åªèµ°äº†45ä¸ªæ ¼å­ã€‚</p><p><img src="http://img.frankorz.com/5a35305e2845e.png" alt=""></p><h3 id="æœ€å">æœ€å</h3><p>è¿˜æœ‰ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ç›´æ¥è®¡ç®—èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä¸€ç‚¹è®¡ç®—å¼€é”€ã€‚å¦‚ä¸‹æ–¹å³å›¾ï¼Œå·¦å›¾ä¸ºå¹¿åº¦ä¼˜å…ˆç®—æ³•ã€‚</p><p><img src="http://img.frankorz.com/5d441ebc50ff524704.gif" alt="img"></p><p>æœ¬é¡¹ç›®æºç åœ¨ <a href="https://github.com/Latias94/PathFindingDemo">Github-PathFindingDemo</a> ã€‚<br>äº†è§£äº†è´ªå©ªæœ€ä½³ä¼˜å…ˆç®—æ³•åï¼Œä¸‹ä¸€ç¯‡æ–‡ç« ä¼šåœ¨æœ¬æ–‡åŸºç¡€ä¸Šè®²A* å¯»è·¯ã€‚</p><h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h3><ul><li><a href="http://www.gameres.com/777251.html">å¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æœ€ä¼˜è·¯çº¿ï¼Ÿæ·±å…¥ç†è§£æ¸¸æˆä¸­å¯»è·¯ç®—æ³•</a></li><li><a href="http://blog.jobbole.com/71044/">å…³äºå¯»è·¯ç®—æ³•çš„ä¸€äº›æ€è€ƒï¼ˆ1ï¼‰ï¼šA*ç®—æ³•ä»‹ç»</a></li><li>ã€Šæ¸¸æˆç¼–ç¨‹ç®—æ³•ä¸æŠ€å·§ã€‹</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘å¼€å§‹æ¥è§¦å¯»è·¯ç®—æ³•ï¼Œå¯¹æ­¤ä¸å¤ªäº†è§£çš„è¯å»ºè®®è¯»è€…å…ˆçœ‹è¿™ç¯‡æ–‡ç« &lt;a href=&quot;http://www.gameres.com/777251.html&quot;&gt;ã€Šå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°æœ€ä¼˜è·¯çº¿ï¼Ÿæ·±å…¥ç†è§£æ¸¸æˆä¸­å¯»è·¯ç®—æ³•ã€‹&lt;/a&gt; ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰€æœ‰å¯»è·¯ç®—æ³•éƒ½éœ€è¦ä¸€ç§æ–¹æ³•ä»¥æ•°å­¦çš„æ–¹å¼ä¼°ç®—æŸä¸ªèŠ‚ç‚¹æ˜¯å¦åº”è¯¥è¢«é€‰æ‹©ã€‚å¤§å¤šæ•°æ¸¸æˆéƒ½ä¼šä½¿ç”¨&lt;strong&gt;å¯å‘å¼&lt;/strong&gt;ï¼ˆheuristicï¼‰ ï¼Œä»¥ h(x) è¡¨ç¤ºï¼Œå°±æ˜¯ä¼°ç®—ä»æŸä¸ªä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„å¼€é”€ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¯å‘å¼ç»“æœè¶Šæ¥è¿‘çœŸå®è¶Šå¥½ã€‚&lt;/p&gt;
&lt;p&gt;â€”â€”ã€Šæ¸¸æˆç¼–ç¨‹ç®—æ³•ä¸æŠ€å·§ã€‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä»Šå¤©ä¸»è¦è¯´çš„æ˜¯è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢ï¼ˆGreedy Best-First Searchï¼‰ï¼Œè´ªå¿ƒç®—æ³•çš„å«ä¹‰æ˜¯ï¼šæ±‚è§£é—®é¢˜æ—¶ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰æ¥è¯´æœ€å¥½çš„é€‰æ‹©ã€‚é€šä¿—ç‚¹è¯´å°±æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªâ€œçŸ­è§†â€çš„ç®—æ³•ã€‚&lt;/p&gt;</summary>
    
    
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>3Dæ•°å­¦åŸºç¡€-çŸ©é˜µå˜æ¢ï¼ˆäºŒï¼‰</title>
    <link href="http://frankorz.com/2017/09/24/matrix-transformation-2/"/>
    <id>http://frankorz.com/2017/09/24/matrix-transformation-2/</id>
    <published>2017-09-24T17:13:49.000Z</published>
    <updated>2022-12-28T06:52:11.274Z</updated>
    
    <content type="html"><![CDATA[<p><strong>2020å¹´7æœˆ26æ—¥æ›´æ–°ï¼š</strong><br>æœ€è¿‘å¯¹å˜æ¢é‡æ–°å­¦ä¹ æ•´ç†äº†ï¼Œæ–‡ç« åœ¨ï¼š<a href="http://frankorz.com/2020/07/26/transformation/">å›¾å½¢å­¦å¸¸è§çš„å˜æ¢æ¨å¯¼</a>ã€‚</p><p>ä¸Šä¸€ç¯‡ç¬”è®°<a href="http://frankorz.com/2017/09/22/basic-of-vector-and-matrix-transformation/">3D æ•°å­¦åŸºç¡€-å‘é‡è¿ç®—åŸºç¡€å’ŒçŸ©é˜µå˜æ¢</a>è®°å½•äº†ä¸€äº›å‘é‡å’ŒçŸ©é˜µè¿ç®—çš„åŸºç¡€ï¼Œå’Œä¸€äº›çŸ©é˜µåŸºæœ¬çš„å˜æ¢ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦ä»‹ç»äº†å¹³ç§»å˜æ¢ã€é½æ¬¡åæ ‡ã€å¹³ç§»å’Œæ—‹è½¬å˜æ¢çš„ç»„åˆã€æ³•çº¿å˜æ¢å’Œæ”¹å˜åæ ‡ç³»ã€‚</p><span id="more"></span><h2 id="å¹³ç§»ï¼ˆTranslationï¼‰">å¹³ç§»ï¼ˆTranslationï¼‰</h2><p>å‰ä¸€ç¯‡æ–‡ç« æ€»ç»“äº†æ—‹è½¬ã€ç¼©æ”¾ç­‰å˜æ¢ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹å¹³ç§»å˜æ¢ã€‚</p><p>å‡å¦‚æˆ‘ä»¬éœ€è¦æŠŠ X åæ ‡ä» x å˜æ¢åˆ° x + 5ï¼Œæˆ‘ä»¬éœ€è¦æ„é€ ä»€ä¹ˆæ ·çš„å˜æ¢çŸ©é˜µæ¥å®ç°å¹³ç§»å‘¢ï¼Ÿ</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>z</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo stretchy="false" lspace="0em" rspace="0em">?</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><mn>5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}x&#x27; \\ y&#x27; \\ z&#x27; \end{bmatrix}=\begin{bmatrix} &amp; &amp; \\ &amp; ? &amp; \\ &amp; &amp; \end{bmatrix}\begin{bmatrix}x \\ y \\ z \end{bmatrix}=\begin{bmatrix}x+5 \\ y \\ z \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.85em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mclose">?</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.85em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-1.65em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='3.600em' viewBox='0 0 667 3600'><path d='M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v0 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>è¦æ³¨æ„çš„æ˜¯ï¼Œå˜æ¢çŸ©é˜µä¸èƒ½åŒ…å« xã€yã€z ç­‰åæ ‡å˜é‡ã€‚ä¾‹å¦‚è¦å¾—åˆ° x + 5ï¼Œé‚£ä¹ˆçŸ©é˜µçš„ç¬¬ä¸€ä¸ªè¡Œå‘é‡ä¸èƒ½æ˜¯ $$(1, 0, 5/z)$$ï¼Œå› ä¸ºå˜æ¢çš„ä¸€ä¸ªé‡è¦æ€§è´¨æ˜¯<strong>å˜æ¢çŸ©é˜µä¿æŒä¸å˜</strong>ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç»™çŸ©é˜µå¤šåŠ ä¸€ä¸ªç»´åº¦ wï¼Œä»¤å…¶ç­‰äº 1ï¼Œè¿™æ ·å°±ä¸éœ€è¦ç”¨åˆ° xã€yã€z è¿™äº›åæ ‡å˜é‡äº†ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>x</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>y</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>z</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msup><mi>w</mi><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><mn>5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}x&#x27; \\ y&#x27; \\ z&#x27; \\ w&#x27; \end{bmatrix}=\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 5\\ 0 &amp; 1 &amp; 0 &amp; 0\\ 0 &amp; 0 &amp; 1 &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}\begin{bmatrix}x \\ y \\ z \\ 1 \end{bmatrix}=\begin{bmatrix}x+5 \\ y \\ z \\ 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">5</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>è¿™é‡Œå¼•ç”¨åˆ°äº†<a href="https://www.wikiwand.com/zh/%E9%BD%90%E6%AC%A1%E5%9D%90%E6%A0%87">é½æ¬¡åæ ‡</a>çš„æ¦‚å¿µã€‚</p><h2 id="é½æ¬¡åæ ‡">é½æ¬¡åæ ‡</h2><blockquote><p>é½æ¬¡åæ ‡è¡¨ç¤ºæ˜¯è®¡ç®—æœºå›¾å½¢å­¦çš„é‡è¦æ‰‹æ®µä¹‹ä¸€ï¼Œå®ƒæ—¢èƒ½å¤Ÿç”¨æ¥æ˜ç¡®åŒºåˆ†å‘é‡å’Œç‚¹ï¼ŒåŒæ—¶ä¹Ÿæ›´æ˜“ç”¨äºè¿›è¡Œä»¿å°„å‡ ä½•å˜æ¢ã€‚<br>â€”â€” F.S. Hill, JR ã€Šè®¡ç®—æœºå›¾å½¢å­¦(OpenGL ç‰ˆ)ã€‹ä½œè€…</p></blockquote><p>æƒ³è¦äº†è§£ä¸‰ç»´åæ ‡æ˜¯æ€ä¹ˆæ ·æ‰©å±•åˆ°å››ç»´åæ ‡ï¼Œå¯ä»¥å…ˆäº†è§£ä¸‹äºŒç»´ç©ºé—´ä¸­çš„é½æ¬¡åæ ‡ $$(x, y, w)$$ã€‚</p><p>ä¸‹å›¾çš„ä¸‰ç»´åæ ‡ä¸­åœ¨ $$w=1$$ å¤„æœ‰ä¸€ä¸ªäºŒç»´å¹³é¢ï¼Œåˆ™è¯¥å¹³é¢ä¸Šçš„äºŒç»´å¹³é¢åæ ‡å¯ä»¥è¡¨ç¤ºä¸º $$(x, y, 1)$$ï¼Œå›¾ä¸­çš„ $$(1.0, 0.8, 1.0)$$ å°±æ˜¯ä¸€ä¸ªåœ¨è¯¥äºŒç»´å¹³é¢ä¸Šçš„ç‚¹ã€‚å¯¹äºä¸åœ¨äºŒç»´å¹³é¢ä¸Šçš„ç‚¹ï¼Œæˆ‘ä»¬åˆ™å°†å…¶æŠ•å½±åˆ°äºŒç»´å¹³é¢ä¸Šï¼Œæ‰€ä»¥é½æ¬¡åæ ‡ $$(x, y, w)$$ æ˜ å°„åˆ°å®é™…äºŒç»´å¹³é¢ä¸Šçš„ç‚¹ä¸º $$(x/w, y/w)$$ï¼Œä¾‹å¦‚å¦å¤–ä¸€ä¸ªç‚¹ $$(2.5, 2.0, 2.5)$$ åœ¨ $$w=1$$ äºŒç»´å¹³é¢æŠ•å½±å¾—åˆ°çš„ç‚¹ä¸º $$(1.0, 0.8)$$ã€‚</p><p><img src="http://img.frankorz.com/59c657c43c5dd.png" alt=""></p><p>åŒç†ï¼Œä¸‰ç»´ç©ºé—´çš„ç‚¹å¯ä»¥è®¤ä¸ºæ˜¯åœ¨å››ç»´ç©ºé—´ä¸­ $$w=1$$ çš„â€œå¹³é¢â€ä¸Šï¼Œæ‰€ä»¥é½æ¬¡åæ ‡ $$(x, y, z, w)$$ æ˜ å°„åˆ°ä¸‰ç»´ç©ºé—´ä¸Šçš„ç‚¹ä¸º $$(x/w, y/w, z/w)$$ï¼Œè¿™ä¹Ÿå°±æ˜¯ç‚¹çš„éé½æ¬¡åæ ‡ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>w</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mi mathvariant="normal">/</mi><mi>w</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mi mathvariant="normal">/</mi><mi>w</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>z</mi><mi mathvariant="normal">/</mi><mi>w</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}x \\ y \\ z \\ w \end{bmatrix}=\begin{bmatrix}x/w \\ y/w \\ z/w \\ 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>å››ç»´é½æ¬¡åæ ‡çš„ä»»ä½•å¸¸é‡ç¼©æ”¾ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåŒ…å«äº†ç‚¹çš„éé½æ¬¡åæ ‡æ‰€æœ‰å¯èƒ½çš„ç¼©æ”¾ï¼ˆè¿˜è®°å¾—ä¸Šé¢å›¾ä¸­çš„ä¸¤ä¸ªç‚¹å—ï¼Ÿï¼‰ï¼Œw å¯ä»¥ç­‰äºä»»ä½•æ•°å€¼ï¼š</p><ul><li>å¦‚æœ w &gt; 0ï¼Œè¿™è¡¨ç¤ºä¸€ä¸ªçœŸå®ç‰©ç†ä¸–ç•Œçš„ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ xï¼Œyï¼Œz ä¸‰ä¸ªåæ ‡é™¤ä»¥ w å¾—åˆ°è¿™ä¸ªçœŸå®çš„ç‚¹ã€‚</li><li>å¦‚æœ w = 0ï¼Œè¿™è¡¨ç¤ºä¸€ä¸ªæ— ç©·è¿œå¤„çš„ç‚¹ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸è¡¨ç¤ºä¸€ä¸ªå‘é‡ã€‚</li></ul><p>é½æ¬¡åæ ‡çš„ä¼˜ç‚¹ï¼š</p><ul><li>è®©æˆ‘ä»¬å¯ä»¥åŒæ—¶è€ƒè™‘æ‰€æœ‰çš„å˜æ¢ï¼Œå¦‚å¹³ç§»ã€è§‚å¯Ÿã€æ—‹è½¬ã€é€è§†æŠ•å½±ç­‰ã€‚ï¼ˆå¦‚æœæˆ‘ä»¬è¦åšç¼©æ”¾å˜æ¢ï¼Œå¯ä»¥ç›´æ¥å˜æ¢ xã€yã€z çš„å€¼å¹¶ä¸”ä¿æŒ w ä¸å˜ã€‚ï¼‰</li><li>æ•´ä¸ªæ¸²æŸ“ç®¡çº¿éƒ½ä»¥ 4 * 4 çš„é½æ¬¡åæ ‡çŸ©é˜µä»¥åŠå¯¹åº”çš„å››ç»´å‘é‡ä¸ºåŸºç¡€ï¼Œåªæœ‰åœ¨æœ€åè¦è¡¨ç¤ºçœŸå®ç‚¹çš„ä½ç½®çš„æ—¶å€™ï¼Œæ‰éœ€è¦æŠŠé½æ¬¡åæ ‡å˜ä¸ºéé½æ¬¡ã€‚ï¼ˆè®¡ç®—æœºé‡Œé™¤æ³•æ˜¯ä¸ªéå¸¸å¤æ‚çš„æ“ä½œï¼Œéœ€è¦èŠ±è´¹æ›´å¤šçš„æ—¶é—´å‘¨æœŸï¼Œä½†é½æ¬¡åæ ‡åªéœ€åœ¨æ¸²æŸ“ç®¡çº¿æœ€åä¸€æ­¥åšé™¤æ³•ã€‚ï¼‰</li><li>ä¸ä¼šå‡ºç°ç‰¹æ®Šæƒ…å†µã€‚æœ‰æ—¶è€ƒè™‘åˆ¤æ–­ç›´çº¿æ˜¯å¦ç›¸äº¤ï¼Œå½“å®ƒä»¬å¹³è¡Œçš„æ—¶å€™ï¼Œæœ‰äº›å…¬å¼ä¼šå‡ºé”™ï¼Œä½†æ— ç©·è¿œç‚¹å·²ç»åœ¨é½æ¬¡åæ ‡ä¸­çº¦å®šäº† w=0ã€‚</li><li>å››é˜¶çŸ©é˜µå’Œé½æ¬¡åæ ‡æ˜¯è®¡ç®—æœºå›¾å½¢è½¯ä»¶å’Œç¡¬ä»¶ä¸­æ™®éä½¿ç”¨çš„æ ‡å‡†ã€‚</li></ul><p>ä¸‹é¢è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç‚¹å‘é‡åŠ ä¸Šä¸€ä¸ªå¹³ç§»å˜é‡ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mi>T</mi><mi>P</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>z</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mo>+</mo><msub><mi>T</mi><mi>x</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mo>+</mo><msub><mi>T</mi><mi>y</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>z</mi><mo>+</mo><msub><mi>T</mi><mi>z</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mi>P</mi><mo>+</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">P{}&#x27;=TP=\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; T_{x}\\ 0 &amp; 1 &amp; 0 &amp; T_{y}\\ 0 &amp; 0 &amp; 1 &amp; T_{z}\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}\begin{bmatrix}x \\ y \\ z \\ 1 \end{bmatrix}=\begin{bmatrix}x+T_{x} \\ y+T_{y} \\ z+T_{z} \\ 1 \end{bmatrix}=P+T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord"></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span></span></p><p>æœ‰æ—¶å€™å¹³ç§»çŸ©é˜µ T å†…çš„å·¦ä¸Šè§’éƒ¨åˆ†ä¼šç›´æ¥ç”¨å•ä½çŸ©é˜µæ¥è¡¨ç¤ºï¼Œå…¶ä¸­ $$I_{3}$$ è¡¨ç¤º 3 * 3 çš„å•ä½çŸ©é˜µã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>I</mi><mn>3</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>T</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">T=\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; T_{x}\\ 0 &amp; 1 &amp; 0 &amp; T_{y}\\ 0 &amp; 0 &amp; 1 &amp; T_{z}\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}=\begin{bmatrix} I_{3} &amp; T\\ 0 &amp; 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><h2 id="ç»„åˆå¹³ç§»å’Œæ—‹è½¬å˜æ¢">ç»„åˆå¹³ç§»å’Œæ—‹è½¬å˜æ¢</h2><p>å½“è¦å¯¹ä¸€ä¸ªç‚¹è¿›è¡Œä¸¤ç§å˜æ¢çš„æ—¶å€™ï¼Œå°±ä¼šæ¶‰åŠåˆ°å˜æ¢é¡ºåºçš„é—®é¢˜ï¼Œæ˜¯å…ˆå¹³ç§»å†æ—‹è½¬ï¼Œè¿˜æ˜¯å…ˆæ—‹è½¬å†å¹³ç§»ï¼Ÿ</p><h3 id="å…ˆæ—‹è½¬å†å¹³ç§»">å…ˆæ—‹è½¬å†å¹³ç§»</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mrow><mo fence="true">(</mo><mi>T</mi><mi>R</mi><mo fence="true">)</mo></mrow><mi>P</mi><mo>=</mo><mi>M</mi><mi>P</mi><mo>=</mo><mi>R</mi><mi>P</mi><mo>+</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">P{}&#x27;=\left ( TR \right )P=MP=RP+T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord"></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">TR</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">MP</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span></span></p><p>å…¶ä¸­ T ä¸ºå¹³ç§»çŸ©é˜µï¼ŒR ä¸ºæ—‹è½¬çŸ©é˜µï¼ŒçŸ©é˜µ P é€šè¿‡å¹³ç§»å†æ—‹è½¬åå¾—åˆ°çŸ©é˜µ Pâ€™ã€‚æ³¨æ„ï¼Œåœ¨ä¸Šé¢çš„å…¬å¼ä¸­åšçš„æ˜¯æ ‡å‡†çš„å‘é‡è®¡ç®—ï¼Œåœ¨è®¡ç®—æ—¶æ‰ç”¨é½æ¬¡åæ ‡è®¡ç®—ã€‚</p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯åˆ—çŸ©é˜µï¼ŒçŸ©é˜µçš„é˜…è¯»é¡ºåºåº”è¯¥ä»å³åˆ°å·¦ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹äº TR è¿™ä¸ªæ—‹è½¬çŸ©é˜µè€Œè¨€ï¼Œï¼ˆTRï¼‰P è¿™ä¸ªæ“ä½œï¼Œå°±æ˜¯å¯¹çŸ©é˜µ P å…ˆ R æ—‹è½¬ï¼Œå†è¿›è¡Œ T å¹³ç§»ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>13</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>23</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>31</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>32</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>33</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>13</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>23</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>y</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>31</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>32</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>33</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>z</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>R</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>T</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M=\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; T_{x}\\ 0 &amp; 1 &amp; 0 &amp; T_{y}\\ 0 &amp; 0 &amp; 1 &amp; T_{z}\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}\begin{bmatrix} R_{11} &amp; R_{12} &amp; R_{13} &amp; 0\\ R_{21} &amp; R_{22} &amp; R_{23} &amp; 0\\ R_{31} &amp; R_{32} &amp; R_{33} &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}=\begin{bmatrix} R_{11} &amp; R_{12} &amp; R_{13} &amp; T_{x}\\ R_{21} &amp; R_{22} &amp; R_{23} &amp; T_{y}\\ R_{31} &amp; R_{32} &amp; R_{33} &amp; T_{z}\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}=\begin{bmatrix} R &amp; T \\ 0 &amp; 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">33</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">33</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>P</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>R</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>T</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>P</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>R</mi><mi>P</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>T</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mi>R</mi><mi>P</mi><mo>+</mo><mi>T</mi></mrow><annotation encoding="application/x-tex">MP=\begin{bmatrix} R &amp; T \\ 0 &amp; 1 \end{bmatrix}\begin{bmatrix} P &amp; 0 \\ 0 &amp; 1 \end{bmatrix}=\begin{bmatrix} RP &amp; T \\ 0 &amp; 1 \end{bmatrix}=RP+T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">MP</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RP</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span></span></p><h3 id="å…ˆå¹³ç§»å†æ—‹è½¬">å…ˆå¹³ç§»å†æ—‹è½¬</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><msup><mrow></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup><mo>=</mo><mo stretchy="false">(</mo><mi>R</mi><mi>T</mi><mo stretchy="false">)</mo><mi>P</mi><mo>=</mo><mi>M</mi><mi>P</mi><mo>=</mo><mi>R</mi><mo stretchy="false">(</mo><mi>P</mi><mo>+</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mi>R</mi><mi>P</mi><mo>+</mo><mi>R</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">P{}&#x27;=(RT)P=MP=R(P+T)=RP+RT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord"><span class="mord"></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">MP</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>13</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>23</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>31</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>32</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mn>33</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>T</mi><mi>x</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mrow><mn>3</mn><mo>Ã—</mo><mn>3</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mrow><mn>3</mn><mo>Ã—</mo><mn>3</mn></mrow></msub><msub><mi>T</mi><mrow><mn>3</mn><mo>Ã—</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mn>0</mn><mrow><mn>1</mn><mo>Ã—</mo><mn>3</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">M=\begin{bmatrix} R_{11} &amp; R_{12} &amp; R_{13} &amp; 0\\ R_{21} &amp; R_{22} &amp; R_{23} &amp; 0\\ R_{31} &amp; R_{32} &amp; R_{33} &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; T_{x}\\ 0 &amp; 1 &amp; 0 &amp; T_{x}\\ 0 &amp; 0 &amp; 1 &amp; T_{x}\\ 0 &amp; 0 &amp; 0 &amp; 1 \end{bmatrix}=\begin{bmatrix} R_{3\times 3} &amp; R_{3\times 3}T_{3\times 1}\\ 0_{1\times 3} &amp; 1 \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:4.8em;vertical-align:-2.15em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">33</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M403 1759 V84 H666 V0 H319 V1759 v1200 v1759 h347 v-84H403z M403 1759 V0 H319 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.65em;"><span style="top:-4.65em;"><span class="pstrut" style="height:6.8em;"></span><span style="width:0.667em;height:4.800em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='4.800em' viewBox='0 0 667 4800'><path d='M347 1759 V0 H0 V84 H263 V1759 v1200 v1759 H0 v84 H347zM347 1759 V0 H263 V1759 v1200 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.15em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">Ã—</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>P</mi><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>R</mi><mrow><mn>3</mn><mo>Ã—</mo><mn>3</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>R</mi><mrow><mn>3</mn><mo>Ã—</mo><mn>3</mn></mrow></msub><msub><mi>T</mi><mrow><mn>3</mn><mo>Ã—</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mn>0</mn><mrow><mn>1</mn><mo>Ã—</mo><mn>3</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>P</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>R</mi><mi>P</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>R</mi><mi>T</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mi>R</mi><mi>P</mi><mo>+</mo><mi>R</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">MP=\begin{bmatrix} R_{3\times 3} &amp; R_{3\times 3}T_{3\times 1}\\ 0_{1\times 3} &amp; 1 \end{bmatrix}\begin{bmatrix} P &amp; 0\\ 0 &amp; 1 \end{bmatrix}=\begin{bmatrix} RP &amp; RT\\ 0 &amp; 1 \end{bmatrix}=RP+RT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">MP</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">Ã—</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mbin mtight">Ã—</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RP</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span></span></span></p><p>å¯¹æ¯”å…ˆå¹³ç§»å†æ—‹è½¬çš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ä¸åŒçš„åœ°æ–¹æ˜¯ T å˜æˆäº† RTï¼Œä¹Ÿå°±æ˜¯è¯´æ—‹è½¬ä¹Ÿæ–½åŠ åœ¨äº†å¹³ç§»çš„æ–¹å‘ä¸Šã€‚åœ¨ä¸‹å›¾ä¸­å¯çœ‹åˆ°å°äººåœ¨ Y è½´æ–¹å‘å‘ç”Ÿäº†å¹³ç§»ï¼Œæ‰€ä»¥<strong>å…ˆæ—‹è½¬å†å¹³ç§»</strong>å¯èƒ½ä¼šæ›´å®¹æ˜“å¾—åˆ°ç†æƒ³çš„ç»“æœï¼Œä½†ä¸¤ç§å˜æ¢ç»„åˆéƒ½æ˜¯å¯è¡Œçš„ã€‚ï¼ˆåœ¨ gluLookAt çš„æ¨å¯¼ä¸­éœ€è¦å…ˆåšå¹³ç§»ï¼ŒgluLookAt æ˜¯ OpenGL ä¸­è§‚å¯Ÿå˜æ¢çš„ä¸€ä¸ªå…³é”®å‡½æ•°ã€‚ï¼‰</p><p><img src="http://img.frankorz.com/59c771e4d39f0.png" alt=""></p><h2 id="æ³•çº¿å˜æ¢">æ³•çº¿å˜æ¢</h2><p>åœ¨å›¾å½¢å­¦ä¸­æ›²é¢æ³•çº¿çš„æ–¹å‘ä¹Ÿå¾ˆé‡è¦ã€‚</p><h3 id="æ³•çº¿ï¼ˆNormalï¼‰">æ³•çº¿ï¼ˆNormalï¼‰</h3><blockquote><p>æ³•çº¿æ˜¯å§‹ç»ˆå‚ç›´äºæŸå¹³é¢çš„è™šçº¿ã€‚åœ¨æ•°å­¦å‡ ä½•ä¸­æ³•çº¿æŒ‡å¹³é¢ä¸Šå‚ç›´äºæ›²çº¿åœ¨æŸç‚¹çš„åˆ‡çº¿çš„ä¸€æ¡çº¿ã€‚<br>â€”â€”ç™¾åº¦ç™¾ç§‘</p></blockquote><p><img src="http://img.frankorz.com/59c6f8e40b986.png" alt=""></p><p>åˆ‡çº¿çš„ä½ç½®å®é™…ä¸Šå°±æ˜¯æ›²é¢ä¸Šçš„å‡ ä½•ä½ç½®ï¼Œå› æ­¤å®ƒä»¬çš„å˜æ¢çŸ©é˜µå’Œæ›²é¢çš„å˜æ¢çŸ©é˜µä¿æŒä¸€è‡´ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>t</mi><mo>â†’</mo><mi>M</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">t\rightarrow Mt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">Mt</span></span></span></span></span></p><p>è€Œæ³•çº¿å˜æ¢æ˜¯å¦å¤–ä¸€ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Qã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mo>â†’</mo><mi>Q</mi><mi>n</mi><mtext>Â Â </mtext><mi>Q</mi><mo>=</mo><mo stretchy="false">?</mo></mrow><annotation encoding="application/x-tex">n\rightarrow Qn~~Q=?</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mord mathnormal">n</span><span class="mspace nobreak">Â </span><span class="mspace nobreak">Â </span><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mclose">?</span></span></span></span></span></p><p>æ³•çº¿å¿…é¡»å‚ç›´äºè¿™äº›åˆ‡çº¿ï¼Œå› æ­¤æ³•çº¿å’Œåˆ‡çº¿çš„ç‚¹ç§¯ç­‰äº 0ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>n</mi><mi>T</mi></msup><mi>t</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n^{T}t=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>å˜æ¢åæ³•çº¿å’Œåˆ‡ç‚¹ä¾ç„¶äº’ç›¸å‚ç›´ï¼Œå¯å¾—ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>Q</mi><mi>n</mi><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mi>n</mi><mi>T</mi></msup><msup><mi>Q</mi><mi>T</mi></msup><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>M</mi><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">(Qn)^{T}=(n^{T}Q^{T})(Mt)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord mathnormal">n</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">Mt</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>åœ¨è¯¥ç­‰å¼ä¸­ï¼Œåªæœ‰å½“ $$Q^{T}M=I$$ æ—¶ï¼ŒçŸ©é˜µæ‰å®¹æ˜“æ±‚è§£ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>n</mi><mi>T</mi></msup><msup><mi>Q</mi><mi>T</mi></msup><mi>M</mi><mi>t</mi><mo>=</mo><mn>0</mn><mo>â‡’</mo><msup><mi>Q</mi><mi>T</mi></msup><mi>M</mi><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">n^{T} Q^{T} M t=0 \Rightarrow Q^{T} M=I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0858em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">Mt</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‡’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0858em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><p>æœ€åå¯å¾—æ³•çº¿å˜æ¢å…¬å¼ï¼Œå…¶ä¸­ $$M^{-1}$$ åªå¯¹å·¦ä¸Šè§’çš„ 3 * 3 çŸ©é˜µæ±‚é€†å’Œè½¬ç½®ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Q</mi><mo>=</mo><mo stretchy="false">(</mo><msup><mi>M</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">Q=(M^{-1})^{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>è¦è¿›è¡Œæ³•çº¿å˜æ¢ï¼Œè¿™ä¸ªå…¬å¼è¦æ–½åŠ åœ¨æ›²é¢ä¸Šæ‰€æœ‰çš„æ³•çº¿ä¸Šã€‚</p><p>å¦å¤–è¦æ³¨æ„çš„æ˜¯æ³•çº¿æ˜¯ä¸€ä¸ªå‘é‡ï¼Œä¸ä¼šéšç€å¹³ç§»è€Œæ”¹å˜ï¼Œå› æ­¤å¹³ç§»å˜æ¢å¯¹æ³•çº¿æ²¡å½±å“ã€‚</p><h2 id="æ”¹å˜åæ ‡ç³»">æ”¹å˜åæ ‡ç³»</h2><p><img src="http://img.frankorz.com/59c70f36b057b.jpg" alt=""></p><p>åœ¨å›¾ä¸­ï¼Œç‚¹ (2, 1) è¦å¹³ç§»åˆ° (1, 1) å¤„ï¼Œå¯ä»¥ç›´æ¥æŠŠç‚¹å‘å·¦å¹³ç§»ï¼Œä¹Ÿå¯ä»¥çœ‹æˆæ˜¯åæ ‡ç³»çš„æ”¹å˜ï¼Œå°†åæ ‡ç³»å‘å³å¹³ç§»ã€‚</p><p>å¼•å‡ºåæ ‡ç³»çš„æ¦‚å¿µæ˜¯å› ä¸ºï¼Œåœ¨å¾ˆå¤šæƒ…å½¢ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‰¹å®šçš„ç‰©ç†ä½ç½®åœ¨ä¸åŒçš„åæ ‡ç³»é—´å˜æ¢ï¼Œä¾‹å¦‚ä¸Šä¸€ç¯‡æ–‡ç« <a href="http://frankorz.com/2017/09/22/basic-of-vector-and-matrix-transformation/#%E6%AD%A3%E4%BA%A4%E5%9D%90%E6%A0%87%E7%B3%BB">æ­£äº¤åæ ‡ç³»</a>ä¸­æ‰€ä¸¾çš„ä¾‹å­ã€‚ä¸‹å›¾ä¸­ï¼Œæœ‰ä¸–ç•Œåæ ‡ç³»ã€ç›¸æœºåæ ‡ç³»å’Œç‚¹ Pã€‚</p><p><img src="http://img.frankorz.com/59c72df0ddea8.jpg" alt=""></p><p>ç‚¹ P åœ¨ä¸¤ä¸ªåæ ‡ç³»ä¸­çš„åæ ‡æ˜¯ä¸åŒçš„ï¼Œè€Œåœ¨å›¾å½¢å­¦ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸è¦åšè¿™æ ·çš„å˜æ¢ã€‚</p><p><img src="http://img.frankorz.com/59c72e3657a2a.jpg" alt=""></p><p>å¦‚æœæˆ‘ä»¬åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­æœ‰ä¸€ä¸ªç‚¹ï¼Œè¦è®¡ç®—å‡ºå…¶åœ¨ç›¸æœºåæ ‡ç³»ä¸­çš„ä½ç½®ï¼Œåˆ™è¦åŒæ—¶è€ƒè™‘ç›¸æœºæ—‹è½¬çš„åæ ‡ç³»ã€ç›¸æœºçš„ä½ç½®å’Œè§‚å¯Ÿçš„ä½ç½®ï¼ˆè§†ç‚¹ï¼‰ã€‚</p><p>åœ¨<a href="http://frankorz.com/2017/09/22/basic-of-vector-and-matrix-transformation/#%E4%BA%8C%E7%BB%B4%E7%A9%BA%E9%97%B4%E4%B8%8B%E7%9A%84%E6%97%8B%E8%BD%AC">äºŒç»´ç©ºé—´ä¸‹çš„æ—‹è½¬</a>ä¸­èƒ½çœ‹åˆ°äºŒç»´æ—‹è½¬çŸ©é˜µçš„æ¨å¯¼è¿‡ç¨‹ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¯ä»¥çœ‹ä½œåæ ‡ç³»å‘å³æ—‹è½¬äº†Î¸åº¦ï¼Œè¿™æ ·ç‚¹ P å°±åœ¨æ–°åæ ‡ç³»ä¸­åˆ°è¾¾ç›®æ ‡ä½ç½® Pâ€™ äº†ã€‚</p><p><img src="http://img.frankorz.com/59c73178738e1.jpg" alt=""></p><p>è¿™æ ·æˆ‘ä»¬å°±èƒ½é€šè¿‡æ—‹è½¬çŸ©é˜µæ¥å¾—åˆ°æ–°çš„ uv åæ ‡ç³»äº†ï¼</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>u</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>v</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>Î¸</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>âˆ’</mo><mi>s</mi><mi>i</mi><mi>n</mi><mi>Î¸</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mi>Î¸</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>Î¸</mi></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>y</mi></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix} u\\v \end{bmatrix}=\begin{bmatrix} cos\theta &amp; -sin\theta \\ sin\theta &amp; cos\theta \end{bmatrix}\begin{bmatrix} x\\y \end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">u</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">cos</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><hr><p>ä¹‹å‰è®¨è®ºçš„éƒ½æ˜¯ä¸‰ç»´çš„å˜æ¢ï¼Œä¸‹ç¯‡ç¬”è®°ä¼šä»‹ç»å›¾å½¢å­¦ä¸­çš„è§‚å¯Ÿï¼ˆViewingï¼‰ã€‚3D æ•°å­¦åŸºç¡€çŸ¥è¯†æœ‰ç‚¹æ¯ç‡¥ï¼Œä½†è¿™æ˜¯å…¥é—¨å›¾å½¢é­”æ³•çš„å¿…ç»ä¹‹è·¯ã€‚</p><h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://book.douban.com/subject/1400419/">3D æ•°å­¦åŸºç¡€ï¼šå›¾å½¢ä¸æ¸¸æˆå¼€å‘</a></li><li><a href="https://www.edx.org/course/computer-graphics-uc-san-diegox-cse167x-3">edx-Computer Graphics</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;2020å¹´7æœˆ26æ—¥æ›´æ–°ï¼š&lt;/strong&gt;&lt;br&gt;
æœ€è¿‘å¯¹å˜æ¢é‡æ–°å­¦ä¹ æ•´ç†äº†ï¼Œæ–‡ç« åœ¨ï¼š&lt;a href=&quot;http://frankorz.com/2020/07/26/transformation/&quot;&gt;å›¾å½¢å­¦å¸¸è§çš„å˜æ¢æ¨å¯¼&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡ç¬”è®°&lt;a href=&quot;http://frankorz.com/2017/09/22/basic-of-vector-and-matrix-transformation/&quot;&gt;3D æ•°å­¦åŸºç¡€-å‘é‡è¿ç®—åŸºç¡€å’ŒçŸ©é˜µå˜æ¢&lt;/a&gt;è®°å½•äº†ä¸€äº›å‘é‡å’ŒçŸ©é˜µè¿ç®—çš„åŸºç¡€ï¼Œå’Œä¸€äº›çŸ©é˜µåŸºæœ¬çš„å˜æ¢ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦ä»‹ç»äº†å¹³ç§»å˜æ¢ã€é½æ¬¡åæ ‡ã€å¹³ç§»å’Œæ—‹è½¬å˜æ¢çš„ç»„åˆã€æ³•çº¿å˜æ¢å’Œæ”¹å˜åæ ‡ç³»ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="å›¾å½¢å­¦" scheme="http://frankorz.com/categories/%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
    <category term="æ¸¸æˆå¼€å‘" scheme="http://frankorz.com/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/"/>
    
    <category term="3Dæ•°å­¦" scheme="http://frankorz.com/tags/3D%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
</feed>